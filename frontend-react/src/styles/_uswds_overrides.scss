@use "uswds-core" as *;

.usa-banner__inner,
.usa-banner__header--expanded .usa-banner__inner {
    margin-left: 0;
    margin-right: 0;
}

// NAVIGATION

.usa-overlay {
    z-index: 300;
}

.usa-nav__close {
    cursor: pointer;
}

.usa-nav__primary {
    margin-top: 0;
    margin-bottom: 0;
    list-style: none;
}

.usa-logo {
    margin: units(3) units(1.5) units(3) 0;
}

.usa-nav__request-account {
    font-weight: normal;
    text-decoration: underline;
}

.usa-nav__primary-item a.usa-button {
    color: color("primary");
}

// TABLE
.usa-table {
    width: 100%;

    @media (max-width: units("tablet")) {
        display: block;
        overflow-x: auto;
    }
}

// MODAL
.usa-modal__main {
    word-wrap: break-word;
    width: 100%;
}

// MEDIA: DESKTOP

@media (min-width: 64em) {
    .usa-header--basic .usa-nav-container {
        max-width: 100%;
        padding-left: 2rem;
        padding-right: 2rem;
        display: flex;
        flex-direction: row;
        align-items: stretch;
        justify-content: flex-start;
        align-content: flex-start;
    }

    .usa-header--basic .usa-navbar {
        width: auto;
    }

    .usa-header--basic .usa-nav {
        display: flex;
        flex-direction: row;
        justify-content: flex-start;
        padding: 0;
    }

    .usa-header--basic .usa-nav__primary {
        flex: 1;
        height: 100%;
    }

    .usa-header--basic .usa-nav__link {
        position: relative;
    }

    .usa-nav__primary > .usa-nav__primary-item > a {
        height: 100%;
        font-weight: normal;
        color: #2e2e2e;
        padding: units(3);
    }

    .usa-nav__primary button {
        height: 100%;
        padding: units(3);
        color: #2e2e2e;
        font-weight: normal;
    }

    .usa-nav__primary button[aria-expanded="true"] span {
        color: #ffffff;
    }

    .usa-nav__primary button span {
        font-weight: normal;
        color: #2e2e2e;
        vertical-align: super;
    }

    .usa-header--basic .usa-nav__link:hover::after {
        bottom: 0;
    }

    .usa-nav__primary > .usa-nav__primary-item.usa-current > a {
        color: #0b4778;
        padding: units(3);
    }

    .usa-nav__primary > .usa-current > a::after {
        background-color: color("primary");
        border-radius: 0;
        content: "";
        display: block;
        position: absolute;
        bottom: units(-0.5);
        height: 0.25rem;
        left: 1rem;
        right: 1rem;
    }

    .usa-header--basic .usa-nav__primary-item:last-of-type .usa-nav__submenu {
        left: 0;
    }

    .prime-user-account {
        text-align: right;
    }
}

// MEDIA: MOBILE

@media (max-width: 63.99em) {
    main {
        padding: 2rem 0;
        border-top: 1px solid #dfe1e2;
    }
    .usa-logo {
        margin-left: 1rem;
    }
    .usa-header--basic .usa-nav {
        align-items: start;
        width: 15rem;
    }
    .usa-header--basic .usa-navbar {
        width: 100%;
        z-index: 200;
        position: relative;
        border-bottom: none;
    }
    .usa-nav__primary {
        width: 100%;
    }
    .prime-user-account {
        width: 100%;
        text-align: left;
        margin-bottom: 2rem;
        margin-left: 1rem;
    }
    h1 {
        @include u-line-height("sans", 2);
    }
    h2 {
        @include u-line-height("sans", 3);
    }
    .usa-breadcrumb {
        margin-top: 0;
        padding-top: 0;
    }
}

// ComponentHeading as div, with header element inside
.usa-card__header {
    font-weight: bold;
}

/**
 * Reset ul style within cards due to usa-card-group.
 */
.usa-card-group {
    .usa-card {
        ul {
            list-style: disc;
        }
    }
}

/**
 * Allow table to auto size up to 'widescreen'.
 */
.usa-table-container--scrollable.usa-table-container--widescreen {
    .usa-table {
        @include u-maxw("widescreen");
        width: auto;
        table-layout: fixed;
        td {
            white-space: normal;
        }
    }
}

/**
 * Auto scale icons inside buttons.
 */
.usa-button {
    .usa-icon--auto {
        vertical-align: text-bottom;
        width: auto;
        height: 1rlh;
    }
}

/* Remove border */
.usa-header + main {
    border-top: none;
}

/* Grid-based form overrides */
.usa-form .grid-row {
    .usa-button,
    .usa-button-group li {
        margin-top: 0;
        margin-bottom: 0;
    }

    input {
        width: 100%;
        max-width: 100%;
    }
}

/* Constrain usa-process-list imgs */
.usa-process-list img {
    display: block;
    max-width: 15rem;
    @include u-border(1px, "base-lighter");
    margin-top: units(4);
}

/* Blockquotes */
blockquote {
    @include u-bg("base-lightest");
    @include u-padding-x(3);
    @include u-padding-y(1);
    @include u-margin(0);
}

/**
 * Apply usa-prose styling to all descendants
 */
html {
    @include typeset($theme-prose-font-family);

    @include usa-paragraph-style;
    @include usa-headings-styles;
    @include usa-list-styles;
    @include usa-table-styles;
}

header {
    /* Style as page heading */
    &:has(h1) {
        border-bottom: 1px solid color("base-lighter");
        padding-top: units(3);
        padding-bottom: units(4);
        margin-bottom: units(6);
    }
}

/* hr */
$theme-hr-border-color: "base-lighter";
hr {
    border: 1px solid color($theme-hr-border-color);
    /* TODO: Verify spacing in all uses of hr when enabling this
    @include u-margin-bottom(6);
    @include u-margin-top(6);
    */
}

.usa-link .usa-link:visited {
    .usa-button {
        color: white;
    }
    .usa-button .usa-button--outline {
        color: inherit;
    }
}

/* Do not decorate header non-button links */
h1,
h2,
h3,
h4,
h5,
h6,
header {
    & > .usa-link:not(.usa-button),
    & > span > .usa-link:not(.usa-button) {
        color: initial;
        text-decoration: none;

        &:visited {
            color: initial;
        }
    }
}

/* Apply .usa-card__heading automatically to header children */
.usa-card__header > * {
    @include typeset($theme-card-header-typeset);
    @include u-margin(0);
}

pre {
    background: rgba(201, 201, 201, 0.47);
    color: black;
    white-space: pre-wrap;
    padding: 1.33rem;
    border-radius: 1rem;
}

h3 img[src*="svg"] {
    vertical-align: text-top;
    margin-right: 5px;
    float: left;
}

.usa-modal-wrapper {
    &.is-visible {
        z-index: var(--rs-zindex-top); // default is 99999, want toast over top.
    }
}
