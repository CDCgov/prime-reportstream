name: ORU-R01-order-observation-timing
constants:
  hl7TQ1: '/PATIENT_RESULT/ORDER_OBSERVATION(%{orderIndex})/TIMING_QTY/TQ1'
elements:
  - name: tq1-set-id
    value: [ '1' ]
    hl7Spec: [ '%{hl7TQ1}-1' ]

  - name: tq1-start-of-service
    condition: '%resource.extension(%`rsext-start-of-service`).exists()'
    value: [ '%resource.extension(%`rsext-start-of-service`).value' ]
    hl7Spec: [ '%{hl7TQ1}-7' ]

  - name: tq1-end-of-service
    condition: '%resource.extension(%`rsext-end-of-service`).exists()'
    value: [ '%resource.extension(%`rsext-end-of-service`).value' ]
    hl7Spec: [ '%{hl7TQ1}-8' ]

  - name: tq1-service-priority
    condition: '%resource.extension(%`rsext-service-priority`).exists()'
    value: [ '%resource.extension(%`rsext-service-priority`).value.coding.code' ]
    hl7Spec: [ '%{hl7TQ1}-9-1' ]
