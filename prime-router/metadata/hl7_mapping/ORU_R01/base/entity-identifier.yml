name: ORU-R01-order
# Identifier to EI mapping
elements:
  - name: entity-identifier
    value: [ '%resource.value' ]
    hl7Spec: [ '%{entityIdFieldPath}-1' ]

  - name: entity-namespace-id
    condition: '%resource.system.exists()'
    value: [ '%resource.system.replace(''urn:id:'','''')' ]
    hl7Spec: [ '%{entityIdFieldPath}-2' ]

  - name: entity-universal-id
    condition: '%resource.extension(%`rsext-universal-id`).value is Oid'
    value: [ '%resource.extension(%`rsext-universal-id`).value.toString().replace(''urn:oid:'','''')' ]
    hl7Spec: [ '%{entityIdFieldPath}-3' ]

  - name: entity-id-system
    condition: '%resource.extension(%`rsext-universal-id`).value is Oid'
    value: [ '''ISO''' ]
    hl7Spec: [ '%{entityIdFieldPath}-4' ]
