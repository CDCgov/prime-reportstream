hl7Type: ORU_R01
hl7Version: 2.5.1
extends: ../../ORU_R01/ORU_R01-base
elements:
  #########################
  # ReportStream specific #
  #########################
  - value: [ '"CDC PRIME - Atlanta, Georgia (Dekalb)"' ]

  - value: [ '"2.16.840.1.114222.4.1.237821"' ]

  ######################################################
  # Source: ReportStream CO Requirements from settings #
  ######################################################
  - value: [ '''CO-ELR''' ]

  - condition: false

  - condition: false

  - value: [ '''CO''' ]

  - condition: false

  - condition: false

  # Reporting facility name: CO requested to keep original MSH-4 from HCA.  ReportStream hard codes it to
  # CDC PRIME^11D2030855^CLIA
  # TODO - How does this change for other senders?

  # TODO - These are HCA specific configs that should go in the sender transformation, but these may be CO specific too
  - resource: 'Bundle.entry.resource.ofType(DiagnosticReport)'
    condition: '%resource.count() > 0'
    schema: co-order-observation
    resourceIndex: orderIndex

  ###############################
  # Source: HCA CO Requirements #
  # TODO These could be done as sender transforms, but may not work for all states
  ###############################
  # Always replace ORC-10 with NULL for all OBR segments
  - condition: false

  # Always replace OBX-17 with NULL for all OBX segments
  - condition: false

  # Always replace SPM-5 with NULL for all Specimen segments
  - condition: false

  # Always replace SPM-6 with NULL for all Specimen segments
  - condition: false

  # Always replace SPM-7 with NULL for all Specimen segments
  - condition: false

  # Always replace SPM-8 with NULL for all Specimen segments
  - condition: false

  # Always replace SPM-9 with NULL for all Specimen segments
  - condition: false

  # Always replace SPM-11 with NULL for all Specimen segments
  - condition: false

  # Always replace SPM-21 with NULL for all Specimen segments
  - condition: false

  # Always replace SPM-24 with NULL for all Specimen segments
  - condition: false

  # Suppress all instances of the TQ1 segment
  - condition: false