constants:
  hl7PRTFieldPath: '%{hl7SegmentGroup}/PRT'
  hl7OBXFieldPath: '%{hl7SegmentGroup}/OBX'

elements:
  - name: participation-set-id
    value: [ '%orderIndex' ]
    hl7Spec: [ '%{hl7PRTFieldPath}-1' ]

  - name: observation-set-id
    value: [ '%orderIndex' ]
    hl7Spec: [ '%{hl7OBXFieldPath}-1' ]

  - name: placer-order-number
    resource: '%resource.udiCarrier.where(extension(%`rsext-hl7-use`).value = "device-udi-carrier")'
    constants:
      eiFieldPath: '%{hl7PRTFieldPath}(%{entityIdIndex})-10'
    schema: ../../datatypes/device-udiCarrier/EI
    resourceIndex: entityIdIndex
