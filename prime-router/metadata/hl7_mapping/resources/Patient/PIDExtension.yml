constants:
  hl7PIDField: '%{hl7SegmentGroup}/PID'

elements:
  - name: patient-sex
    resource: '%resource.extension.where(url = "PID.8").value'
    constants:
      cweField: '%{hl7PIDField}-8'
    schema: ../../datatypes/codeableConcept/CWE

  - name: patient-account-number
    resource: '%resource.extension.where(url = "PID.18").value'
    constants:
      cxField: '%{hl7PIDField}-18(%{cxIndex})'
    schema: ../../datatypes/identifier/CX
    resourceIndex: cxIndex

  - name: multiple-birth-indicator
    hl7Spec: [ '%{hl7PIDField}-24' ]
    value: [ '%resource.extension.where(url = "PID.24").value' ]

  - name: multiple-birth-indicator
    hl7Spec: [ '%{hl7PIDField}-30' ]
    value: [ '%resource.extension.where(url = "PID.30").value',
    ]

  - name: identity-reliability-code
    resource: '%resource.extension.where(url = "PID.32").value'
    resourceIndex: cweIndex
    constants:
      cweField: '%{hl7PIDField}-32(%{cweIndex})'
    schema: ../../datatypes/codeableConcept/CWE

  - name: production-class-code
    resource: '%resource.extension.where(url = "PID.38").value'
    resourceIndex: cweIndex
    constants:
      cweField: '%{hl7PIDField}-38(%{cweIndex})'
    schema: ../../datatypes/codeableConcept/CWE