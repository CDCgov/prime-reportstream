elements:

  - name: pv1-set-id
    value: [ '"1"' ]
    hl7Spec: [ '%{hl7PV1Field}-1' ]

  - name: pv1-patient-class
    resource: '%resource.class.extension(%`rsext-pv1-2-patient-class`).value'
    schema: ../../datatypes/codeableConcept/CWE
    constants:
      cweField: '%{hl7PV1Field}-2'

  - name: pv1-assigned-patient-location
    resource: '%resource.location.where(extension(%`rsext-hl7-use`).value = "assigned-patient-location").location.resolve()'
    schema: ../Location/PL/PL
    constants:
      hl7PLField: '%{hl7PV1Field}-3'

  - name: pv1-admission-type
    resource: '%resource.type'
    schema: ../../datatypes/codeableConcept/CWE
    constants:
      cweField: '%{hl7PV1Field}-4'

  - name: pv1-preadmit-number
    resource: '%resource.hospitalization.preAdmissionIdentifier'
    schema: ../../datatypes/identifier/CX
    constants:
      cxField: '%{hl7PV1Field}-5'

  - name: pv1-assigned-patient-location
    resource: '%resource.location.where(extension(%`rsext-hl7-use`).value = "prior-patient-location").location.resolve()'
    schema: ../Location/PL/PL
    constants:
      hl7PLField: '%{hl7PV1Field}-6'

  - name: pv1-attending-doctor
    resource: '%resource.participant.where(individual.resolve().extension(%`rsext-hl7v2Name`).value = "pv1-7-attending-doctor").individual.resolve()'
    schema: ../Practitioner/XCN
    resourceIndex: xcnIndex
    constants:
      hl7XCNField: '%{hl7PV1Field}-7(%{xcnIndex})'

  - name: pv1-referring-doctor
    resource: '%resource.participant.where(individual.resolve().extension(%`rsext-hl7v2Name`).value = "pv1-8-referring-doctor").individual.resolve()'
    schema: ../Practitioner/XCN
    resourceIndex: xcnIndex
    constants:
      hl7XCNField: '%{hl7PV1Field}-8(%{xcnIndex})'

  - name: pv1-consulting-doctor
    resource: '%resource.participant.where(individual.resolve().extension(%`rsext-hl7v2Name`).value = "pv1-9-referring-doctor").individual.resolve()'
    schema: ../Practitioner/XCN
    resourceIndex: xcnIndex
    constants:
      hl7XCNField: '%{hl7PV1Field}-9(%{xcnIndex})'

  - name: pv1-assigned-patient-location
    resource: '%resource.serviceType'
    schema: ../../datatypes/codeableConcept/CWE
    constants:
      cweField: '%{hl7PV1Field}-10'

  - name: pv1-assigned-patient-location
    resource: '%resource.location.where(extension(%`rsext-hl7-use`).value = "temporary-location").location.resolve()'
    schema: ../Location/PL/PL
    constants:
      hl7PLField: '%{hl7PV1Field}-11'

  - name: pv1-admission-type
    resource: '%resource.hospitalization.reAdmission'
    schema: ../../datatypes/codeableConcept/CWE
    constants:
      cweField: '%{hl7PV1Field}-13'

  - name: pv1-admit-source
    resource: '%resource.hospitalization.admitSource'
    schema: ../../datatypes/codeableConcept/CWE
    constants:
      cweField: '%{hl7PV1Field}-14'

  - name: pv1-admit-source
    resource: '%resource.hospitalization.specialCourtesy'
    schema: ../../datatypes/codeableConcept/CWE
    resourceIndex: specialCourtesyIndex
    constants:
      cweField: '%{hl7PV1Field}-16(%{specialCourtesyIndex})'

  - name: pv1-consulting-doctor
    resource: '%resource.participant.where(individual.resolve().extension(%`rsext-hl7v2Name`).value = "pv1-17-admitting-doctor").individual.resolve()'
    schema: ../Practitioner/XCN
    resourceIndex: cxIndex
    constants:
      hl7XCNField: '%{hl7PV1Field}-17(%{cxIndex})'

  - name: pv1-visit-number
    resource: '%resource.identifier.where(extension(%`rsext-hl7-use`).value = "visit-number")'
    schema: ../../datatypes/identifier/CX
    resourceIndex: cxIndex
    constants:
      cxField: '%{hl7PV1Field}-19(%{cxIndex})'

  - name: pv1-discharge-disposition
    resource: '%resource.hospitalization.dischargeDisposition'
    schema: ../../datatypes/codeableConcept/CWE
    constants:
      cweField: '%{hl7PV1Field}-36'

  - name: pv1-discharged-to-location
    resource: '%resource.hospitalization.destination.resolve()'
    schema: ../Location/DLD
    constants:
      hl7DLDField: '%{hl7PV1Field}-37'

  - name: pv1-diet-preference
    resource: '%resource.hospitalization.dietPreference'
    schema: ../../datatypes/codeableConcept/CWE
    constants:
      cweField: '%{hl7PV1Field}-38'

  - name: pv1-pending-location
    resource: '%resource.location.where(extension(%`rsext-hl7-use`).value = "pending-location").location.resolve()'
    schema: ../Location/PL/PL
    constants:
      hl7PLField: '%{hl7PV1Field}-42'

  - name: pv1-prior-temporary-location
    resource: '%resource.location.where(extension(%`rsext-hl7-use`).value = "prior-temporary-location").location.resolve()'
    schema: ../Location/PL/PL
    constants:
      hl7PLField: '%{hl7PV1Field}-43'

  - name: pv1-admit-datetime
    value: [ '%resource.period.start.extension(%`rsext-hl7v2-date-time`).value' ]
    hl7Spec: [ '%{hl7PV1Field}-44' ]

  - name: pv1-discharge-datetime
    value: [ '%resource.period.end.extension(%`rsext-hl7v2-date-time`).value' ]
    hl7Spec: [ '%{hl7PV1Field}-45' ]

  - name: pv1-alternate-visit-id
    resource: '%resource.identifier.where(extension(%`rsext-hl7-use`).value = "alternate-visit-id")'
    schema: ../../datatypes/identifier/CX
    resourceIndex: cxIndex
    constants:
      cxField: '%{hl7PV1Field}-50(%{cxIndex})'

  - name: pv1-service-episode-description
    value: [ '%resource.episodeOfCare.resolve().where(extension(%`rsext-hl7-use`).value = "service-episode").extension(%`rsext-episode-of-care-name`).value' ]
    hl7Spec: [ '%{hl7PV1Field}-53' ]

  - name: pv1-service-episode-identifier
    resource: '%resource.episodeOfCare.resolve().where(extension(%`rsext-hl7-use`).value = "service-episode").identifier'
    schema: ../../datatypes/identifier/CX
    constants:
      cxField: '%{hl7PV1Field}-54'

  - name: pv1-extension-values
    resource: '%resource.extension(%`rsext-pv1-patient-visit`)'
    schema: ./PV1Extension