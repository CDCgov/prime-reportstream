elements:

  - name: pl-point-of-care
    schema: PLBranch
    resource: '%resource'
    constants:
      hl7PLHDField: '%{hl7PLField}-1'
      physicalTypeCode: '"poc"'

  - name: pl-room
    schema: PLBranch
    resource: '%resource'
    constants:
      hl7PLHDField: '%{hl7PLField}-2'
      physicalTypeCode: '"ro"'

  - name: pl-bed
    schema: PLBranch
    resource: '%resource'
    constants:
      hl7PLHDField: '%{hl7PLField}-3'
      physicalTypeCode: '"bd"'

  - name: pl-facility
    schema: PLBranch
    resource: '%resource'
    constants:
      hl7PLHDField: '%{hl7PLField}-4'
      physicalTypeCode: '"si"'

  - name: pl-status
    value: [ '%resource.location.resolve().status' ]
    hl7Spec: [ '%{hl7PLField}-5' ]

  - name: pl-location-type
    value: [ '%resource.location.resolve().extension(%`rsext-pl6-person-location-type`).value' ]
    hl7Spec: [ '%{hl7PLField}-6' ]

  - name: pl-building
    schema: PLBranch
    resource: '%resource'
    constants:
      hl7PLHDField: '%{hl7PLField}-7'
      physicalTypeCode: '"bu"'

  - name: pl-floor
    schema: PLBranch
    resource: '%resource'
    constants:
      hl7PLHDField: '%{hl7PLField}-8'
      physicalTypeCode: '"lvl"'


  - name: pl-description
    value: [ '%resource.location.resolve().description' ]
    hl7Spec: [ '%{hl7PLField}-9' ]


  - name: pl-comprehensive-location-identifier
    resource: '%resource.location.resolve().identifier.where(extension(%`rsext-ei-assigner-organization-type`).exists())'
    schema: ../../../datatypes/identifier/EI
    constants:
      hl7EIField: '%{hl7PLField}-10'

  - name: pl-assigning-authority-for-location
    resource: '%resource.location.resolve().identifier.where(extension(%`rsext-ei-assigner-organization-type`).value = "organization").assigner.resolve()'
    schema: ../../Organization/HD
    constants:
      hl7HDField: '%{hl7PLField}-11'
