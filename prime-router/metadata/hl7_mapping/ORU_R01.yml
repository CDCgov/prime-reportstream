- fromFHIRPathResources: "Bundle.entry.resource.as(Provenance).entity.where(role='source')"
  valueTemplate: "{{resource.what.getResource().deviceName[0].name}}"
  toFieldTemplate: "/.MSH-3-1"

- fromFHIRPathResources: "Bundle.entry.resource.as(Provenance).entity.where(role='source')"
  valueTemplate: "{{resource.what.getResource().identifier[0].value}}"
  toFieldTemplate: "/.MSH-3-2"

- fromFHIRPathResources: "Bundle.entry.resource.as(Provenance).entity.where(role='source')"
  valueTemplate: "{{resource.what.getResource().identifier[0].system}}"
  toFieldTemplate: "/.MSH-3-3"

- fromFHIRPathResources: "Bundle.entry.resource.as(Provenance).first().agent.who"
  valueTemplate: "{{resource.getResource().name}}"
  toFieldTemplate: "/.MSH-4-1"

- fromFHIRPathResources: "Bundle.entry.resource.as(Provenance).first().agent.who"
  valueTemplate: "{{resource.getResource().identifier[0].value}}"
  toFieldTemplate: "/.MSH-4-2"

- fromFHIRPathResources: "Bundle.entry.resource.as(Provenance).first().agent.who"
  valueTemplate: ISO
  toFieldTemplate: "/.MSH-4-3"

- fromFHIRPathResources: "Bundle.entry.resource.as(MessageHeader).destination.name"
  valueTemplate: "{{resource.value}}"
  toFieldTemplate: "/.MSH-5-1"

- fromFHIRPathResources: "Bundle.entry.resource.as(MessageHeader).destination.endpoint"
  valueTemplate: "{{resource.value}}"
  toFieldTemplate: "/.MSH-6-1"

- fromFHIRPathResources: "Bundle.entry.resource.as(Provenance)"
  valueTemplate: "{{resource.recordedElement|datetime|formatDate(\"yyyyMMddHHmmss.SSSSZ\")}}"
  toFieldTemplate: "/.MSH-7-1"

- fromFHIRPathResources: "Bundle.entry.resource.as(MessageHeader).source"
  valueTemplate: "{{resource.name}}"
  toFieldTemplate: "/.SFT-1"

- fromFHIRPathResources: "Bundle.entry.resource.as(MessageHeader).source"
  valueTemplate: "{{resource.version}}"
  toFieldTemplate: "/.SFT-2"

- fromFHIRPathResources: "Bundle.entry.resource.as(MessageHeader).source"
  valueTemplate: "{{resource.software}}"
  toFieldTemplate: "/.SFT-3"

- fromFHIRPathResources: "Bundle.entry.resource.as(MessageHeader).source.extension('http://reportstream.cdc.gov/binaryIdentifier')"
  valueTemplate: "{{resource.value}}"
  toFieldTemplate: "/.SFT-4"

- fromFHIRPathResources: "Bundle.entry.resource.as(MessageHeader).source.extension('http://reportstream.cdc.gov/installDate')"
  valueTemplate: "{{resource.value}}"
  toFieldTemplate: "/.SFT-6"

- fromFHIRPathResources: "Bundle.entry.resource.as(Patient)"
  valueTemplate: "{{index + 1}}"
  toFieldTemplate: "/PATIENT_RESULT({{index}})/PATIENT/PID-1"

- fromFHIRPathResources: "Bundle.entry.resource.as(Patient)"
  valueTemplate: "{{resource.identifier[0].value}}"
  toFieldTemplate: "/PATIENT_RESULT/PATIENT/PID-3-1"

- fromFHIRPathResources: "Bundle.entry.resource.as(Observation)"
  valueTemplate: "{{index + 1}}"
  toFieldTemplate: "/PATIENT_RESULT/ORDER_OBSERVATION/OBSERVATION({{index}})/OBX-1"

- fromFHIRPathResources: "Bundle.entry.resource.as(Observation)"
  valueTemplate: "CWE"
  toFieldTemplate: "/PATIENT_RESULT/ORDER_OBSERVATION/OBSERVATION({{index}})/OBX-2"

- fromFHIRPathResources: "Bundle.entry.resource.as(Observation)"
  valueTemplate: "{{resource.code.coding[0].code}}"
  toFieldTemplate: "/PATIENT_RESULT/ORDER_OBSERVATION/OBSERVATION({{index}})/OBX-3-1"

- fromFHIRPathResources: "Bundle.entry.resource.as(Observation)"
  valueTemplate: "{{resource.code.text}}"
  toFieldTemplate: "/PATIENT_RESULT/ORDER_OBSERVATION/OBSERVATION({{index}})/OBX-3-2"

- fromFHIRPathResources: "Bundle.entry.resource.as(Observation)"
  valueTemplate: "{{resource.code.coding[0].system|hl7CodingSystem}}"
  toFieldTemplate: "/PATIENT_RESULT/ORDER_OBSERVATION/OBSERVATION({{index}})/OBX-3-3"