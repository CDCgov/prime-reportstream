resourceType: Device
id:
  type: STRING
  valueOf: "GeneralUtils.generateResourceId()"
  expressionType: JEXL

# The FHIR Device resource doesn't have any required fields.
# However we do not want empty Device resources.
# Thefore wherever Device is referenced make sure to verify the value is NOT_NULL.
identifier_1:
  valueOf: datatype/Identifier_var
  generateList: true
  expressionType: resource
  specs: EI
  vars:
    valueIn: EI.1 | HD.1
    systemCX: EI.2

identifier_2:
  valueOf: datatype/Identifier_var
  generateList: true
  expressionType: resource
  specs: EI
  vars:
    valueIn: HD.2
    code: HD.3
  constants:
    system: v2-0301

deviceName:
  condition: $deviceName NOT_NULL
  expressionType: nested
  generateList: true
  expressionsMap:
    name:
      type: STRING
      valueOf: $deviceName
      expressionType: HL7Spec
    type:
      type: STRING
      value: user-friendly-name