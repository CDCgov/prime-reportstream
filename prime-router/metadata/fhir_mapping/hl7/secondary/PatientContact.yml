name:
  valueOf: datatype/HumanName
  generateList: true
  expressionType: resource
  specs: NK1.2

relationship_1:
  condition: $valueIn NOT_NULL
  valueOf: datatype/CodeableConcept
  expressionType: resource
  generateList: true
  specs: NK1.3
  vars:
    valueIn: NK1.3

relationship_2:
  condition: $hl7System EQUALS HL70063 && $hl7Code EQUALS OTH
  valueOf: datatype/CodeableConcept
  expressionType: resource
  generateList: true
  vars:
    hl7Code: String, NK1.3.1
    hl7System: String, NK1.3.3
  constants:
    primaryCode: U
    primaryCodeSystem: PatientContactRelationship
    primaryCodeDisplay: Unknown

relationship_3:
  condition: $hl7System EQUALS HL70063 && $hl7Code EQUALS UNK
  valueOf: datatype/CodeableConcept
  expressionType: resource
  generateList: true
  vars:
    hl7Code: String, NK1.3.1
    hl7System: String, NK1.3.3
  constants:
    primaryCode: U
    primarySystem: PatientContactRelationship
    primaryDisplay: Unknown

address_1:
  generateList: true
  valueOf: datatype/Address
  expressionType: resource
  specs: NK1.4

telecom:
  condition: $valueIn NOT_NULL
  valueOf: datatype/ContactPoint
  generateList: true
  expressionType: resource
  specs: NK1.5
  vars:
    valueIn: NK1.5

telecom_business:
  condition: $valueIn NOT_NULL
  valueOf: datatype/ContactPoint
  generateList: true
  expressionType: resource
  specs: NK1.6
  vars:
    valueIn: NK1.6
  constants:
    use: work

organization:
  condition: $XADAddress NOT_NULL || $XONOrganization NOT_NULL
  expressionType: reference
  valueOf: datatypes/XON/Organization
  specs: NK1.13
  vars:
    XADAddress: NK1.32
    XONOrganization: NK1.13
