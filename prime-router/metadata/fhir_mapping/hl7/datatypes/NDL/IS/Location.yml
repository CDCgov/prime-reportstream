resourceType: Location

id:
  type: STRING
  valueOf: "GeneralUtils.generateResourceId()"
  expressionType: JEXL

identifier:
  generateList: true
  expressionType: nested
  expressionsMap:
    value:
      type: STRING
      valueOf: IS
      expressionType: HL7Spec

status:
  valueOf: $ndlLocationStatus
  type: STRING
  expressionType: HL7Spec

mode:
  value: 'instance'
  type: STRING

physicalType:
  valueOf: datatype/CodeableConcept_var
  expressionType: resource
  vars:
    code: $physicalTypeCode
  constants:
    system: "http://terminology.hl7.org/CodeSystem/location-physical-type"

partOf:
  valueOf: datatype/Reference
  expressionType: resource
  specs: $Location
  condition: $refLocation EQUALS $partOfId
  vars:
    refLocation: $BASE_VALUE, GeneralUtils.extractAttribute(refLocation,"$.identifier.value[0].value","String")


