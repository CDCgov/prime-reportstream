url:
  type: SYSTEM_URL
  value: obx-5-value-sn

extension:
  generateList: true
  expressionType: nested
  expressions:
    - vars:
        sn1: STRING, SN.1
      condition: $sn1 NOT_NULL
      expressionType: nested
      expressionsMap:
        url:
          type: SYSTEM_URL
          value: sn-1-comparator
        valueString:
          type: STRING
          expressionType: HL7Spec
          valueOf: SN.1
    - vars:
        sn2: STRING, SN.2
      condition: $sn2 NOT_NULL
      expressionType: nested
      expressionsMap:
        url:
          type: SYSTEM_URL
          value: sn-2-num1
        valueString:
          type: STRING
          expressionType: HL7Spec
          valueOf: SN.2
    - vars:
        sn3: STRING, SN.3
      condition: $sn3 NOT_NULL
      expressionType: nested
      expressionsMap:
        url:
          type: SYSTEM_URL
          value: sn-3-separator
        valueString:
          type: STRING
          expressionType: HL7Spec
          valueOf: SN.3
    - vars:
        sn4: STRING, SN.4
      condition: $sn4 NOT_NULL
      expressionType: nested
      expressionsMap:
        url:
          type: SYSTEM_URL
          value: sn-4-num2
        valueString:
          type: STRING
          expressionType: HL7Spec
          valueOf: SN.4