resourceType: Organization

id:
  type: STRING
  valueOf: "GeneralUtils.generateResourceId()"
  expressionType: JEXL

name:
  type: STRING
  valueOf: XON.1
  expressionType: HL7Spec

extension_1-nameType:
  condition: xon2 NOT_NULL
  generateList: true
  expressionType: nested
  vars:
    xon2: XON.2
  expressionsMap:
    url:
      type: SYSTEM_URL
      value: organization-name-type
    valueCoding:
      valueOf: datatypes/CWE/Coding
      generateList: true
      expressionType: resource
      specs: XON.2
      constants:
        hl7v2Name: organization-name-type-code


identifier_1:
  expressionType: nested
  vars:
    xon3: XON.3
    xon4: XON.4
    xon5: XON.5
    xon6: XON.6
    xon7: XON.7
    xon8: XON.8
    xon10: String, XON.10
  expressionsMap:
    value_1:
      condition: $xon10 NULL
      type: STRING
      expressionType: HL7Spec
      valueOf: XON.3
    value_2:
      condition: $xon10 NOT_NULL
      type: STRING
      expressionType: HL7Spec
      valueOf: XON.10
    type:
      condition: $xon7 NOT_NULL
      valueOf: datatype/CodeableConcept_var
      expressionType: resource
      vars:
        code: String, XON.7
      constants:
        system: "http://terminology.hl7.org/CodeSystem/v2-0203"
    extension_1-checkDigitSchema:
      condition: $xon5 NOT_NULL
      generateList: true
      expressionType: nested
      expressionsMap:
        url:
          type: SYSTEM_URL
          value: check-digit-scheme
        valueCode:
          valueOf: XON.5
          type: STRING
          expressionType: HL7Spec
    extension_2-checkDigit:
      condition: $xon4 NOT_NULL
      generateList: true
      expressionType: nested
      expressionsMap:
        url:
          type: SYSTEM_URL
          value: check-digit
        valueString:
          type: STRING
          expressionType: HL7Spec
          valueOf: XON.4
    extension_3-assigningAuthority:
      condition: $xon6 NOT_NULL
      generateList: true
      expressionType: resource
      valueOf: datatypes/HD/ExtensionAssigningAuthority
      specs: XON.6
    extension_4-location:
      condition: $xon8 NOT_NULL
      generateList: true
      expressionType: nested
      vars:
        xon8: String, XON.8
      expressionsMap:
        url:
          type: SYSTEM_URL
          value: identifier-location
        valueReference:
          expressionType: reference
          valueOf: datatypes/HD/Location
          specs: XON.8

extension_1-name-representation-code:
  condition: $value NOT_NULL
  generateList: true
  expressionType: nested
  vars:
    value: String, XON.9
  expressionsMap:
    url:
      type: SYSTEM_URL
      value: name-representation-code
    valueString:
      type: STRING
      expressionType: HL7Spec
      valueOf: XON.9

extension_2-xon3IdNumber:
  generateList: true
  expressionType: nested
  expressionsMap:
    url:
      type: SYSTEM_URL
      value: xon3-id-number
    valueString:
      expressionType: HL7Spec
      type: STRING
      valueOf: XON.3

extension_3-xon10OrganizationIdentifier:
  generateList: true
  expressionType: nested
  expressionsMap:
    url:
      type: SYSTEM_URL
      value: xon10-organization-identifier
    valueString:
      expressionType: HL7Spec
      type: STRING
      valueOf: XON.10

extension_hl7Use:
  generateList: true
  expressionType: nested
  condition: $xonOrganizationHL7Use NOT_NULL
  expressionsMap:
    url:
      type: SYSTEM_URL
      value: hl7-use
    valueString:
      type: STRING
      valueOf: $xonOrganizationHL7Use

contact:
  expressionType: nested
  expressionsMap:
    name:
      condition: $XPNHumanName NOT_NULL
      valueOf: datatypes/XPN/HumanName
      expressionType: resource
      generateList: true
      specs: $XPNHumanName
    telecom:
      condition: $XTNContactPoint NOT_NULL
      valueOf: datatypes/XTN/ContactPoint
      expressionType: resource
      generateList: true
      specs: $XTNContactPoint
    address:
      condition: $XADAddress NOT_NULL
      valueOf: datatypes/XAD/Address
      expressionType: resource
      generateList: true
      specs: $XADAddress