hl7Class: ca.uhn.hl7v2.model.v251.message.ORU_R01

extends: classpath:/metadata/hl7_mapping/ORU_R01/ORU_R01-base.yml
constants:
  PID: '/PATIENT_RESULT/PATIENT/PID'

elements:

  - name: xtn-use-code-from-system
    condition: '%resource.system = "email"'
    value: [ '"NET"' ]
    hl7Spec: [ '%{hl7TelecomPath}-2' ]

  - name: la-name-of-the-sender-application-Namespace-Id
    condition: 'true'
    value: [ '"CDC PRIME - Atlanta, Georgia (Dekalb)"' ]
    hl7Spec: [ 'MSH-3-1' ]

  - name: la-sender-application-Universal-Id
    condition: 'true'
    value: [ '"2.16.840.1.114222.4.1.237821"' ]
    hl7Spec: [ 'MSH-3-2' ]

  - name: la-sender-application-Universal-Id-Type
    condition: 'true'
    value: [ '"ISO"' ]
    hl7Spec: [ 'MSH-3-3' ]

  - name: la-name-of-the-receiving-application
    condition: 'true'
    value: [ '"LA-ELR"' ]
    hl7Spec: [ 'MSH-5-1' ]

  - name: la-receiving-application-universal-id
    condition: 'true'
    value: [ '"LA-ELR"' ]
    hl7Spec: [ 'MSH-5-2' ]

  - name: la-receiving-application-universal-id-type
    condition: 'true'
    value: [ '"ISO"' ]
    hl7Spec: [ 'MSH-5-3' ]

  - name: la-receiving-facility-namespace-ID
    condition: 'true'
    value: [ '"LADOH"' ]
    hl7Spec: [ 'MSH-6-1' ]

  - name: la-receiving-facility-universal-id
    condition: 'true'
    value: [ '"LADOH"' ]
    hl7Spec: [ 'MSH-6-2' ]

  - name: la-receiving-facility-universal-id-type
    condition: 'true'
    value: [ '"ISO"' ]
    hl7Spec: [ 'MSH-6-3' ]

  - name: la-patient-race-coding-system
    resource: 'Bundle.entry.resource.ofType(Patient).extension("http://ibm.com/fhir/cdm/StructureDefinition/local-race-cd").value.coding'
    condition: '%resource.code.exists()'
    value: [ '%resource.system.getCodingSystemMapping()' ]
    hl7Spec: [ '%{PID}-10-3' ]

  - name: la-patient-county-codes
    value: [ 'Bundle.entry.resource.ofType(Patient).address.district' ]
    hl7Spec: [ '/PATIENT_RESULT/PATIENT/PID-11-6' ]
    valueSet:
      values:
        Acadia: 22001
        Allen: 22003
        Ascension: 22005
        Assumption: 22007
        Avoyelles: 22009
        Beauregard: 22011
        Bienville: 22013
        Bossier: 22015
        Caddo: 22017
        Calcasieu: 22019
        Caldwell: 22021
        Cameron: 22023
        Catahoula: 22025
        Claiborne: 22027
        Concordia: 22029
        De Soto: 22031
        East Baton Rouge: 22033
        East Carroll: 22035
        East Feliciana: 22037
        Evangeline: 22039
        Franklin: 22041
        Grant: 22043
        Iberia: 22045
        Iberville: 22047
        Jackson: 22049
        Jefferson: 22051
        Jefferson Davis: 22053
        Lafayette: 22055
        Lafourche: 22057
        LaSalle: 22059
        Lincoln: 22061
        Livingston: 22063
        Madison: 22065
        Morehouse: 22067
        Natchitoches: 22069
        Orleans: 22071
        Ouachita: 22073
        Plaquemines: 22075
        Pointe Coupee: 22077
        Rapides: 22079
        Red River: 22081
        Richland: 22083
        Sabine: 22085
        St. Bernard: 22087
        St. Charles: 22089
        St. Helena: 22091
        St. James: 22093
        St. John the Baptist: 22095
        St. Landry: 22097
        St. Martin: 22099
        St. Mary: 22101
        St. Tammany: 22103
        Tangipahoa: 22105
        Tensas: 22107
        Terrebonne: 22109
        Union: 22111
        Vermilion: 22113
        Vernon: 22115
        Washington: 22117
        Webster: 22119
        West Baton Rouge: 22121
        West Carroll: 22123
        West Feliciana: 22125
        Winn: 22127