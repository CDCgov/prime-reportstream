# This is going to be DiagnosticReport
elements:
  - name: status
    constants:
      someString: blah blah
    resource: 'Bundle.entry.resource.ofType(DiagnosticReport)[0]'
    condition: '%resource.status.exists()'
    bundleProperty: '%resource.status'
    value: [ '"final"' ]
  - name: identifier
    constants:
      anotherString: hello
    resource: 'Bundle.entry.resource.ofType(DiagnosticReport)[0]'
    condition: '%resource.identifier.exists()'
    bundleProperty: '%resource.identifier'
    value: [ '"CO"' ]
    valueSet:
      values:
        tableName: "zip-code-data"
        keyColumn: "state"
        valueColumn: "state_abbr"
      type: "lookupValueset"

  - name: observations
    resource: 'Bundle.entry.resource.ofType(DiagnosticReport)[0].result'
    resourceIndex: observationIndex
    schema: observation