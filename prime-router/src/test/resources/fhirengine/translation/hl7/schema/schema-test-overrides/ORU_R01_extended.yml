hl7Class: ca.uhn.hl7v2.model.v251.message.ORU_R01
extends: 'classpath:/fhirengine/translation/hl7/schema/schema-test-overrides/ORU_R01.yml'
constants:
  # This exercises overriding a constant from the base schema
  otherConstant: '"overriddenOtherConstant"'
elements:

  # This exercises overriding a schema element setting the value to a constant in the base schema
  - name: message-header-10
    value: [ '%baseConstant' ]
    hl7Spec: [ 'MSH-10' ]

  # This exercises overriding a schema element with a hardcoded value from the base schema
  - name: message-header-11
    value: ['"override"']
    hl7Spec: ['MSH-11']

  # This exercises that an element in the overriding schema is executed last.  Here the element does
  # not exist in the base, but does set the same HL7 value
  - name: override-message-header-14
    value: [ '"not14"' ]
    hl7Spec: [ 'MSH-14' ]

  # This exercises overriding a nested element from the base of an overriding schema
  - name: software-2
    value: [ '"not1"' ]
    hl7Spec: [ 'SFT-2' ]

  - name: software-3
    constants:
      fieldThree: '4'

  - name: software-5
    value: [ '%sftConstant' ]
    hl7Spec: [ 'SFT-5' ]

  - name: xon-1
    value: [ '%resource.system' ]
    hl7Spec: [ '%{xonPath}-2' ]

  - name: xon-3
    condition: 'Bundle.entry.resource.ofType(MessageHeader).event.code="xon3"'
    value: [ '%resource.code' ]
    hl7Spec: [ '%{xonPath}-3' ]