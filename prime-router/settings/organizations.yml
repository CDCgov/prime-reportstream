---
#
# This file runs in environments (ie. your desktop) where the 'localhost' host name resolves
#
- name: simple_report
  description: PRIME's POC testing app
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: simple_report
      topic: covid-19
      customerStatus: active
      schemaName: primedatainput/pdi-covid-19
      format: CSV
    - name: hl7test
      organizationName: simple_report
      topic: covid-19
      customerStatus: active
      schemaName: hl7/test-covid-19
      format: HL7
    - name: csvuploader
      organizationName: simple_report
      topic: covid-19
      customerStatus: active
      schemaName: upload-covid-19
      format: CSV

- name: waters
  description: Test Sender from Waters
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: waters
      topic: covid-19
      customerStatus: active
      schemaName: waters/waters-covid-19
      format: CSV
  receivers:
    - name: "giang"
      organizationName: "waters"
      topic: "covid-19"
      customerStatus: active
      translation:
        schemaName: "waters/waters-covid-19"
        format: "CSV"
        defaults: { }
        nameFormat: "STANDARD"
        receivingOrganization: null
        type: "CUSTOM"
      jurisdictionalFilter:
        - "hasAtLeastOneOf(waters_submitter, sender_id)"
        - "orEquals(patient_state, GH, ordering_facility_state, GH)"
      qualityFilter:
        - "allowAll()"
      reverseTheQualityFilter: false
      deidentify: true
      timing:
        operation: "MERGE"
        numberPerDay: 1440
        initialTime: "00:00"
        timeZone: "EASTERN"
        maxReportCount: 10000
      description: ""
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      externalName: null
    - name: "giang2"
      organizationName: "waters"
      topic: "covid-19"
      customerStatus: active
      translation:
        schemaName: "waters/waters-covid-19"
        format: "CSV"
        defaults: { }
        nameFormat: "STANDARD"
        receivingOrganization: null
        type: "CUSTOM"
      jurisdictionalFilter:
        - "hasAtLeastOneOf(waters_submitter, sender_id)"
        - "orEquals(patient_state, GH, ordering_facility_state, GH)"
      qualityFilter:
        - "allowAll()"
      reverseTheQualityFilter: false
      deidentify: true
      timing:
        operation: "MERGE"
        numberPerDay: 1440
        initialTime: "00:00"
        timeZone: "EASTERN"
        maxReportCount: 10000
      description: ""
      transport:
        storageName: "PartnerStorage"
        containerName: "hhsprotect"
        type: "BLOBSTORE"
      externalName: null

- name: upload
  description: Sender who can test uploads to the Upload Tool.
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: upload
      topic: covid-19
      customerStatus: active
      schemaName: upload-covid-19
      format: CSV

- name: bzdlabs
  description: BZD labs
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: bzdlabs
      topic: covid-19
      customerStatus: active
      schemaName: upload-covid-19
      format: CSV

- name: innolitics
  description: Innolitics
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: innolitics
      topic: covid-19
      customerStatus: testing
      schemaName: csv-otc-covid-19
      format: CSV

- name: osang-otc
  description: Osang Healthcare - OTC Testing
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: osang-otc
      topic: covid-19
      customerStatus: active
      schemaName: csv-otc-covid-19
      format: CSV

- name: vaulthealth
  description: Vault Health
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: vaulthealth
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/hl7-ingest-covid-19-training
      format: CSV

- name: safehealth
  description: SAFE - Safe Health Systems
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: safehealth
      topic: covid-19
      customerStatus: active
      schemaName: direct/safehealth-covid-19
      format: CSV

- name: cue
  description: Cue
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: cue
      topic: covid-19
      customerStatus: active
      schemaName: direct/cue-covid-19
      format: CSV

- name: inbios
  description: InBios International, Inc.
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: inbios
      topic: covid-19
      customerStatus: active
      schemaName: direct/inbios-covid-19
      format: CSV

- name: imagemover
  description: ImageMover
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: imagemover
      topic: covid-19
      customerStatus: active
      schemaName: direct/imagemover-covid-19
      format: CSV

- name: anavasidx
  description: AnavasiDx
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: anavasidx
      topic: covid-19
      customerStatus: active
      schemaName: direct/anavasidx-covid-19
      format: CSV

- name: strac
  description: STRAC POC testing app
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: strac
      topic: covid-19
      customerStatus: active
      schemaName: strac/strac-covid-19
      format: CSV

- name: tpca
  description: TPCA Receiver organization via A6
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: tpca
      topic: covid-19
      customerStatus: active
      schemaName: tpca/tpca-covid-19
      format: CSV

- name: careevolution
  description: Care Evolution
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: careevolution
      topic: covid-19
      customerStatus: active
      schemaName: direct/careevolution-covid-19
      format: HL7

- name: hca
  description: HCA
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: hca
      topic: covid-19
      customerStatus: active
      schemaName: direct/hca-covid-19
      format: HL7

- name: abbott
  description: Abbott
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: abbott
      topic: covid-19
      customerStatus: active
      schemaName: direct/abbott-covid-19
      format: CSV

- name: lifepoint
  description: LifePoint (Ellume data)
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: lifepoint
      topic: covid-19
      customerStatus: active
      schemaName: hl7/lifepoint-covid-19
      format: HL7

- name: prescryptive
  description: Prescryptive Health
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: prescryptive
      topic: covid-19
      customerStatus: active
      schemaName: hl7/prescryptive-covid-19
      format: HL7

- name: primary
  description: Primary Diagnostics, Inc. (primary.health)
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: primary
      topic: covid-19
      customerStatus: active
      schemaName: hl7/primary-covid-19
      format: HL7

- name: hcintegrations
  description: Healthcare Integrations
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: hcintegrations
      topic: covid-19
      customerStatus: active
      schemaName: hl7/hcintegrations-covid-19
      format: HL7

- name: intrivo
  description: Intrivo
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: intrivo
      topic: covid-19
      customerStatus: active
      schemaName: hl7/hl7-ingest-covid-19-prod
      format: HL7

- name: limsabc-nova
  description: Nova Labnetics
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: limsabc-nova
      topic: covid-19
      customerStatus: active
      schemaName: hl7/hl7-ingest-covid-19-prod
      format: HL7

- name: neurolab
  description: Neurolab
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: neurolab
      topic: covid-19
      customerStatus: active
      schemaName: hl7/hl7-ingest-covid-19-prod
      format: HL7

- name: reopenlab
  description: Reopenlab
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: reopenlab
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/hl7-ingest-covid-19-training
      format: HL7

- name: reopenlab
  description: Reopenlab
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: reopenlab
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/hl7-ingest-covid-19-training
      format: HL7

- name: geneus-diagnostics
  description: Geneus Diagnostics Las Vagas
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: geneus-diagnostics
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/hl7-ingest-covid-19-training
      format: HL7

- name: clxhealth
  description: CLX Health
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: clxhealth
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/hl7-ingest-covid-19-training
      format: HL7

- name: providence
  description: Providence
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: providence
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/hl7-ingest-covid-19-training
      format: HL7

- name: genabio
  description: Genabio
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: genabio
      topic: covid-19
      customerStatus: active
      schemaName: direct/genabio-covid-19
      format: CSV

- name: color-labs
  description: Color Labs
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: color-labs
      topic: covid-19
      customerStatus: active
      schemaName: hl7/color-labs-covid-19
      format: HL7

- name: "naval-health-clinic-lemoore"
  description: "Naval Health Clinic - Lemoore"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "naval-health-clinic-lemoore"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "johns_hopkins"
  description: "Johns Hopkin's / IHS school testing program"
  jurisdiction: "FEDERAL"
  senders:
    - name: "default"
      organizationName: "johns_hopkins"
      format: "CSV"
      topic: "covid-19"
      customerStatus: active
      schemaName: "AZ/az-ihs-covid-19"

- name: reddyfmc-la
  description: iPatientCare CSV lab report schema, Reddy Family Medical Clinic, LA
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: reddyfmc-la
      topic: covid-19
      customerStatus: active
      schemaName: iPatientCare/reddyfmc-la-covid-19
      format: CSV

- name: guc-la
  description: Experity CSV lab report schema, Greenlight Urgent Care, LA
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: guc-la
      topic: covid-19
      customerStatus: active
      schemaName: experity/guc-la-covid-19
      format: CSV

- name: cuc-al
  description: Experity CSV lab report schema, Compass Urgent Care, AL
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: cuc-al
      topic: covid-19
      customerStatus: active
      schemaName: experity/cuc-al-covid-19
      format: CSV

- name: all-in-one-health-ca
  description: All-In-One Health CSV lab report schema, California
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: all-in-one-health-ca
      topic: covid-19
      customerStatus: active
      schemaName: non-standard/all-in-one-health-ca-covid-19
      format: CSV

- name: csvuploadertest
  description: Sender for Testing Manual Upload of the RS Standard CSV File
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: csvuploadertest
      topic: covid-19
      customerStatus: testing
      schemaName: upload-covid-19
      format: CSV

- name: "corebiolabs-oh"
  description: "Core Bio Labs, Ohio - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "corebiolabs-oh"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "warrior-dx-co"
  description: "Warrior Diagnostics (CO) - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "warrior-dx-co"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "sdilabs-ca"
  description: "SDI Labs - CA"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "sdilabs-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: sourcebioscience_ca
  description: Source BioScience CSV COVID schema, California
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: sourcebioscience_ca
      topic: covid-19
      customerStatus: testing
      schemaName: upload-covid-19
      format: CSV

- name: "cdphe-csvuploader"
  description: "CDPHE (CO) - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "cdphe-csvuploader"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: vivature-tx
  description: Vivature CSV COVID schema
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: vivature-tx
      topic: covid-19
      customerStatus: testing
      schemaName: upload-covid-19
      format: CSV

- name: cadph-csvuploadertest
  description: CA-DPH CSV Uploader Test
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: cadph-csvuploadertest
      topic: covid-19
      customerStatus: testing
      schemaName: upload-covid-19
      format: CSV

- name: pmg
  description: Premier Medical Group USA
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: pmg
      topic: covid-19
      customerStatus: active
      schemaName: direct/pmg-covid-19
      format: CSV

- name: anavasidx
  description: AnavasiDx
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: anavasidx
      topic: covid-19
      customerStatus: active
      schemaName: direct/anavasidx-covid-19
      format: CSV

- name: mns
  description: Medical Network Solutions
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: mns
      topic: covid-19
      customerStatus: active
      schemaName: hl7/mns-covid-19
      format: HL7

- name: xtrava
  description: Xtrava Health
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: xtrava
      topic: covid-19
      customerStatus: active
      schemaName: direct/direct-otc-covid-19
      format: CSV

- name: detect
  description: Detect
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: detect
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/detect-covid-19
      format: HL7

- name: signetic
  description: Signetic
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: signetic
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/signetic-covid-19
      format: HL7

- name: mayo-clinic
  description: The Mayo Clinic
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: mayo-clinic
      topic: monkeypox
      customerStatus: active
      schemaName: monkeypox
      allowDuplicates: true
      format: HL7

- name: aegis
  description: Aegis Sciences Corporation
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: aegis
      topic: monkeypox
      customerStatus: active
      schemaName: monkeypox
      allowDuplicates: false
      format: HL7

- name: az-phd
  description: Arizona PHD
  jurisdiction: STATE
  stateCode: AZ
  receivers:
    - name: elr-prod
      organizationName: az-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - "orEquals(patient_state, AZ, ordering_facility_state, AZ)"
      translation:
        type: CUSTOM
        schemaName: az/az-covid-19
        format: CSV
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: ARIZONA
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: elr-secondary
      organizationName: az-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - "orEquals(patient_state, AZ, ordering_facility_state, AZ)"
      reverseTheQualityFilter: true
      translation:
        type: CUSTOM
        schemaName: az/az-covid-19
        format: CSV
        nameFormat: standard_secondary
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: ARIZONA
      # Download only, no transport

- name: pima-az-phd
  description: Pima County, Arizona PHD
  jurisdiction: COUNTY
  stateCode: AZ
  countyName: Pima
  receivers:
    - name: elr
      organizationName: pima-az-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - filterByCounty(AZ, Pima)
      translation:
        type: CUSTOM
        schemaName: az/pima-az-covid-19
        format: CSV
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute.  NOTE:  In production, they want deliveries once a day at 8am MST.
        initialTime: 00:00
        timeZone: ARIZONA
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: ca-scc-phd
  description: Public Health Department - Santa Clara, California
  jurisdiction: COUNTY
  stateCode: CA
  countyName: Santa Clara
  receivers:
    - name: elr-download
      organizationName: ca-scc-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_state, CA)", "matches(ordering_facility_county, Santa Clara)" ]
      deidentify: false
      translation:
        type: CUSTOM
        schemaName: ca/ca-scc-covid-19
        format: CSV
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 09:15 # A little after the 12am EASTERN reports from simple report
        timeZone: EASTERN

- name: co-phd
  description: Colorado Department of Public Health and Environment
  jurisdiction: STATE
  stateCode: CO
  filters: # default filters applied for all receivers of this organization, if not overridden by receiver filter
    - topic: "full-elr"
      jurisdictionalFilter:
        - "%performerState = 'CO' or %patientState = 'CO'"
  receivers:
    - name: "elr-hl7"
      organizationName: "co-phd"
      topic: "covid-19"
      customerStatus: "active"
      translation: !<HL7>
        schemaName: "covid-19"
        useTestProcessingMode: false
        useBatchHeaders: true
        receivingApplicationName: "CO-ELR"
        receivingApplicationOID: null
        receivingFacilityName: "CO"
        receivingFacilityOID: null
        messageProfileId: null
        replaceValue: { }
        replaceValueAwithB:
          MSH-6:
            - '*': "CO"
          MSH-5:
            - '*': "CO-ELR"
          MSH-3:
            - '*': "CDC PRIME - Atlanta, Georgia (Dekalb)^2.16.840.1.114222.4.1.237821^ISO"
        reportingFacilityName: "CDC PRIME"
        reportingFacilityId: "11D2030855"
        reportingFacilityIdType: null
        suppressQstForAoe: false
        suppressHl7Fields: null
        suppressAoe: false
        defaultAoeToUnknown: false
        replaceUnicodeWithAscii: false
        useBlankInsteadOfUnknown: null
        truncateHDNamespaceIds: true
        truncateHl7Fields: null
        usePid14ForPatientEmail: true
        convertTimestampToDateTime: null
        cliaForOutOfStateTesting: null
        cliaForSender: { }
        phoneNumberFormatting: "STANDARD"
        suppressNonNPI: false
        processingModeCode: null
        replaceDiiWithOid: null
        applyOTCDefault: false
        useOrderingFacilityName: "STANDARD"
        valueSetOverrides: { }
        nameFormat: "STANDARD"
        receivingOrganization: null
        convertPositiveDateTimeOffsetToNegative: false
        stripInvalidCharsRegex: null
        convertDateTimesToReceiverLocalTime: false
        useHighPrecisionHeaderDateTimeFormat: false
        type: "HL7"
      jurisdictionalFilter:
        - "orEquals(ordering_facility_state, CO, patient_state, CO)"
      qualityFilter: [ "filterOutNegativeAntigenTestType(test_result, 260385009, 260415000, 895231008)" ]
      routingFilter: [ ]
      processingModeFilter: [ ]
      reverseTheQualityFilter: false
      deidentify: false
      deidentifiedValue: ""
      timing:
        operation: "MERGE"
        numberPerDay: 4
        initialTime: "09:30"
        timeZone: "EASTERN"
        maxReportCount: 100
        whenEmpty:
          action: "NONE"
          onlyOncePerDay: false
      transport: !<SFTP>
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timeZone: null
      dateTimeFormat: "OFFSET"
    - name: "full-elr-hl7"
      organizationName: "co-phd"
      topic: "full-elr"
      customerStatus: "active"
      translation: !<HL7>
        schemaName: "metadata/hl7_mapping/STLTs/CO/CO"
        useTestProcessingMode: false
        useBatchHeaders: true
        type: "HL7"
        receivingApplicationName: "CO-ELR"
        receivingFacilityName: "CO"
      qualityFilter: [ ]
      routingFilter: [ ]
      processingModeFilter: [ ]
      deidentify: false
      deidentifiedValue: ""
      timing:
        operation: "MERGE"
        numberPerDay: 1440
        initialTime: "09:30"
        timeZone: "EASTERN"
        maxReportCount: 100
        whenEmpty:
          action: "NONE"
          onlyOncePerDay: false
      transport: !<SFTP>
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timeZone: null
      dateTimeFormat: "OFFSET"
    - name: elr-secondary
      organizationName: co-phd
      topic: covid-19
      customerStatus: active
      reverseTheQualityFilter: true
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: CO-ELR
        receivingFacilityName: CO
        replaceValueAwithB:
          MSH-6:
            - '*': "CO"
          MSH-5:
            - '*': "CO-ELR"
          MSH-3:
            - '*': "CDC PRIME - Atlanta, Georgia (Dekalb)^2.16.840.1.114222.4.1.237821^ISO"
        reportingFacilityName: CDC PRIME
        reportingFacilityId: 11D2030855
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: CENTRAL
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: elr-test
      organizationName: co-phd
      topic: covid-19
      customerStatus: active
      reverseTheQualityFilter: false
      processingModeFilter:
        - "matches(processing_mode_code,T,D)"
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: CO-ELR
        receivingFacilityName: CO
        replaceValueAwithB:
          MSH-6:
            - '*': "CO"
          MSH-5:
            - '*': "CO-ELR"
          MSH-3:
            - '*': "CDC PRIME - Atlanta, Georgia (Dekalb)^2.16.840.1.114222.4.1.237821^ISO"
        reportingFacilityName: CDC PRIME
        reportingFacilityId: 11D2030855
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: CENTRAL
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: "co-routt-county-phd"
  description: "Routt County Public Health Department"
  jurisdiction: "COUNTY"
  stateCode: "CO"
  countyName: "Routt"
  receivers:
    - name: elr-download
      organizationName: co-routt-county-phd
      topic: covid-19
      jurisdictionalFilter: [ "matches(ordering_facility_state, CO)", "matches(ordering_facility_county, Routt)" ]
      translation:
        type: CUSTOM
        schemaName: direct/direct-covid-19-stlt
        format: CSV
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 09:15 # A little after the 12am EASTERN reports from simple report
        timeZone: EASTERN

- name: "co-san-juan-basin-phd"
  description: "San Juan Basin Public Health Department"
  jurisdiction: "STATE"
  stateCode: "CO"
  countyName: null
  receivers:
    - name: elr-download
      organizationName: co-san-juan-basin-phd
      topic: covid-19
      jurisdictionalFilter: [ "matches(ordering_facility_state, CO)", "matches(ordering_facility_county, Archuleta, La Plata)" ]
      translation:
        type: CUSTOM
        schemaName: direct/direct-covid-19-stlt
        format: CSV
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 09:15 # A little after the 12am EASTERN reports from simple report
        timeZone: EASTERN

- name: tx-phd
  description: Texas Department of State Health Services
  jurisdiction: STATE
  stateCode: TX
  receivers:
    - name: elr-test
      organizationName: tx-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - "matches(ordering_facility_state, TX)"
        - "matches(processing_mode_code, T)"
      translation:
        type: HL7
        useBatchHeaders: false
        receivingApplicationName: NEDSS
        receivingFacilityName: TX-ELR
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: elr-debug
      organizationName: tx-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - "matches(ordering_facility_state, TX)"
        - "matches(processing_mode_code, D)"
      translation:
        type: HL7
        useBatchHeaders: false
        receivingApplicationName: NEDSS
        receivingFacilityName: TX-ELR
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: fl-phd
  description: Florida Department of Health
  jurisdiction: STATE
  stateCode: FL
  receivers:
    - name: elr
      organizationName: fl-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - matches(ordering_facility_state, FL)
      deidentify: false
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: FDOH-ELR
        receivingApplicationOID: 2.16.840.1.114222.4.3.3.8.1.3
        receivingFacilityName: FDOH
        receivingFacilityOID: 2.16.840.1.114222.1.3645
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: gu-doh
  description: Guam Department of Health
  jurisdiction: STATE
  stateCode: GU
  receivers:
    - name: elr
      organizationName: gu-doh
      topic: covid-19
      customerStatus: active
      deidentify: false
      jurisdictionalFilter:
        - matches(ordering_facility_state, GU)
      routingFilter:
        - matches(test_result_status, F, C, P)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: GUDOH
        receivingFacilityName: GUDOH
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: CHAMORRO
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: vt-doh
  description: Vermont Department of Health
  jurisdiction: STATE
  stateCode: VT
  receivers:
    - name: elr
      organizationName: vt-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - "orEquals(ordering_facility_state, VT, patient_state, VT)"
      deidentify: false
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: NBS
        receivingApplicationOID: 2.16.840.1.114222.4.1.185.1
        receivingFacilityName: VDH
        receivingFacilityOID: 2.16.840.1.114222.4.1.185
        suppressAoe: true
        truncateHl7Fields: OBX-23-1
        truncateHDNamespaceIds: true
        usePid14ForPatientEmail: true
        suppressNonNPI: true
        suppressHl7Fields: OBX-18-1, OBX-18-2, OBX-18-3, OBX-18-4, OBX-15-3, MSH-19-1, MSH-19-2, MSH-19-3
        replaceValue:
          MSH-3-1: CDC PRIME - Atlanta,
        convertPositiveDateTimeOffsetToNegative: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: CENTRAL
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: elr-secondary
      organizationName: vt-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - "orEquals(ordering_facility_state, VT, patient_state, VT)"
      reverseTheQualityFilter: true
      deidentify: false
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: NBS
        receivingApplicationOID: 2.16.840.1.114222.4.1.185.1
        receivingFacilityName: VDH
        receivingFacilityOID: 2.16.840.1.114222.4.1.185
        suppressAoe: true
        truncateHl7Fields: OBX-23-1
        truncateHDNamespaceIds: true
        usePid14ForPatientEmail: true
        suppressNonNPI: true
        suppressHl7Fields: OBX-18-1, OBX-18-2, OBX-18-3, OBX-18-4, OBX-15-3, MSH-19-1, MSH-19-2, MSH-19-3
        replaceValue:
          MSH-3-1: CDC PRIME - Atlanta,
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: CENTRAL
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: elr-otc
      organizationName: vt-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - "orEquals(ordering_facility_state, VT, patient_state, VT)"
      qualityFilter:
        - "AtLeastOneHasValue(Y, test_authorized_for_otc, test_authorized_for_home, test_authorized_for_unproctored)"
      reverseTheQualityFilter: false
      deidentify: false
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: NBS
        receivingApplicationOID: 2.16.840.1.114222.4.1.185.1
        receivingFacilityName: VDH
        receivingFacilityOID: 2.16.840.1.114222.4.1.185
        applyOTCDefault: true
        suppressAoe: true
        truncateHl7Fields: OBX-23-1
        truncateHDNamespaceIds: true
        usePid14ForPatientEmail: true
        suppressNonNPI: true
        suppressHl7Fields: OBX-18-1, OBX-18-2, OBX-18-3, OBX-18-4, OBX-15-3, MSH-19-1, MSH-19-2, MSH-19-3
        replaceValue:
          MSH-3-1: CDC PRIME - Atlanta,
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: CENTRAL
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP


- name: nd-doh
  description: North Dakota Department of Health
  jurisdiction: STATE
  stateCode: ND
  receivers:
    - name: elr
      organizationName: nd-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - matches(ordering_facility_state, ND)
      deidentify: false
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: Maven
        receivingApplicationOID: 2.16.840.1.114222.4.3.4.34.1.1
        receivingFacilityName: NDDOH
        receivingFacilityOID: 2.16.840.1.113883.3.89.109.100.1.3
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: CENTRAL
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: la-doh
  description: Louisiana Department of Health
  jurisdiction: STATE
  stateCode: LA
  receivers:
    - name: elr
      organizationName: la-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - "orEquals(ordering_facility_state, LA, patient_state, LA)"
      translation:
        type: HL7
        useBatchHeaders: true
        receivingOrganization: laoph
        receivingApplicationName: LA-ELR
        receivingFacilityName: LADOH
        nameFormat: aphl
        useTestProcessingMode: false
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: CENTRAL
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: oh-doh
  description: Ohio Department of Health
  jurisdiction: STATE
  stateCode: OH
  receivers:
    - name: elr
      organizationName: oh-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - matches(ordering_facility_state, OH)
      translation:
        type: HL7
        useBatchHeaders: true
        suppressQstForAoe: true
        receivingApplicationName: OHDOH
        receivingApplicationOID: 2.16.840.1.114222.4.1.3674
        receivingFacilityName: OHDOH
        receivingFacilityOID: 2.16.840.1.114222.4.1.3674
        reportingFacilityName: CDC PRIME
        reportingFacilityId: 36DSMP9999
        nameFormat: ohio
        suppressHl7Fields: OBX-23-11, MSH-19-1, MSH-19-2, MSH-19-3
        # turn off UNK and ASKU for this field
        useBlankInsteadOfUnknown: patient_race
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: oh-ccchd-doh
  description: Ohio Department of Health - Clark County
  jurisdiction: COUNTY
  stateCode: OH
  countyName: Clark
  receivers:
    - name: elr-download
      organizationName: oh-ccchd-doh
      topic: covid-19
      customerStatus: testing
      jurisdictionalFilter:
        - matches(ordering_facility_state, OH)
        - matches(ordering_facility_county, Clark)
      translation:
        type: HL7
        useBatchHeaders: true
        suppressQstForAoe: true
        receivingApplicationName: OHDOH
        receivingApplicationOID: 2.16.840.1.114222.4.1.3674
        receivingFacilityName: OHDOH
        receivingFacilityOID: 2.16.840.1.114222.4.1.3674
        reportingFacilityName: CDC PRIME
        reportingFacilityId: 36DSMP9999
        nameFormat: ohio
        suppressHl7Fields: OBX-23-11
        # turn off UNK and ASKU for this field
        useBlankInsteadOfUnknown: patient_race
      timing:
        operation: MERGE
        numberPerDay: 1 # Per day
        initialTime: 00:05
        timeZone: EASTERN

- name: nm-doh
  description: New Mexico Department of Health
  jurisdiction: STATE
  stateCode: NM
  filters:
    - topic: "covid-19"
      jurisdictionalFilter:
        - "orEquals(ordering_facility_state, NM, patient_state, NM)"
      qualityFilter: null
      routingFilter:
        - "DoesNotMatch(sender_id, pmg)" #do not send PMG until NM completes validation
      processingModeFilter: null
  receivers:
    - name: elr
      externalName: Primary
      organizationName: nm-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ ]
      translation:
        type: HL7
        useBatchHeaders: true
        receivingOrganization: elr
        receivingApplicationName: NMDOH
        receivingApplicationOID: 2.16.840.1.113883.3.5364
        receivingFacilityName: NMDOH
        receivingFacilityOID: 2.16.840.1.113883.3.5364
        truncateHDNamespaceIds: true
        nameFormat: aphl_light
        # turn off UNK and ASKU for this field
        useBlankInsteadOfUnknown: patient_race
        suppressHl7Fields: OBX-17-1
        useOrderingFacilityName: "NCES"
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: MOUNTAIN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: mt-doh
  description: Montana Department of Health
  jurisdiction: STATE
  stateCode: MT
  receivers:
    - name: elr
      organizationName: mt-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(patient_state, MT, ordering_facility_state, MT)
      translation:
        type: HL7
        useBatchHeaders: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: MOUNTAIN
    - name: elr-csv
      organizationName: mt-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(patient_state, MT, ordering_facility_state, MT)
      translation:
        type: CUSTOM
        format: CSV
        schemaName: mt/mt-covid-19-csv
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: MOUNTAIN

- name: tx-doh
  description: Texas Department of Health
  jurisdiction: STATE
  stateCode: TX
  receivers:
    - name: elr
      organizationName: tx-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, TX, patient_state, TX)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: NEDSS
        receivingFacilityName: TX-ELR
        defaultAoeToUnknown: true
        nameFormat: texas
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: CENTRAL

- name: nj-doh
  description: New Jersey Department of Health
  jurisdiction: STATE
  stateCode: NJ
  receivers:
    - name: elr
      organizationName: nj-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, NJ, patient_state, NJ)
        - matches(processing_mode_code, P)
      routingFilter:
        - matches(test_result_status, F, C, P)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: ELRS
        receivingApplicationOID: 2.16.840.1.113883.3.1299.5.1.6.1
        receivingFacilityName: NJDOH
        receivingFacilityOID: 2.16.840.1.113883.3.1299
        truncateHDNamespaceIds: true
        truncateHl7Fields: OBX-23-1, ORC-12-3, OBR-16-3, OBX-17-1
        reportingFacilityName: CDC PRIME
        reportingFacilityId: 11D2030855
        suppressHl7Fields: "OBX-18-1,OBX-18-2,OBX-18-3"
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN
    - name: elr-test
      organizationName: nj-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, NJ, patient_state, NJ)
        - matches(processing_mode_code, T)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: ELRS
        receivingApplicationOID: 2.16.840.1.113883.3.1299.5.1.6.1
        receivingFacilityName: NJDOH
        receivingFacilityOID: 2.16.840.1.113883.3.1299
        truncateHDNamespaceIds: true
        truncateHl7Fields: OBX-23-1, ORC-12-3, OBR-16-3, OBX-17-1
        suppressHl7Fields: "OBX-18-1,OBX-18-2,OBX-18-3"
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN

- name: mn-doh
  description: Minnesota Department of Health
  jurisdiction: STATE
  stateCode: MN
  receivers:
    - name: elr
      organizationName: mn-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, MN, patient_state, MN)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: MEDSS-ELR
        receivingApplicationOID: 2.16.840.1.114222.4.3.3.6.2.1
        receivingFacilityName: MN DOH
        receivingFacilityOID: 2.16.840.1.114222.4.1.3661
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN
    - name: elr-mpx
      organizationName: mn-doh
      topic: monkeypox
      routingFilter:
        - "AllowAll()"
      processingModeFilter:
        - "AllowAll()"
      qualityFilter:
        - "AllowAll()"
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, MN, patient_state, MN)
      translation:
        type: HL7
        schemaName: monkeypox
        useBatchHeaders: true
        receivingApplicationName: MEDSS-ELR
        receivingApplicationOID: 2.16.840.1.114222.4.3.3.6.2.1
        receivingFacilityName: MN DOH
        receivingFacilityOID: 2.16.840.1.114222.4.1.3661
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN

- name: wi-dph
  description: Wisconsin Department of Public Health
  jurisdiction: STATE
  stateCode: WI
  receivers:
    - name: elr
      organizationName: wi-dph
      topic: covid-19
      customerStatus: testing
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, WI, patient_state, WI)
        - matches(processing_mode_code, P)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: vCMR
        receivingApplicationOID: 2.16.840.1.113883.3.33.4.2.2
        receivingFacilityName: WEDSS
        receivingFacilityOID: 2.16.840.1.113883.3.33
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN
    - name: elr-test
      organizationName: wi-dph
      topic: covid-19
      customerStatus: testing
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, WI, patient_state, WI)
        - matches(processing_mode_code, T)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: vCMR
        receivingApplicationOID: 2.16.840.1.113883.3.33.4.2.2
        receivingFacilityName: WEDSS
        receivingFacilityOID: 2.16.840.1.113883.3.33
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN

- name: tn-doh
  description: Tennessee Department of Health
  jurisdiction: STATE
  stateCode: TN
  receivers:
    - name: elr
      organizationName: tn-doh
      topic: covid-19
      customerStatus: testing
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, TN, patient_state, TN)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: tdh-ELR
        receivingApplicationOID: 2.16.840.1.113883.3.773.1.1.3
        receivingFacilityName: TDH
        receivingFacilityOID: 2.16.840.1.113883.3.773
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN

- name: ms-doh
  description: Mississippi Department of Health
  jurisdiction: STATE
  stateCode: MS
  receivers:
    - name: elr
      organizationName: ms-doh
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, MS, patient_state, MS)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: MSDH-ELR
        receivingFacilityName: MSDOH
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN

- name: nc-dph
  description: North Carolina Division of Public Health
  jurisdiction: STATE
  stateCode: NC
  receivers:
    - name: elr
      organizationName: nc-dph
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, NC, patient_state, NC)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: NCDPH NCEDSS
        receivingApplicationOID: 2.16.840.1.113883.3.591.3.1
        receivingFacilityName: NCDPH EDS
        receivingFacilityOID: 2.16.840.1.113883.3.591.1.1
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN

- name: de-dph
  description: Delaware Division of Public Health
  jurisdiction: STATE
  stateCode: DE
  receivers:
    - name: elr
      organizationName: de-dph
      topic: covid-19
      customerStatus: testing
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, DE, patient_state, DE)
      qualityFilter:
        - "doesNotMatch(processing_mode_code,T,D)"
        - "hasAtLeastOneOf(order_test_date,specimen_collection_date_time,test_result_date)"
        - "hasAtLeastOneOf(patient_street,patient_zip_code,patient_phone_number,patient_email)"
        - "hasValidDataFor(message_id,equipment_model_name,specimen_type,test_result,patient_last_name,patient_first_name,patient_dob,ordering_provider_id)"
        - "isValidCLIA(testing_lab_clia)"
      translation:
        type: HL7
        useBatchHeaders: true
        replaceValueAwithB:
          ORC-12-2:
            - ' ': "Dr. Gregory"
          ORC-12-3:
            - ' ': "Warner"
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN

- name: "ca-dph"
  description: "California Department of Public Health"
  jurisdiction: "STATE"
  stateCode: "CA"
  countyName: null
  filters: null
  senders: [ ]
  receivers:
    - name: "elr"
      organizationName: "ca-dph"
      topic: "covid-19"
      customerStatus: "active"
      translation: !<HL7>
        schemaName: "covid-19"
        useTestProcessingMode: false
        useBatchHeaders: true
        receivingApplicationName: null
        receivingApplicationOID: null
        receivingFacilityName: null
        receivingFacilityOID: null
        messageProfileId: null
        replaceValue:
          OBX-17-2: "OBX-17-9"
          OBX-23-1: "OBX-23-1,-,OBX-23-10"
        replaceValueAwithB:
          MSH-6:
            - '*': "CDPH_CID^2.16.840.1.114222.4.1.214104^ISO"
          MSH-5:
            - '*': "CDPH CA REDIE^2.16.840.1.114222.4.3.3.10.1.1^ISO"
          MSH-3:
            - '*': "CDC PRIME - Atlanta^2.16.840.1.114222.4.1.237821^ISO"
        reportingFacilityName: null
        reportingFacilityId: null
        reportingFacilityIdType: null
        suppressQstForAoe: false
        suppressHl7Fields: "OBX-17-1, OBX-18-1, OBX-18-2, OBX-18-3, OBX-18-4"
        suppressAoe: true
        defaultAoeToUnknown: false
        replaceUnicodeWithAscii: false
        useBlankInsteadOfUnknown: null
        truncateHDNamespaceIds: true
        truncateHl7Fields: "OBX-23-1, ORC-21-1, OBR-16-1, OBR-16-3, ORC-12-1, ORC-12-3, PID-5-1, PID-5-2,\
        \ PID-5-3"
        usePid14ForPatientEmail: false
        convertTimestampToDateTime: null
        cliaForOutOfStateTesting: "CDPH000075"
        cliaForSender:
          biovisiondx-il: "CDPH000087"
          newport-childrens-hospital-ca: "CDPH000087"
          covidclinic-org: "CDPH000087"
          simple_report.default: "CDPH000085"
          touroedu-ca: "CDPH000087"
          toprankdx-ca: "CDPH000087"
          uhg-mn: "CDPH000087"
          vivature-tx: "CDPH000087"
          simple_report: "CDPH000085"
          sourcebioscience_ca: "CDPH000087"
          pcl-ca: "CDPH000087"
          jrslab-ca: "CDPH000087"
          ImageMover: "CDPH000077"
          stemexpress-ca: "CDPH000087"
          sdilabs-ca: "CDPH000087"
          quantgene-ca: "CDPH000087"
          hollywoodsmiles-ca: "CDPH000087"
          cadph-csvuploadertest: "CDPH000087"
          corebiolabs-oh: "CDPH000087"
          kern-county-phsd-ca: "CDPH000087"
          covidchecktoday-co: "CDPH000087"
          kwokmandx-ca: "CDPH000087"
          desertoasishealthcare-ca: "CDPH000087"
          all-in-one-health-ca: "CDPH000087"
          naval-health-clinic-lemoore: "CDPH000087"
          warrior-dx-co: "CDPH000087"
          mycarelabs-ca: "CDPH000087"
          bzdlabs: "CDPH000085"
        phoneNumberFormatting: "STANDARD"
        suppressNonNPI: false
        processingModeCode: null
        replaceDiiWithOid: null
        applyOTCDefault: false
        useOrderingFacilityName: "STANDARD"
        valueSetOverrides: { }
        nameFormat: "STANDARD"
        receivingOrganization: null
        convertPositiveDateTimeOffsetToNegative: false
        stripInvalidCharsRegex: null
        convertDateTimesToReceiverLocalTime: false
        useHighPrecisionHeaderDateTimeFormat: false
        type: "HL7"
      jurisdictionalFilter:
        - "orEquals(ordering_facility_state, CA, patient_state, CA)"
      qualityFilter:
        - "hasAtLeastOneOf(order_test_date,specimen_collection_date_time,test_result_date)"
        - "hasAtLeastOneOf(patient_street,patient_zip_code,patient_phone_number,patient_email)"
        - "hasValidDataFor(message_id,equipment_model_name,specimen_type,test_result,patient_last_name,patient_first_name,patient_dob,ordering_provider_id)"
        - "isValidCLIA(testing_lab_clia)"
      routingFilter:
        - "DoesNotMatch(sender_id, pmg)"
      processingModeFilter: [ ]
      reverseTheQualityFilter: false
      deidentify: false
      deidentifiedValue: ""
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN
    - name: elr-secondary
      organizationName: ca-dph
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, CA, patient_state, CA)
      routingFilter:
        - "DoesNotMatch(sender_id, pmg)" #do not send PMG until NM completes validation
      reverseTheQualityFilter: true
      translation:
        type: HL7
        useBatchHeaders: true
        truncateHDNamespaceIds: true
        replaceValueAwithB:
          MSH-3: [ "*": "CDC PRIME - Atlanta,^2.16.840.1.114222.4.1.237821^ISO" ]
          MSH-5: [ "*": "CDPH CA REDIE^2.16.840.1.114222.4.3.3.10.1.1^ISO" ]
          MSH-6: [ "*": "CDPH_CID^2.16.840.1.114222.4.1.214104^ISO" ]
        messageProfileId: PHLabReport-Batch^^2.16.840.1.113883.9.10^ISO
        cliaForOutOfStateTesting: CDPH000076
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN

- name: ma-phd
  description: Massachusetts Public Health Department
  jurisdiction: STATE
  stateCode: MA
  receivers:
    - name: elr
      organizationName: ma-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, MA, patient_state, MA)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: MA-MDPH
        receivingApplicationOID: 2.16.840.1.113883.19.3.2
        receivingFacilityName: MA-MDPH
        receivingFacilityOID: 2.16.840.1.113883.19.3.2
        truncateHDNamespaceIds: true
        nameFormat: massachusetts
        suppressHl7Fields: "PID-20"
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN

- name: nh-dphs
  description: New Hampshire Division of Public Health Services
  jurisdiction: STATE
  stateCode: NH
  receivers:
    - name: elr
      organizationName: nh-dphs
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, NH, patient_state, NH)
      translation:
        type: HL7
        useBatchHeaders: true
        messageProfileId: PHLabReport-Batch^^2.16.840.1.113883.9.11^ISO
        receivingFacilityName: NH_DHHS
        receivingFacilityOID: 2.16.840.1.114222.4.1.3669
        suppressHl7Fields: ORC-23-1,ORC-14-1,OBR-17-1,OBX-18-1, OBX-18-2, OBX-18-3, PID-13-1
        replaceValueAwithB:
          MSH-3: [ "*": "CDC PRIME - Atlanta, Georgia (Dekalb)^2.16.840.1.114222.4.1.237821^ISO" ]
          MSH-4: [ "*": "CDC PRIME^11D2030855^CLIA" ]
          MSH-5: [ "*": "NH_ELR^2.16.840.1.114222.4.3.2.2.3.600.4^ISO" ]
          MSH-6: [ "*": "NH_DHHS^2.16.840.1.114222.4.1.3669^ISO" ]
          MSH-21: [ "*": "PHLabReport-Batch^^2.16.840.1.113883.9.11^ISO" ]
        reportingFacilityName: CDC PRIME
        reportingFacilityId: 11D2030855
        replaceDiiWithOid: true
        usePid14ForPatientEmail: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN

- name: al-phd
  description: Alabama Public Health Department
  jurisdiction: STATE
  stateCode: AL
  receivers:
    - name: elr
      organizationName: al-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, AL, patient_state, AL)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: ALNBS
        receivingApplicationOID: 2.16.840.1.114222.4.5.1
        receivingFacilityName: ALDOH
        receivingFacilityOID: 2.16.840.1.114222.4.1.3636
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 360   # Useful when you need a bit more of: This thing all things devours: Birds, beasts, trees, flowers
        initialTime: 00:00
        timeZone: EASTERN

- name: mi-phd
  description: Michigan Public Health Department
  jurisdiction: STATE
  stateCode: MI
  receivers:
    - name: elr
      organizationName: mi-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, MI, patient_state, MI)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: MDSS
        receivingApplicationOID: 2.16.840.1.114222.4.3.2.2.3.161.1.6377
        receivingFacilityName: MDSS
        receivingFacilityOID: 2.16.840.1.114222.4.3.2.2.3.161.1.6377
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN

- name: pa-phd
  description: Pennsylvania Department of Health
  jurisdiction: STATE
  stateCode: PA
  receivers:
    - name: elr-chester-hl7
      organizationName: pa-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_state, PA)", "matches(ordering_facility_county, Chester, Delaware)" ]
      translation:
        type: HL7
        useBatchHeaders: true
        nameFormat: chester_hl7
        reportingFacilityName: Chester County Health Department
        receivingApplicationName: PA-ELR
        receivingFacilityName: PADOH
        suppressHl7Fields: PID-13-1,ORC-23-1,OBR-16
        stripInvalidCharsRegex: \u0019
        replaceValue:
          ORC-21-2: L
        valueSetOverrides:
          hl70189:
            name: hl70189
            system: HL7
            version: 2.9
            reference: HL7 guidance for ethnicity, modified for PA standards
            values:
              - code: H
                display: Hispanic or Latino
              - code: NH
                replaces: N
                display: Non Hispanic or Latino
              - code: U
                display: Unknown
      transport:
        type: SOAP
        endpoint: "http://soap-webservice:8080/castlemock/mock/soap/project/eUAvaN/BasicHttpBinding_IUploadFile"
        soapAction: "http://nedss.state.pa.us/2012/B01/elrwcf/IUploadFile/UploadFiles"
        credentialName: null
        namespaces:
          "xmlns:elr": "http://nedss.state.pa.us/2012/B01/elrwcf"
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN
    - name: elr-montgomery-hl7
      organizationName: pa-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_state, PA)", "matches(ordering_facility_county, Montgomery)" ]
      translation:
        type: HL7
        useBatchHeaders: true
        nameFormat: montgomery_hl7
        reportingFacilityName: Montgomery County Office of Public Health
        receivingApplicationName: PA-ELR
        receivingFacilityName: PADOH
        suppressHl7Fields: PID-13-1,ORC-23-1,OBR-16
        stripInvalidCharsRegex: \u0019
        replaceValue:
          ORC-21-2: L
        valueSetOverrides:
          hl70189:
            name: hl70189
            system: HL7
            version: 2.9
            reference: HL7 guidance for ethnicity, modified for PA standards
            values:
              - code: H
                display: Hispanic or Latino
              - code: NH
                replaces: N
                display: Non Hispanic or Latino
              - code: U
                display: Unknown
      transport:
        type: SOAP
        endpoint: "http://soap-webservice:8080/castlemock/mock/soap/project/eUAvaN/BasicHttpBinding_IUploadFile"
        soapAction: "http://nedss.state.pa.us/2012/B01/elrwcf/IUploadFile/UploadFiles"
        credentialName: null
        namespaces:
          "xmlns:elr": "http://nedss.state.pa.us/2012/B01/elrwcf"
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN
    - name: elr-philadelphia-hl7
      organizationName: pa-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_state, PA)", "matches(ordering_facility_county, Philadelphia)" ]
      translation:
        type: HL7
        useBatchHeaders: true
        nameFormat: philadelphia_hl7
        reportingFacilityName: Philadelphia Public Health Laboratory
        receivingApplicationName: PA-ELR
        receivingFacilityName: PADOH
        suppressHl7Fields: PID-13-1,ORC-23-1,OBR-16
        stripInvalidCharsRegex: \u0019
        replaceValue:
          ORC-21-2: L
        valueSetOverrides:
          hl70189:
            name: hl70189
            system: HL7
            version: 2.9
            reference: HL7 guidance for ethnicity, modified for PA standards
            values:
              - code: H
                display: Hispanic or Latino
              - code: NH
                replaces: N
                display: Non Hispanic or Latino
              - code: U
                display: Unknown
      transport:
        type: SOAP
        endpoint: "http://soap-webservice:8080/castlemock/mock/soap/project/eUAvaN/BasicHttpBinding_IUploadFile"
        soapAction: "http://nedss.state.pa.us/2012/B01/elrwcf/IUploadFile/UploadFiles"
        credentialName: null
        namespaces:
          "xmlns:elr": "http://nedss.state.pa.us/2012/B01/elrwcf"
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN
    - name: elr-bucks-hl7
      organizationName: pa-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_state, PA)", "matches(ordering_facility_county, Bucks)" ]
      translation:
        type: HL7
        useBatchHeaders: true
        nameFormat: bucks_hl7
        receivingApplicationName: PA-ELR
        receivingFacilityName: PADOH
        suppressHl7Fields: PID-13-1,ORC-23-1,OBR-16
        stripInvalidCharsRegex: \u0019
        replaceValue:
          ORC-21-2: L
        valueSetOverrides:
          hl70189:
            name: hl70189
            system: HL7
            version: 2.9
            reference: HL7 guidance for ethnicity, modified for PA standards
            values:
              - code: H
                display: Hispanic or Latino
              - code: NH
                replaces: N
                display: Non Hispanic or Latino
              - code: U
                display: Unknown
      transport:
        type: SOAP
        endpoint: "http://soap-webservice:8080/castlemock/mock/soap/project/eUAvaN/BasicHttpBinding_IUploadFile"
        soapAction: "http://nedss.state.pa.us/2012/B01/elrwcf/IUploadFile/UploadFiles"
        credentialName: null
        namespaces:
          "xmlns:elr": "http://nedss.state.pa.us/2012/B01/elrwcf"
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN
    - name: elr-allegheny-hl7
      organizationName: pa-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_state, PA)", "matches(ordering_facility_county, Allegheny)" ]
      translation:
        type: HL7
        useBatchHeaders: true
        nameFormat: allegheny_hl7
        receivingApplicationName: PA-ELR
        receivingFacilityName: PADOH
        suppressHl7Fields: PID-13-1,ORC-23-1,OBR-16
        stripInvalidCharsRegex: \u0019
        replaceValue:
          ORC-21-2: L
        valueSetOverrides:
          hl70189:
            name: hl70189
            system: HL7
            version: 2.9
            reference: HL7 guidance for ethnicity, modified for PA standards
            values:
              - code: H
                display: Hispanic or Latino
              - code: NH
                replaces: N
                display: Non Hispanic or Latino
              - code: U
                display: Unknown
      transport:
        type: SOAP
        endpoint: "http://soap-webservice:8080/castlemock/mock/soap/project/eUAvaN/BasicHttpBinding_IUploadFile"
        soapAction: "http://nedss.state.pa.us/2012/B01/elrwcf/IUploadFile/UploadFiles"
        credentialName: null
        namespaces:
          "xmlns:elr": "http://nedss.state.pa.us/2012/B01/elrwcf"
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN

- name: pa-chester-phd
  description: Health Department - Chester County, Pennsylvania
  jurisdiction: COUNTY
  stateCode: CO
  countyName: Chester
  receivers:
    - name: elr-chester-download-local
      organizationName: pa-chester-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_state, PA)", "matches(ordering_facility_county, Chester, Delaware)" ]
      deidentify: false
      translation:
        type: CUSTOM
        schemaName: strac/strac-covid-19
        defaults:
          processing_mode_code: T
        format: CSV

- name: pa-montgomery-phd
  description: Office of Public Health - Montgomery County, Pennsylvania
  jurisdiction: COUNTY
  stateCode: CO
  countyName: Montgomery
  receivers:
    - name: elr-montgomery-download-local
      organizationName: pa-montgomery-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_state, PA)", "matches(ordering_facility_county, Montgomery)" ]
      deidentify: false
      translation:
        type: CUSTOM
        schemaName: strac/strac-covid-19
        defaults:
          processing_mode_code: T
        format: CSV

- name: pa-philadelphia-phd
  description: Philadelphia Department of Public Health
  jurisdiction: COUNTY
  stateCode: CO
  countyName: Philadelphia
  receivers:
    - name: elr-philadelphia-download
      organizationName: pa-philadelphia-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_state, PA)", "matches(ordering_facility_county, Philadelphia)" ]
      deidentify: false
      translation:
        type: CUSTOM
        schemaName: strac/strac-covid-19
        defaults:
          processing_mode_code: T
        format: CSV

- name: md-phd
  description: Maryland Public Health Department
  jurisdiction: STATE
  stateCode: MD
  receivers:
    - name: elr
      organizationName: md-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(patient_state, MD, ordering_facility_state, MD)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: "hhsprotect"
  description: "HHSProtect"
  jurisdiction: "FEDERAL"
  receivers:
    - name: "elr"
      organizationName: "hhsprotect"
      topic: "covid-19"
      customerStatus: active
      jurisdictionalFilter: [ "matches(sender_id,.*SafeHealth.*,.*CueHlth.*,.*ImageMover.*,InBios,Strac,AnavasiDx,careevolution,reddyfmc,primary,abbott,lifepoint,hca,prescryptive,pmg,ihealthlabs,mns,detect,hcintegrations,signetic,neurolab,reopenlab,limsabc-nova,geneus-diagnostics,clxhealth,providence,.*bzdlabs.*,innolitics,vaulthealth,osang-otc)" ]
      qualityFilter: [ "allowAll()" ]
      translation:
        type: "CUSTOM"
        schemaName: "hhsprotect/hhsprotect-covid-19"
        format: "CSV"
      deidentify: true
      deidentifiedValue: "<DEIDENTIFIED>"
      timing:
        operation: "MERGE"
        numberPerDay: 1440
        initialTime: "00:00"
        timeZone: "EASTERN"
      transport:
        type: BLOBSTORE
        storageName: PartnerStorage
        containerName: hhsprotect

- name: "cdc"
  description: "Centers for Disease Control"
  jurisdiction: "FEDERAL"
  receivers:
    - name: "dcipher-monkeypox"
      organizationName: "cdc"
      topic: "monkeypox"
      customerStatus: active
      jurisdictionalFilter: [ "allowAll()" ]
      qualityFilter: [ "allowAll()" ]
      processingModeFilter: [ "allowAll()" ]
      translation:
        type: "CUSTOM"
        schemaName: "dcipher/dcipher-monkeypox"
        format: "CSV"
      deidentify: true
      deidentifiedValue: "<DEIDENTIFIED>"
      timing:
        operation: "MERGE"
        numberPerDay: 1440
        initialTime: "00:00"
        timeZone: "EASTERN"
      transport:
        type: BLOBSTORE
        storageName: PartnerStorage
        containerName: dcipher


# 'ignore' is a test organization, designed to be safely usable across all our environments.
# It has a bunch of receivers, each given a useful fake name, eg, named after the format of the data, in some cases.
# Please try to always make the reciever name identical to the county jurisdictionalFilter name.
# This is to aid in readability.
- name: ignore
  description: FOR TESTING ONLY
  jurisdiction: FEDERAL
  filters:
    - topic: covid-19
      jurisdictionalFilter: [ "matches(ordering_facility_state, IG)" ]
    - topic: full-elr
      jurisdictionalFilter:
        - "%performerState = 'IG' or %patientState = 'IG'"
      qualityFilter:
        - "%hl7MessageType = 'R01'"
  senders:
    - name: default
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      schemaName: primedatainput/pdi-covid-19
      format: CSV
    - name: ignore-full-elr      # Use this to test full-elr
      organizationName: ignore
      topic: full-elr
      customerStatus: active
      format: HL7
    - name: ignore-fhir      # Use this to test fhir
      organizationName: ignore
      topic: full-elr
      customerStatus: active
      format: FHIR
    - name: ignore-strac      # Use this to test sending strac data
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      schemaName: strac/strac-covid-19
      format: CSV
    - name: ignore-simple-report      # Use this to test sending simple_report data
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      schemaName: primedatainput/pdi-covid-19
      format: CSV
    - name: no-duplicates      # Use this to test sending simple_report with a dup check
      organizationName: ignore
      topic: covid-19
      customerStatus: active
      schemaName: primedatainput/pdi-covid-19
      allowDuplicates: false    # Duplicate data causes errors!!
      format: CSV
    - name: ignore-waters      # Use this to test sending waters data
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      schemaName: waters/waters-covid-19
      format: CSV
    - name: ignore-empty      # Use this to test sending data from the 'empty' schema
      organizationName: ignore
      topic: covid-19
      customerStatus: active
      schemaName: empty
      format: CSV
    - name: ignore-hl7      # Use this to test sending data from the HL7 schema
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      schemaName: hl7/test-covid-19
      format: HL7
    - name: ignore-monkeypox
      organizationName: ignore
      topic: monkeypox
      customerStatus: inactive
      schemaName: monkeypox
      format: HL7
  receivers:
    - name: CSV
      externalName: The CSV receiver for Ignore
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, CSV)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: az/pima-az-covid-19
        format: CSV
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7
      externalName: Ignore HL7
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: fl/fl-covid-19
        format: HL7
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7_MONKEYPOX
      externalName: Ignore Monkeypox
      organizationName: ignore
      topic: monkeypox
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_MONKEYPOX)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: monkeypox
        format: HL7
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7_BATCH
      externalName: Ignore HL7_BATCH
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_BATCH)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: az/az-covid-19-hl7
        format: HL7_BATCH
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: FULL_ELR
      externalName: Ignore FULL_ELR
      organizationName: ignore
      topic: full-elr
      customerStatus: active
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: none
        format: HL7
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7_BATCH_PPK
      externalName: Ignore HL7_BATCH PPK
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_BATCH)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: az/az-covid-19-hl7
        format: HL7_BATCH
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP-PPK
    - name: HL7_BATCH_PEM
      externalName: Ignore HL7_BATCH PEM
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_BATCH)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: az/az-covid-19-hl7
        format: HL7_BATCH
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP-PEM
    - name: AS2
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, AS2)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: HL7
        useBatchHeaders: true
    - name: HL7_NULL     # Null Transport.
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_NULL)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: tx/tx-covid-19
        format: HL7_BATCH
    - name: BLOBSTORE
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, BLOBSTORE)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: hhsprotect/hhsprotect-covid-19
        format: CSV
      transport:
        type: BLOBSTORE
        storageName: PartnerStorage
        containerName: hhsprotect
    - name: SFTP_FAIL    # If you put "FAIL" in the receiver name, then the happy-path tests in TestReportStream will ignore them.
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, SFTP_FAIL)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: az/az-covid-19-hl7
        format: CSV
      transport:
        type: SFTP
        host: sftp_FAIL_BAD
        port: 2222
        filePath: ./upload_FAIL
    - name: QUALITY_PASS
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, QUALITY_PASS, removed)" ]
      qualityFilter:
        - hasValidDataFor(message_id,ordering_facility_county,ordering_facility_state)
        - hasAtLeastOneOf(message_id,blankField)
        - matches(ordering_facility_county, QUALITY_PASS)
      translation:
        type: CUSTOM
        schemaName: empty
        format: CSV
    - name: QUALITY_REVERSED
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, QUALITY_REVERSED, kept)" ]
      qualityFilter:
        - hasValidDataFor(message_id,ordering_facility_county,ordering_facility_state)
        - hasAtLeastOneOf(message_id,blankField)
        - matches(ordering_facility_county, QUALITY_REVERSED)
      # Get 'not(qualityFilter)'
      reverseTheQualityFilter: true
      translation:
        type: CUSTOM
        schemaName: empty
        format: CSV
    - name: QUALITY_ALL
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, QUALITY_ALL)" ]
      qualityFilter: [ "allowAll()" ]
      translation:
        type: CUSTOM
        schemaName: empty
        format: CSV
    - name: QUALITY_FAIL
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, QUALITY_FAIL)" ]
      qualityFilter: [ "hasValidDataFor(blankField)", "hasAtLeastOneOf(message_id,blankField)" ]
      translation:
        type: CUSTOM
        schemaName: empty
        format: CSV
    - name: OTC_PROCTORED_YYY
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, OTC_PROCTORED)" ]
      qualityFilter: [ "matches(test_authorized_for_otc, Y)","matches(test_authorized_for_home, Y)","matches(test_authorized_for_unproctored, Y)" ]
      translation:
        type: "CUSTOM"
        schemaName: "hhsprotect/hhsprotect-covid-19"
        format: "CSV"
      deidentify: true
    - name: OTC_PROCTORED_NYY
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, OTC_PROCTORED)" ]
      qualityFilter: [ "matches(test_authorized_for_otc, N)","matches(test_authorized_for_home, Y)","matches(test_authorized_for_unproctored, Y)" ]
      translation:
        type: "CUSTOM"
        schemaName: "hhsprotect/hhsprotect-covid-19"
        format: "CSV"
      deidentify: true
    - name: OTC_PROCTORED_NUNKUNK
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, OTC_PROCTORED)" ]
      qualityFilter: [ "matches(test_authorized_for_otc, N)","matches(test_authorized_for_home, UNK)","matches(test_authorized_for_unproctored, UNK)" ]
      translation:
        type: "CUSTOM"
        schemaName: "hhsprotect/hhsprotect-covid-19"
        format: "CSV"
      deidentify: true
    - name: EVERY_5_MINS
      externalName: Batches and Sends every 5 minutes.  For Load testing.
      organizationName: ignore
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_county, EVERY_5_MINS)" ]
      timing:
        operation: MERGE
        numberPerDay: 288 # Every 5 minutes
        initialTime: 00:00
      translation:
        type: HL7
        useBatchHeaders: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: EVERY_15_MINS
      externalName: Batches and Sends every 15 minutes.  For Load testing.
      organizationName: ignore
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_county, EVERY_15_MINS)" ]
      timing:
        operation: MERGE
        numberPerDay: 96 # Every 15 minutes
        initialTime: 00:00
      translation:
        type: HL7
        useBatchHeaders: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: EVERY_60_MINS
      externalName: Batches and Sends every 60 minutes.  For Load testing.
      organizationName: ignore
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_county, EVERY_60_MINS)" ]
      timing:
        operation: MERGE
        numberPerDay: 24 # Every 60 minutes
        initialTime: 00:00
      translation:
        type: HL7
        useBatchHeaders: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: SETTINGS_TEST
      externalName: Used to test putting sender settings into the data, using ignore.ignore-empty
      organizationName: ignore
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_county, SETTINGS_TEST)" ]
      qualityFilter: [ "allowAll()" ]
      # These three filters must match the settings for the ignore.ignore-empty Sender.
      routingFilter:
        - matches(sender_fullname, ignore.ignore-empty)
        - matches(sender_orgname, ignore)
      processingModeFilter:
        # Because ignore.ignore-empty has customerStatus = active
        - matches(processing_mode_code, P)
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: empty
        format: CSV
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7_BATCH_LOCAL_TIME_CONVERT
      externalName: LocalTime HL7_BATCH
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_BATCH)" ]
      timeZone: PACIFIC
      dateTimeFormat: LOCAL
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: HL7
        format: HL7_BATCH
        receivingApplicationName: IG-PACIFIC-LOCAL-TIME
        convertDateTimesToReceiverLocalTime: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7_BATCH_OFFSET_TIME_CONVERT
      externalName: Offset HL7_BATCH
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_BATCH)" ]
      timeZone: PACIFIC
      dateTimeFormat: OFFSET
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: HL7
        format: HL7_BATCH
        receivingApplicationName: IG-PACIFIC-OFFSET
        convertDateTimesToReceiverLocalTime: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7_BATCH_OFFSET_TIME_UTC
      externalName: Offset UTC HL7_BATCH
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_BATCH)" ]
      timeZone: UTC
      dateTimeFormat: OFFSET
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: HL7
        format: HL7_BATCH
        receivingApplicationName: IG-UTC-OFFSET
        convertDateTimesToReceiverLocalTime: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: historytest
  description: FOR TESTING SUBMISSION HISTORY
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: historytest
      topic: covid-19
      customerStatus: active
      schemaName: primedatainput/pdi-covid-19
      format: CSV

# all the rest
- name: ak-phd
  description: Alaska Public Health Department
  jurisdiction: STATE
  stateCode: AK
  receivers:
    - name: elr
      organizationName: ak-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, AK, patient_state, AK)
      translation:
        type: HL7
        useBatchHeaders: true
        suppressHl7Fields: PID-5-7, ORC-12-1, OBR-16-1
        replaceValue:
          PID-22-3: CDCREC
      timing:
        operation: MERGE
        numberPerDay: 1 #
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: as-phd
  description: American Samoa Public Health Department
  jurisdiction: STATE
  stateCode: AS
  receivers:
    - name: elr-download
      organizationName: as-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, AS, patient_state, AS)
      translation:
        schemaName: AS/as-download-csv
        format: CSV
        defaults: { }
        nameFormat: STANDARD
        receivingOrganization: null
        type: CUSTOM
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: SAMOA
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: ar-phd
  description: Arkansas Public Health Department
  jurisdiction: STATE
  stateCode: AR
  receivers:
    - name: elr
      organizationName: ar-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, AR, patient_state, AR)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: ct-phd
  description: Connecticut Public Health Department
  jurisdiction: STATE
  stateCode: CT
  receivers:
    - name: elr
      organizationName: ct-phd
      topic: covid-19
      customerStatus: testing
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, CT, patient_state, CT)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: dc-phd
  description: District of Columbia Public Health Department
  jurisdiction: STATE
  stateCode: DC
  receivers:
    - name: elr
      organizationName: dc-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, DC, patient_state, DC)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: fm-phd
  description: Federated States of Micronesia Public Health Department
  jurisdiction: STATE
  stateCode: FM
  receivers:
    - name: elr
      organizationName: fm-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, FM, patient_state, FM)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: ga-phd
  description: Georgia Public Health Department
  jurisdiction: STATE
  stateCode: GA
  receivers:
    - name: elr
      organizationName: ga-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, GA, patient_state, GA)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: hi-phd
  description: Hawaii Public Health Department
  jurisdiction: STATE
  stateCode: HI
  receivers:
    - name: elr
      organizationName: hi-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, HI, patient_state, HI)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: id-phd
  description: Idaho Public Health Department
  jurisdiction: STATE
  stateCode: ID
  receivers:
    - name: elr
      organizationName: id-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, ID, patient_state, ID)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: il-phd
  description: Illinois Public Health Department
  jurisdiction: STATE
  stateCode: IL
  receivers:
    - name: elr
      organizationName: il-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, IL, patient_state, IL)
      routingFilter:
        - matches(test_result_status, F, C, P)
      translation:
        type: HL7
        useBatchHeaders: true
        suppressNonNPI: true
        truncateHDNamespaceIds: true
        truncateHl7Fields: OBX-23-1, ORC-21-1
        useHighPrecisionHeaderDateTimeFormat: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: in-phd
  description: Indiana Public Health Department
  jurisdiction: STATE
  stateCode: IN
  receivers:
    - name: elr
      organizationName: in-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, IN, patient_state, IN)
      translation:
        schemaName: "covid-19"
        useTestProcessingMode: false
        useBatchHeaders: true
        receivingApplicationName: IN-ELR
        receivingApplicationOID: null
        receivingFacilityName: IDOH
        receivingFacilityOID: null
        messageProfileId: null
        replaceValue: { }
        replaceValueAwithB: { }
        reportingFacilityName: null
        reportingFacilityId: null
        reportingFacilityIdType: null
        suppressQstForAoe: true
        suppressHl7Fields: null
        suppressAoe: false
        defaultAoeToUnknown: false
        replaceUnicodeWithAscii: false
        useBlankInsteadOfUnknown: null
        truncateHDNamespaceIds: true
        truncateHl7Fields: null
        usePid14ForPatientEmail: false
        convertTimestampToDateTime: null
        cliaForOutOfStateTesting: null
        cliaForSender: { }
        phoneNumberFormatting: "STANDARD"
        suppressNonNPI: false
        processingModeCode: null
        replaceDiiWithOid: null
        applyOTCDefault: false
        useOrderingFacilityName: "STANDARD"
        valueSetOverrides: { }
        nameFormat: "INDIANA"
        receivingOrganization: null
        convertPositiveDateTimeOffsetToNegative: false
        stripInvalidCharsRegex: null
        convertDateTimesToReceiverLocalTime: false
        useHighPrecisionHeaderDateTimeFormat: false
        type: "HL7"
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
      externalName: "Indiana Public Health Department"
      timeZone: CENTRAL
      dateTimeFormat: "OFFSET"

- name: ia-phd
  description: Iowa Public Health Department
  jurisdiction: STATE
  stateCode: IA
  filters:
    - topic: "covid-19"
      jurisdictionalFilter:
        - "orEquals(ordering_facility_state, IA, patient_state, IA)"
  receivers:
    - name: elr
      organizationName: ia-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, IA, patient_state, IA)
      translation:
        useTestProcessingMode: false
        useBatchHeaders: true
        receivingApplicationName: IA.DOH.IDSS
        receivingApplicationOID: 2.16.840.1.114222.4.3.3.19
        receivingFacilityName: IA DOH
        receivingFacilityOID: 2.16.840.1.114222.4.1.3650
        messageProfileId: null
        replaceValue: { }
        reportingFacilityName: null
        reportingFacilityId: null
        reportingFacilityIdType: null
        suppressQstForAoe: false
        suppressHl7Fields: null
        suppressAoe: false
        defaultAoeToUnknown: false
        useBlankInsteadOfUnknown: null
        truncateHDNamespaceIds: true
        truncateHl7Fields: MSH-3-1
        usePid14ForPatientEmail: false
        convertTimestampToDateTime: null
        cliaForOutOfStateTesting: null
        cliaForSender: { }
        phoneNumberFormatting: "STANDARD"
        suppressNonNPI: false
        processingModeCode: null
        replaceDiiWithOid: null
        useOrderingFacilityName: "STANDARD"
        valueSetOverrides: { }
        nameFormat: "STANDARD"
        receivingOrganization: null
        type: "HL7"
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: ks-phd
  description: Kansas Public Health Department
  jurisdiction: STATE
  stateCode: KS
  receivers:
    - name: elr
      organizationName: ks-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, KS, patient_state, KS)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: ky-phd
  description: Kentucky Public Health Department
  jurisdiction: STATE
  stateCode: KY
  receivers:
    - name: elr
      organizationName: ky-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, KY, patient_state, KY)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: mh-phd
  description: Marshall Islands Public Health Department
  jurisdiction: STATE
  stateCode: MH
  receivers:
    - name: elr
      organizationName: mh-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, MH, patient_state, MH)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: mo-phd
  description: Missouri Public Health Department
  jurisdiction: STATE
  stateCode: MO
  receivers:
    - name: elr
      organizationName: mo-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, MO, patient_state, MO)
      timeZone: CENTRAL
      dateTimeFormat: LOCAL
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: MOELR
        receivingApplicationOID: 2.16.840.1.114222.4.3.3.36
        receivingFacilityName: MODHSS
        receivingFacilityOID: 2.16.840.1.114222.4.3.2.2.1.163
        reportingFacilityName: "CDC PRIME"
        reportingFacilityId: "11D2030855"
        suppressQstForAoe: true
        truncateHDNamespaceIds: true
        suppressHl7Fields: MSH-19-3, PID-15-3
        truncateHl7Fields: MSH-3-1, PID-3-3, PID-3-6, ORC-2-2, ORC-7-10-5, OBR-2-2, OBR-3-2, SPM-2-1-2, SPM-2-2-2, ORC-21-1, OBX-23-1, OBX-15.1, OBX-23.10
        replaceValueAwithB:
          MSH-3: [ "*": "CDC PRIME - Atlanta,^2.16.840.1.114222.4.1.237821^ISO" ]
          MSH-5: [ "*": "CDPH CA REDIE^2.16.840.1.114222.4.3.3.10.1.1^ISO" ]
          MSH-6: [ "*": "CDPH_CID^2.16.840.1.114222.4.1.214104^ISO" ]
          ORC-2-1: [ "": "*MSH-10" ]
          OBR-2-1: [ "": "*MSH-10" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: ne-phd
  description: Nebraska Public Health Department
  jurisdiction: STATE
  stateCode: NE
  receivers:
    - name: elr
      organizationName: ne-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, NE, patient_state, NE)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: nv-phd
  description: Nevada Public Health Department
  jurisdiction: STATE
  stateCode: NV
  receivers:
    - name: elr
      organizationName: nv-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - "orEquals(ordering_facility_state, NV, patient_state, NV)"
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: "NVDOH"
        receivingFacilityName: "NVODH"
        replaceValueAwithB:
          MSH-4-1:
            - '*': "CDC PRIME"
          MSH-4-2:
            - '*': "11D2030855"
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: elr-test
      organizationName: nv-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - "orEquals(ordering_facility_state, NV, patient_state, NV)"
      processingModeFilter:
        - "matches(processing_mode_code,T,D)"
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: "NVDOH"
        receivingFacilityName: "NVODH"
        replaceValueAwithB:
          MSH-4-1:
            - '*': "CDC PRIME"
          MSH-4-2:
            - '*': "11D2030855"
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: ny-phd
  description: New York Public Health Department
  jurisdiction: STATE
  stateCode: NY
  receivers:
    - name: elr
      organizationName: ny-phd
      topic: covid-19
      customerStatus: testing
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, NY, patient_state, NY)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: REST
        authTokenUrl: http://rest-webservice:3001/token
        reportUrl: http://rest-webservice:3001/report
        #authTokenUrl: https://api2.health.ny.gov/token
        #reportUrl:  https://api2.health.ny.gov/services/uphn/openapi/V1.0/ECLRSPRE #for test data
        #reportUrl:  https://api2.health.ny.gov/services/uphn/openapi/V1.0/ECLRSPOST #for PRODUCTION data
        tlsKeystore: NY-PHD--ELR--JKS
        headers:
          UPHN-INFOMAP: '{"properties":"labClia=10DRPTSTRM,target=NYS,content=L,format=HL7"}'

- name: mp-phd
  description: Northern Mariana Islands Public Health Department
  jurisdiction: STATE
  stateCode: MP
  receivers:
    - name: elr
      organizationName: mp-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, MP, patient_state, MP)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: ok-phd
  description: Oklahoma Public Health Department
  jurisdiction: STATE
  stateCode: OK
  receivers:
    - name: elr
      organizationName: ok-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, OK, patient_state, OK)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: REST
        authTokenUrl: http://rest-webservice:3001/idtoken
        reportUrl: http://rest-webservice:3001/hl7
        #authTokenUrl: https://labupload-uat.health.ok.gov/api/auth/token #test URL
        #reportUrl:  https://labupload-uat.health.ok.gov/api/document/hl7 #test URL
        #authTokenUrl: https://labupload.health.ok.gov/api/auth/token #PRODUCTION URL
        #reportUrl:  https://labupload.health.ok.gov/api/document/hl7 #PRODUCTION URL
        tlsKeystore: null
        headers:
          RecordId: 'header.reportFile.reportId'
          senderLabName: 'CDC PRIME REPORTSTREAM' #name-of-the-lab-the-sending-user-belongs-to
          sourceLabName: 'CDC PRIME REPORTSTREAM' #name-of-the-lab-that-originally-sent-this-hl7-message-to-OSDH

- name: or-phd
  description: Oregon Public Health Department
  jurisdiction: STATE
  stateCode: OR
  receivers:
    - name: elr
      organizationName: or-phd
      topic: covid-19
      customerStatus: testing
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, OR, patient_state, OR)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: pw-phd
  description: Palau Public Health Department
  jurisdiction: STATE
  stateCode: PW
  receivers:
    - name: elr
      organizationName: pw-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, PW, patient_state, PW)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: pr-phd
  description: Puerto Rico Public Health Department
  jurisdiction: STATE
  stateCode: PR
  receivers:
    - name: elr
      organizationName: pr-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, PR, patient_state, PR)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: ri-phd
  description: Rhode Island Public Health Department
  jurisdiction: STATE
  stateCode: RI
  receivers:
    - name: elr
      organizationName: ri-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, RI, patient_state, RI)
      timeZone: EASTERN
      dateTimeFormat: LOCAL
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: RI_DOH
        receivingFacilityName: RI_DOH
        suppressHl7Fields: ORC-12-1, OBR-16-1, PID-5-7
        replaceValueAwithB:
          MSH-3:
            - "*": "CDC PRIME - Atlanta, Georgia (Dekalb)^2.16.840.1.114222.4.1.237821^ISO"
          PID-22-1:
            - "H": "2135-2"
            - "N": "2186-5"
          PID-22-3:
            - "*": "CDCREC"
          PID-22-7:
            - "*": "3.1.0"
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: me-phd
  description: Maine Public Health Department
  jurisdiction: STATE
  stateCode: ME
  receivers:
    - name: elr
      organizationName: me-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, ME, patient_state, ME)
      timeZone: EASTERN
      dateTimeFormat: LOCAL
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: MEDOH
        receivingFacilityName: MEDOH
        suppressHl7Fields: null
        replaceValueAwithB:
          MSH-4: [ "*": "CDC PRIME^11D2030855^CLIA" ]
          MSH-21-1: [ "*": "PHLabReport-NoAck" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: sc-phd
  description: South Carolina Public Health Department
  jurisdiction: STATE
  stateCode: SC
  receivers:
    - name: elr
      organizationName: sc-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, SC, patient_state, SC)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: sd-phd
  description: South Dakota Public Health Department
  jurisdiction: STATE
  stateCode: SD
  receivers:
    - name: elr
      organizationName: sd-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, SD, patient_state, SD)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: ut-phd
  description: Utah Public Health Department
  jurisdiction: STATE
  stateCode: UT
  receivers:
    - name: elr
      organizationName: ut-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, UT, patient_state, UT)
      translation:
        type: HL7
        useBatchHeaders: true
        receivingApplicationName: NEDSS
        receivingFacilityName: UDOH
        reportingFacilityName: "CDC PRIME"
        reportingFacilityId: "11D2030855"
        suppressQstForAoe: false
        suppressAoe: false
        truncateHDNamespaceIds: true
        replaceValueAwithB:
          MSH-4: [ "*": "CDC PRIME^11D2030855^CLIA" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: MOUNTAIN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: vi-phd
  description: Virgin Islands Public Health Department
  jurisdiction: STATE
  stateCode: VI
  receivers:
    - name: elr
      organizationName: vi-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, VI, patient_state, VI)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: va-phd
  description: Virginia Public Health Department
  jurisdiction: STATE
  stateCode: VA
  receivers:
    - name: elr
      organizationName: va-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, VA, patient_state, VA)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: wa-phd
  description: Washington Department of Health
  jurisdiction: STATE
  stateCode: WA
  receivers:
    - name: elr
      organizationName: wa-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - matches(abnormal_flag, A)
        - orEquals(ordering_facility_state, WA, patient_state, WA)
      routingFilter:
        - matches(test_result_status, F, S, P, C, X, I)
      translation:
        type: HL7
        useBatchHeaders: true
        nameFormat: washington
        reportingFacilityName: 7uycso49
        reportingFacilityId: 1.3.6.1.4.1.38630.2.1.1.519
        reportingFacilityIdType: ISO
        receivingApplicationName: WADOHPHRED
        receivingApplicationOID: 2.16.840.1.113883.3.237.4.2
        receivingFacilityName: dn1fro00
        receivingFacilityOID: 1.3.6.1.4.1.38630.2.1.1.19
        suppressQstForAoe: true
        suppressHl7Fields: PID-39-1, PID-39-2, PID-39-3
        replaceValueAwithB:
          MSH-3: [ "*": "CDC PRIME - Atlanta, Georgia (Dekalb)^2.16.840.1.114222.4.1.237821^ISO" ]
          MSH-5: [ "*": "WADOHPHRED^2.16.840.1.113883.3.237.4.2^ISO" ]
          MSH-6: [ "*": "dn1fro00^1.3.6.1.4.1.38630.2.1.1.19^ISO" ]
        phoneNumberFormatting: ONLY_DIGITS_IN_COMPONENT_ONE
        useOrderingFacilityName: ORGANIZATION_NAME
      timing:
        operation: MERGE
        numberPerDay: 720 # Every other minute staggered with negative results
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: AS2
        #receiverUrl: "https://uat-onehealthport-as2.axwaycloud.com/exchange/ZZOHPUAT"
        #receiverId: ZZOHPUAT
        #senderId: 7uycso49
        receiverUrl: http://host.docker.internal:8000/pyas2/as2receive
        receiverId: p1as2
        senderId: CDCPRIMETEST
    - name: elr-neg
      organizationName: wa-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - doesNotMatch(abnormal_flag, A)
        - orEquals(ordering_facility_state, WA, patient_state, WA)
      routingFilter:
        - matches(test_result_status, F, S, P, C, X, I)
      translation:
        type: HL7
        useBatchHeaders: true
        nameFormat: washington_negative
        reportingFacilityName: 7uycso49
        reportingFacilityId: 1.3.6.1.4.1.38630.2.1.1.519
        reportingFacilityIdType: ISO
        receivingApplicationName: WADOHPHRED
        receivingApplicationOID: 2.16.840.1.113883.3.237.4.2
        receivingFacilityName: dn1fro00
        receivingFacilityOID: 1.3.6.1.4.1.38630.2.1.1.19
        suppressQstForAoe: true
        suppressHl7Fields: PID-39-1, PID-39-2, PID-39-3
        replaceValueAwithB:
          MSH-3: [ "*": "CDC PRIME - Atlanta, Georgia (Dekalb)^2.16.840.1.114222.4.1.237821^ISO" ]
          MSH-5: [ "*": "WADOHPHRED^2.16.840.1.113883.3.237.4.2^ISO" ]
          MSH-6: [ "*": "dn1fro00^1.3.6.1.4.1.38630.2.1.1.19^ISO" ]
        phoneNumberFormatting: ONLY_DIGITS_IN_COMPONENT_ONE
        useOrderingFacilityName: ORGANIZATION_NAME
      timing:
        operation: MERGE
        numberPerDay: 720 # Every other minute
        initialTime: 00:01
        timeZone: EASTERN
      transport:
        type: AS2
        #receiverUrl: "https://uat-onehealthport-as2.axwaycloud.com/exchange/ZZOHPUAT"
        #receiverId: ZZOHPUAT
        #senderId: 7uycso49
        receiverUrl: http://host.docker.internal:8000/pyas2/as2receive
        receiverId: p1as2
        senderId: CDCPRIMETEST
    - name: gaen
      description: WA Notify - Google and Apple Exposure Notification
      organizationName: wa-phd
      topic: covid-19
      customerStatus: testing
      jurisdictionalFilter:
        - matches(sender_id, simple_report.default)
        - matches(abnormal_flag, A)
        - matches(test_result_status, F)
        - inDateInterval(date_result_released, now, -P19D) # WA Notify policy
        - orEquals(ordering_facility_state, WA, patient_state, WA)
      timing: null
      translation:
        type: GAEN
      transport:
        type: GAEN
        uuidFormat: WA_NOTIFY
        uuidIV: 1  # actual value provided by WA NOTIFY
        apiUrl: "" # for no sending
        # apiUrl: "https://adminapi.encv-test.org/api/issue" # for test
        # apiUrl: "https://adminapi.encv.org/api/issue" # for prod
    - name: rest
      description: WA rest transport to OneHealthPort HIE
      organizationName: wa-phd
      topic: covid-19
      customerStatus: testing
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, WA, patient_state, WA)
      translation:
        type: HL7
        useBatchHeaders: true
        nameFormat: washington
        reportingFacilityName: 7uycso49
        reportingFacilityId: 1.3.6.1.4.1.38630.2.1.1.519
        reportingFacilityIdType: ISO
        receivingApplicationName: WADOHPHRED
        receivingApplicationOID: 2.16.840.1.113883.3.237.4.2
        receivingFacilityName: dn1fro00
        receivingFacilityOID: 1.3.6.1.4.1.38630.2.1.1.19
        suppressQstForAoe: true
        suppressHl7Fields: PID-39-1, PID-39-2, PID-39-3
        replaceValueAwithB:
          MSH-3: [ "*": "CDC PRIME - Atlanta, Georgia (Dekalb)^2.16.840.1.114222.4.1.237821^ISO" ]
          MSH-5: [ "*": "WADOHPHRED^2.16.840.1.113883.3.237.4.2^ISO" ]
          MSH-6: [ "*": "dn1fro00^1.3.6.1.4.1.38630.2.1.1.19^ISO" ]
        phoneNumberFormatting: ONLY_DIGITS_IN_COMPONENT_ONE
        useOrderingFacilityName: ORGANIZATION_NAME
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: REST
        authTokenUrl: http://rest-webservice:3001/token
        reportUrl: http://rest-webservice:3001/elr
        #authTokenUrl: https://uat-v2-onehealthport-api.axwaycloud.com/ohp/oauth/jwt/token
        #reportUrl:  https://uat-v2-onehealthport-api.axwaycloud.com/doh/phchub/PHC-Hub/elr
        tlsKeystore: null
        headers:
          x-doc-type: 'ELR' # OneHealthPort HIE document type
          x-org-facility-id: '7uycso49' #  OneHealthPort HIE organization identifier provided by the HIE onboarding team.
          x-ref-id: 'header.reportFile.reportId' # reference identifier to manage message through its life cycle


- name: wv-phd
  description: West Virginia Public Health Department
  jurisdiction: STATE
  stateCode: WV
  receivers:
    - name: elr
      organizationName: wv-phd
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, WV, patient_state, WV)
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: wy-phd
  description: Wyoming Public Health Department
  jurisdiction: STATE
  stateCode: WY
  receivers:
    - name: elr
      organizationName: wy-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, WY, patient_state, WY)
      reverseTheQualityFilter: false
      dateTimeFormat: OFFSET
      translation:
        type: HL7
        useBatchHeaders: true
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: elr-secondary
      organizationName: wy-phd
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter:
        - orEquals(ordering_facility_state, WY, patient_state, WY)
      routingFilter:
        - matches(test_authorized_for_otc, N)
        - matches(test_authorized_for_home, N)
        - matches(test_authorized_for_unproctored, N)
      reverseTheQualityFilter: true
      dateTimeFormat: OFFSET
      translation:
        type: HL7
        useBatchHeaders: true
        nameFormat: STANDARD_SECONDARY
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
        timeZone: EASTERN
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
- name: fl-hillsborough-phd
  description: Florida Department of Health  Hillsborough County
  jurisdiction: COUNTY
  stateCode: FL
  countyName: Hillsborough
  receivers:
    - name: elr-download
      organizationName: fl-hillsborough-phd
      topic: covid-19
      customerStatus: testing
      jurisdictionalFilter: [ "matches(ordering_facility_state, FL)", "matches(ordering_facility_county, Hillsborough)" ]
      translation:
        type: CUSTOM
        schemaName: fl/fl-hillsborough-covid-19-csv
        format: CSV
      timing:
        operation: MERGE
        numberPerDay: 1
        initialTime: 09:15 # A little after the 12am EASTERN reports from simple report
        timeZone: EASTERN

- name: "kern-county-phsd-ca"
  description: "Kern County Public Health Services Dept (CA) - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "kern-county-phsd-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "covidclinic-org"
  description: "Covid Clinic - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "covidclinic-org"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "stemexpress-ca"
  description: "Stemexpress in CA - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "stemexpress-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "hollywoodsmiles-ca"
  description: "Hollywood Smiles in CA - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "hollywoodsmiles-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "newport-childrens-hospital-ca"
  description: "Newport Childrens Hospital (CA) - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "newport-childrens-hospital-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "elitemedlabs-co"
  description: "EliteMed Laboratories (CO) - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "elitemedlabs-co"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "youthclinic-co"
  description: "The Youth Clinic (CO) - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "youthclinic-co"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "pcl-ca"
  description: "Pacific Clinical Laboratory - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "pcl-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "jrslab-ca"
  description: "JRS Laboratory - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "jrslab-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "touroedu-ca"
  description: "Touro University in CA - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "touroedu-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "quantgene-ca"
  description: "Quantgene in CA - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "quantgene-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "uhg-mn"
  description: "UHG in MN - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "uhg-mn"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "mycarelabs-ca"
  description: "MyCare Labs in CA - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "mycarelabs-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "mpbiomedicals"
  description: "MP Biomedicals - CSV for OTC Results"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "mpbiomedicals"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "active"
      schemaName: "csv-otc-covid-19"
      keys: null
      processingType: "sync"

- name: waphd-csvuploadertest
  description: WA-PHD CSV Uploader Test
  jurisdiction: "STATE"
  stateCode: "WA"
  countyName: null
  senders:
    - name: default
      organizationName: waphd-csvuploadertest
      topic: covid-19
      customerStatus: testing
      schemaName: upload-covid-19
      format: CSV

- name: "biovisiondx-il"
  description: "BioVision Diagnostics in IL - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "biovisiondx-il"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "kwokmandx-ca"
  description: "Kwokman Diagnostics in CA - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "kwokmandx-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "covidchecktoday-co"
  description: "Covid Check Today in CO - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "covidchecktoday-co"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "desertoasishealthcare-ca"
  description: "Oasis Healthcare in CA - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "desertoasishealthcare-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "toprankdx-ca"
  description: "Top Rank Diagnostics in CA - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "toprankdx-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "bi2technologies"
  description: "BI2 Technologies (NSA & Prisons) - CSV Uploader and API"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "bi2technologies"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "navushealth"
  description: "Navus Health, LLC - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: [ ]
  senders:
    - name: "default"
      organizationName: "navushealth"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"
