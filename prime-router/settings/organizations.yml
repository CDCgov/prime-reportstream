---
#
# This file runs in environments (ie. your desktop) where the 'localhost' host name resolves
#
- name: simple_report
  description: PRIME's POC testing app
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: simple_report
      topic: covid-19
      customerStatus: active
      schemaName: primedatainput/pdi-covid-19
      format: CSV
    - name: hl7test
      organizationName: simple_report
      topic: covid-19
      customerStatus: active
      schemaName: hl7/test-covid-19
      format: HL7
    - name: csvuploader
      organizationName: simple_report
      topic: covid-19
      customerStatus: active
      schemaName: upload-covid-19
      format: CSV

- name: waters
  description: Test Sender from Waters
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: waters
      topic: covid-19
      customerStatus: active
      schemaName: waters/waters-covid-19
      format: CSV
  receivers:
  - name: "giang"
    organizationName: "waters"
    topic: "covid-19"
    customerStatus: active
    translation:
      schemaName: "waters/waters-covid-19"
      format: "CSV"
      defaults: {}
      nameFormat: "STANDARD"
      receivingOrganization: null
      type: "CUSTOM"
    jurisdictionalFilter:
    - "hasAtLeastOneOf(waters_submitter, sender_id)"
    - "orEquals(patient_state, GH, ordering_facility_state, GH)"
    qualityFilter:
    - "allowAll()"
    reverseTheQualityFilter: false
    deidentify: true
    timing:
      operation: "MERGE"
      numberPerDay: 1440
      initialTime: "00:00"
      timeZone: "EASTERN"
      maxReportCount: 10000
    description: ""
    transport:
      type: SFTP
      host: sftp
      port: 22
      filePath: ./upload
      credentialName: DEFAULT-SFTP
    externalName: null
  - name: "giang2"
    organizationName: "waters"
    topic: "covid-19"
    customerStatus: active
    translation:
      schemaName: "waters/waters-covid-19"
      format: "CSV"
      defaults: {}
      nameFormat: "STANDARD"
      receivingOrganization: null
      type: "CUSTOM"
    jurisdictionalFilter:
    - "hasAtLeastOneOf(waters_submitter, sender_id)"
    - "orEquals(patient_state, GH, ordering_facility_state, GH)"
    qualityFilter:
    - "allowAll()"
    reverseTheQualityFilter: false
    deidentify: true
    timing:
      operation: "MERGE"
      numberPerDay: 1440
      initialTime: "00:00"
      timeZone: "EASTERN"
      maxReportCount: 10000
    description: ""
    transport:
      storageName: "PartnerStorage"
      containerName: "hhsprotect"
      type: "BLOBSTORE"
    externalName: null

- name: upload
  description: Sender who can test uploads to the Upload Tool.
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: upload
      topic: covid-19
      customerStatus: active
      schemaName: upload-covid-19
      format: CSV

- name: bzdlabs
  description: BZD labs
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: bzdlabs
      topic: covid-19
      customerStatus: active
      schemaName: upload-covid-19
      format: CSV

- name: innolitics
  description: Innolitics
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: innolitics
      topic: covid-19
      customerStatus: testing
      schemaName: csv-otc-covid-19
      format: CSV

- name: osang-otc
  description: Osang Healthcare - OTC Testing
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: osang-otc
      topic: covid-19
      customerStatus: active
      schemaName: csv-otc-covid-19
      format: CSV

- name: vaulthealth
  description: Vault Health
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: vaulthealth
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/hl7-ingest-covid-19-training
      format: CSV

- name: safehealth
  description: SAFE - Safe Health Systems
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: safehealth
      topic: covid-19
      customerStatus: active
      schemaName: direct/safehealth-covid-19
      format: CSV

- name: cue
  description: Cue
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: cue
      topic: covid-19
      customerStatus: active
      schemaName: direct/cue-covid-19
      format: CSV

- name: inbios
  description: InBios International, Inc.
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: inbios
      topic: covid-19
      customerStatus: active
      schemaName: direct/inbios-covid-19
      format: CSV

- name: imagemover
  description: ImageMover
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: imagemover
      topic: covid-19
      customerStatus: active
      schemaName: direct/imagemover-covid-19
      format: CSV

- name: anavasidx
  description: AnavasiDx
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: anavasidx
      topic: covid-19
      customerStatus: active
      schemaName: direct/anavasidx-covid-19
      format: CSV

- name: strac
  description: STRAC POC testing app
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: strac
      topic: covid-19
      customerStatus: active
      schemaName: strac/strac-covid-19
      format: CSV

- name: tpca
  description: TPCA Receiver organization via A6
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: tpca
      topic: covid-19
      customerStatus: active
      schemaName: tpca/tpca-covid-19
      format: CSV

- name: careevolution
  description: Care Evolution
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: careevolution
      topic: covid-19
      customerStatus: active
      schemaName: direct/careevolution-covid-19
      format: HL7

- name: hca
  description: HCA
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: hca
      topic: covid-19
      customerStatus: active
      schemaName: direct/hca-covid-19
      format: HL7

- name: abbott
  description: Abbott
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: abbott
      topic: covid-19
      customerStatus: testing
      schemaName: direct/abbott-covid-19
      format: CSV
      processingType: "sync"

- name: lifepoint
  description: LifePoint (Ellume data)
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: lifepoint
      topic: covid-19
      customerStatus: active
      schemaName: hl7/lifepoint-covid-19
      format: HL7

- name: prescryptive
  description: Prescryptive Health
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: prescryptive
      topic: covid-19
      customerStatus: active
      schemaName: hl7/prescryptive-covid-19
      format: HL7

- name: primary
  description: Primary Diagnostics, Inc. (primary.health)
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: primary
      topic: covid-19
      customerStatus: active
      schemaName: hl7/primary-covid-19
      format: HL7

- name: hcintegrations
  description: Healthcare Integrations
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: hcintegrations
      topic: covid-19
      customerStatus: active
      schemaName: hl7/hcintegrations-covid-19
      format: HL7

- name: intrivo
  description: Intrivo
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: intrivo
      topic: covid-19
      customerStatus: active
      schemaName: hl7/hl7-ingest-covid-19-prod
      format: HL7

- name: limsabc-nova
  description: Nova Labnetics
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: limsabc-nova
      topic: covid-19
      customerStatus: active
      schemaName: hl7/hl7-ingest-covid-19-prod
      format: HL7

- name: neurolab
  description: Neurolab
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: neurolab
      topic: covid-19
      customerStatus: active
      schemaName: hl7/hl7-ingest-covid-19-prod
      format: HL7

- name: reopenlab
  description: Reopenlab
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: reopenlab
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/hl7-ingest-covid-19-training
      format: HL7

- name: reopenlab
  description: Reopenlab
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: reopenlab
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/hl7-ingest-covid-19-training
      format: HL7

- name: geneus-diagnostics
  description: Geneus Diagnostics Las Vagas
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: geneus-diagnostics
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/hl7-ingest-covid-19-training
      format: HL7

- name: clxhealth
  description: CLX Health
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: clxhealth
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/hl7-ingest-covid-19-training
      format: HL7

- name: providence
  description: Providence
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: providence
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/hl7-ingest-covid-19-training
      format: HL7

- name: genabio
  description: Genabio
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: genabio
      topic: covid-19
      customerStatus: active
      schemaName: direct/genabio-covid-19
      format: CSV

- name: color-labs
  description: Color Labs
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: color-labs
      topic: covid-19
      customerStatus: active
      schemaName: hl7/color-labs-covid-19
      format: HL7

- name: "naval-health-clinic-lemoore"
  description: "Naval Health Clinic - Lemoore"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: []
  senders:
    - name: "default"
      organizationName: "naval-health-clinic-lemoore"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "johns_hopkins"
  description: "Johns Hopkin's / IHS school testing program"
  jurisdiction: "FEDERAL"
  senders:
    - name: "default"
      organizationName: "johns_hopkins"
      format: "CSV"
      topic: "covid-19"
      customerStatus: active
      schemaName: "AZ/az-ihs-covid-19"

- name: reddyfmc-la
  description: iPatientCare CSV lab report schema, Reddy Family Medical Clinic, LA
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: reddyfmc-la
      topic: covid-19
      customerStatus: active
      schemaName: iPatientCare/reddyfmc-la-covid-19
      format: CSV

- name: guc-la
  description: Experity CSV lab report schema, Greenlight Urgent Care, LA
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: guc-la
      topic: covid-19
      customerStatus: active
      schemaName: experity/guc-la-covid-19
      format: CSV

- name: cuc-al
  description: Experity CSV lab report schema, Compass Urgent Care, AL
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: cuc-al
      topic: covid-19
      customerStatus: active
      schemaName: experity/cuc-al-covid-19
      format: CSV

- name: all-in-one-health-ca
  description: All-In-One Health CSV lab report schema, California
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: all-in-one-health-ca
      topic: covid-19
      customerStatus: active
      schemaName: non-standard/all-in-one-health-ca-covid-19
      format: CSV

- name: csvuploadertest
  description: Sender for Testing Manual Upload of the RS Standard CSV File
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: csvuploadertest
      topic: covid-19
      customerStatus: testing
      schemaName: upload-covid-19
      format: CSV

- name: "corebiolabs-oh"
  description: "Core Bio Labs, Ohio - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: []
  senders:
    - name: "default"
      organizationName: "corebiolabs-oh"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "warrior-dx-co"
  description: "Warrior Diagnostics (CO) - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: []
  senders:
    - name: "default"
      organizationName: "warrior-dx-co"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: "sdilabs-ca"
  description: "SDI Labs - CA"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: []
  senders:
    - name: "default"
      organizationName: "sdilabs-ca"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: sourcebioscience_ca
  description: Source BioScience CSV COVID schema, California
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: sourcebioscience_ca
      topic: covid-19
      customerStatus: testing
      schemaName: upload-covid-19
      format: CSV

- name: "cdphe-csvuploader"
  description: "CDPHE (CO) - CSV Uploader"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: []
  senders:
    - name: "default"
      organizationName: "cdphe-csvuploader"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "testing"
      schemaName: "upload-covid-19"
      keys: null
      processingType: "sync"

- name: vivature-tx
  description: Vivature CSV COVID schema
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: vivature-tx
      topic: covid-19
      customerStatus: testing
      schemaName: upload-covid-19
      format: CSV

- name: cadph-csvuploadertest
  description: CA-DPH CSV Uploader Test
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: cadph-csvuploadertest
      topic: covid-19
      customerStatus: testing
      schemaName: upload-covid-19
      format: CSV

- name: pmg
  description: Premier Medical Group USA
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: pmg
      topic: covid-19
      customerStatus: active
      schemaName: direct/pmg-covid-19
      format: CSV

- name: anavasidx
  description: AnavasiDx
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: anavasidx
      topic: covid-19
      customerStatus: active
      schemaName: direct/anavasidx-covid-19
      format: CSV

- name: mns
  description: Medical Network Solutions
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: mns
      topic: covid-19
      customerStatus: active
      schemaName: hl7/mns-covid-19
      format: HL7

- name: xtrava
  description: Xtrava Health
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: xtrava
      topic: covid-19
      customerStatus: active
      schemaName: direct/direct-otc-covid-19
      format: CSV

- name: detect
  description: Detect
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: detect
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/detect-covid-19
      format: HL7

- name: signetic
  description: Signetic
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: signetic
      topic: covid-19
      customerStatus: testing
      schemaName: hl7/signetic-covid-19
      format: HL7

- name: mayo-clinic
  description: The Mayo Clinic
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: mayo-clinic
      topic: monkeypox
      customerStatus: active
      schemaName: monkeypox
      allowDuplicates: true
      format: HL7

- name: aegis
  description: Aegis Sciences Corporation
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: aegis
      topic: monkeypox
      customerStatus: active
      schemaName: monkeypox
      allowDuplicates: false
      format: HL7

# 'ignore' is a test organization, designed to be safely usable across all our environments.
# It has a bunch of receivers, each given a useful fake name, eg, named after the format of the data, in some cases.
# Please try to always make the reciever name identical to the county jurisdictionalFilter name.
# This is to aid in readability.
- name: ignore
  description: FOR TESTING ONLY
  jurisdiction: FEDERAL
  filters:
    - topic: covid-19
      jurisdictionalFilter: [ "matches(ordering_facility_state, IG)" ]
  senders:
    - name: default
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      schemaName: primedatainput/pdi-covid-19
      format: CSV
    - name: ignore-full-elr      # Use this to test full-elr
      organizationName: ignore
      topic: full-elr
      customerStatus: active
      format: HL7
    - name: ignore-fhir      # Use this to test fhir
      organizationName: ignore
      topic: full-elr
      customerStatus: active
      format: FHIR
    - name: ignore-strac      # Use this to test sending strac data
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      schemaName: strac/strac-covid-19
      format: CSV
    - name: ignore-simple-report      # Use this to test sending simple_report data
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      schemaName: primedatainput/pdi-covid-19
      format: CSV
    - name: no-duplicates      # Use this to test sending simple_report with a dup check
      organizationName: ignore
      topic: covid-19
      customerStatus: active
      schemaName: primedatainput/pdi-covid-19
      allowDuplicates: false    # Duplicate data causes errors!!
      format: CSV
    - name: ignore-waters      # Use this to test sending waters data
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      schemaName: waters/waters-covid-19
      format: CSV
    - name: ignore-empty      # Use this to test sending data from the 'empty' schema
      organizationName: ignore
      topic: covid-19
      customerStatus: active
      schemaName: empty
      format: CSV
    - name: ignore-hl7      # Use this to test sending data from the HL7 schema
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      schemaName: hl7/test-covid-19
      format: HL7
    - name: ignore-monkeypox
      organizationName: ignore
      topic: monkeypox
      customerStatus: inactive
      schemaName: monkeypox
      format: HL7
  receivers:
    - name: CSV
      externalName: The CSV receiver for Ignore
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, CSV)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: az/pima-az-covid-19
        format: CSV
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7
      externalName: Ignore HL7
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: fl/fl-covid-19
        format: HL7
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7_MONKEYPOX
      externalName: Ignore Monkeypox
      organizationName: ignore
      topic: monkeypox
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_MONKEYPOX)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: monkeypox
        format: HL7
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7_BATCH
      externalName: Ignore HL7_BATCH
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_BATCH)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: az/az-covid-19-hl7
        format: HL7_BATCH
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: FULL_ELR
      externalName: Ignore FULL_ELR
      organizationName: ignore
      topic: full-elr
      customerStatus: active
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: none
        format: HL7
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7_BATCH_PPK
      externalName: Ignore HL7_BATCH PPK
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_BATCH)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: az/az-covid-19-hl7
        format: HL7_BATCH
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP-PPK
    - name: HL7_BATCH_PEM
      externalName: Ignore HL7_BATCH PEM
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_BATCH)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: az/az-covid-19-hl7
        format: HL7_BATCH
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP-PEM
    - name: AS2
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, AS2)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: HL7
        useBatchHeaders: true
    - name: HL7_NULL     # Null Transport.
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_NULL)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: tx/tx-covid-19
        format: HL7_BATCH
    - name: BLOBSTORE
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, BLOBSTORE)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: hhsprotect/hhsprotect-covid-19
        format: CSV
      transport:
        type: BLOBSTORE
        storageName: PartnerStorage
        containerName: hhsprotect
    - name: SFTP_FAIL    # If you put "FAIL" in the receiver name, then the happy-path tests in TestReportStream will ignore them.
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, SFTP_FAIL)" ]
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: az/az-covid-19-hl7
        format: CSV
      transport:
        type: SFTP
        host: sftp_FAIL_BAD
        port: 2222
        filePath: ./upload_FAIL
    - name: QUALITY_PASS
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, QUALITY_PASS, removed)" ]
      qualityFilter:
        - hasValidDataFor(message_id,ordering_facility_county,ordering_facility_state)
        - hasAtLeastOneOf(message_id,blankField)
        - matches(ordering_facility_county, QUALITY_PASS)
      translation:
        type: CUSTOM
        schemaName: empty
        format: CSV
    - name: QUALITY_REVERSED
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, QUALITY_REVERSED, kept)" ]
      qualityFilter:
        - hasValidDataFor(message_id,ordering_facility_county,ordering_facility_state)
        - hasAtLeastOneOf(message_id,blankField)
        - matches(ordering_facility_county, QUALITY_REVERSED)
      # Get 'not(qualityFilter)'
      reverseTheQualityFilter: true
      translation:
        type: CUSTOM
        schemaName: empty
        format: CSV
    - name: QUALITY_ALL
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, QUALITY_ALL)" ]
      qualityFilter: [ "allowAll()" ]
      translation:
        type: CUSTOM
        schemaName: empty
        format: CSV
    - name: QUALITY_FAIL
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, QUALITY_FAIL)" ]
      qualityFilter: [ "hasValidDataFor(blankField)", "hasAtLeastOneOf(message_id,blankField)" ]
      translation:
        type: CUSTOM
        schemaName: empty
        format: CSV
    - name: OTC_PROCTORED_YYY
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, OTC_PROCTORED)" ]
      qualityFilter: [ "matches(test_authorized_for_otc, Y)","matches(test_authorized_for_home, Y)","matches(test_authorized_for_unproctored, Y)" ]
      translation:
        type: "CUSTOM"
        schemaName: "hhsprotect/hhsprotect-covid-19"
        format: "CSV"
      deidentify: true
    - name: OTC_PROCTORED_NYY
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, OTC_PROCTORED)" ]
      qualityFilter: [ "matches(test_authorized_for_otc, N)","matches(test_authorized_for_home, Y)","matches(test_authorized_for_unproctored, Y)" ]
      translation:
        type: "CUSTOM"
        schemaName: "hhsprotect/hhsprotect-covid-19"
        format: "CSV"
      deidentify: true
    - name: OTC_PROCTORED_NUNKUNK
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, OTC_PROCTORED)" ]
      qualityFilter: [ "matches(test_authorized_for_otc, N)","matches(test_authorized_for_home, UNK)","matches(test_authorized_for_unproctored, UNK)" ]
      translation:
        type: "CUSTOM"
        schemaName: "hhsprotect/hhsprotect-covid-19"
        format: "CSV"
      deidentify: true
    - name: EVERY_5_MINS
      externalName: Batches and Sends every 5 minutes.  For Load testing.
      organizationName: ignore
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_county, EVERY_5_MINS)" ]
      timing:
        operation: MERGE
        numberPerDay: 288 # Every 5 minutes
        initialTime: 00:00
      translation:
        type: HL7
        useBatchHeaders: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: EVERY_15_MINS
      externalName: Batches and Sends every 15 minutes.  For Load testing.
      organizationName: ignore
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_county, EVERY_15_MINS)" ]
      timing:
        operation: MERGE
        numberPerDay: 96 # Every 15 minutes
        initialTime: 00:00
      translation:
        type: HL7
        useBatchHeaders: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: EVERY_60_MINS
      externalName: Batches and Sends every 60 minutes.  For Load testing.
      organizationName: ignore
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_county, EVERY_60_MINS)" ]
      timing:
        operation: MERGE
        numberPerDay: 24 # Every 60 minutes
        initialTime: 00:00
      translation:
        type: HL7
        useBatchHeaders: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: SETTINGS_TEST
      externalName: Used to test putting sender settings into the data, using ignore.ignore-empty
      organizationName: ignore
      topic: covid-19
      customerStatus: active
      jurisdictionalFilter: [ "matches(ordering_facility_county, SETTINGS_TEST)" ]
      qualityFilter: [ "allowAll()" ]
      # These three filters must match the settings for the ignore.ignore-empty Sender.
      routingFilter:
        - matches(sender_fullname, ignore.ignore-empty)
        - matches(sender_orgname, ignore)
      processingModeFilter:
        # Because ignore.ignore-empty has customerStatus = active
        - matches(processing_mode_code, P)
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: CUSTOM
        schemaName: empty
        format: CSV
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7_BATCH_LOCAL_TIME_CONVERT
      externalName: LocalTime HL7_BATCH
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_BATCH)" ]
      timeZone: PACIFIC
      dateTimeFormat: LOCAL
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: HL7
        format: HL7_BATCH
        receivingApplicationName: IG-PACIFIC-LOCAL-TIME
        convertDateTimesToReceiverLocalTime: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7_BATCH_OFFSET_TIME_CONVERT
      externalName: Offset HL7_BATCH
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_BATCH)" ]
      timeZone: PACIFIC
      dateTimeFormat: OFFSET
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: HL7
        format: HL7_BATCH
        receivingApplicationName: IG-PACIFIC-OFFSET
        convertDateTimesToReceiverLocalTime: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP
    - name: HL7_BATCH_OFFSET_TIME_UTC
      externalName: Offset UTC HL7_BATCH
      organizationName: ignore
      topic: covid-19
      customerStatus: inactive
      jurisdictionalFilter: [ "matches(ordering_facility_county, HL7_BATCH)" ]
      timeZone: UTC
      dateTimeFormat: OFFSET
      timing:
        operation: MERGE
        numberPerDay: 1440 # Every minute
        initialTime: 00:00
      translation:
        type: HL7
        format: HL7_BATCH
        receivingApplicationName: IG-UTC-OFFSET
        convertDateTimesToReceiverLocalTime: true
      transport:
        type: SFTP
        host: sftp
        port: 22
        filePath: ./upload
        credentialName: DEFAULT-SFTP

- name: historytest
  description: FOR TESTING SUBMISSION HISTORY
  jurisdiction: FEDERAL
  senders:
    - name: default
      organizationName: historytest
      topic: covid-19
      customerStatus: active
      schemaName: primedatainput/pdi-covid-19
      format: CSV

- name: "mpbiomedicals"
  description: "MP Biomedicals - CSV for OTC Results"
  jurisdiction: "FEDERAL"
  stateCode: null
  countyName: null
  filters: []
  senders:
    - name: "default"
      organizationName: "mpbiomedicals"
      format: "CSV"
      topic: "covid-19"
      customerStatus: "active"
      schemaName: "csv-otc-covid-19"
      keys: null
      processingType: "sync"