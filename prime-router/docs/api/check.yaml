paths:
  /check:
    get:
      operationId: getCheck
      summary: checks a single remote connection
      description: checks a single remote connection
      security:
        - ApiKeyAuth: []
      responses:
        '200':
          description: success call
        '400':
          $ref: 'components/responses.yaml#/BadRequest'
        default:
          $ref: 'components/responses.yaml#/BadRequest'

    post:
      operationId: postCheck
      summary: checks a single remote connection
      description: checks a single remote connection
      security:
        - ApiKeyAuth: []
      responses:
        '200':
          description: success call
        '400':
          $ref: 'components/responses.yaml#/BadRequest'
        default:
          $ref: 'components/responses.yaml#/BadRequest'

  /checkreceiver/org/{orgName}/receiver/{receiverName}:
    post:
      tags:
       - default
       - UserTypeAdmin
       - UserTypeOrganizationAdmin
      operationId: postCheckReceiverOrgReceiver
      summary: Load Receiver Settings and verifies connecting to the external server works.
      description: Load Receiver Settings and verifies connecting to the external server works.
      parameters:
        - name: orgName
          in: path
          description: Name of Organization.
          required: true
          schema:
            type: string
        - name: receiverName
          in: path
          description: Logical name of the Receiver Setting
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The table contents
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CheckReceiverResponse'
        '400':
          $ref: 'components/responses.yaml#/BadRequest'
        '404':
          description: The orgName or receiverName  was not found
          content:
            text/plain:
              schema:
                type: string
                example: User FAILED authorized for endpoint
        default:
          $ref: 'components/responses.yaml#/BadRequest'

components:
  schemas:
    CheckReceiverResponse:
      description: A json object with a result and message field.
      type: object
      required: [ "result", "message" ]
      properties:
        result:
          type: string
          description: "'success' or 'fail' for connecting to receiver using these settings"
          example: "success"
        message:
          type: string
          description: Multi-line string with messages to debug issue. Will include \\n and \\t characters
          example: "ignore.EVERY_5_MINS: SFTP Transport: SFTPTransportType(host=sftp, port=22, filePath=./upload, credentialName=DEFAULT-SFTP)\\n\\tignore.EVERY_5_MINS: sftp: No root cause\\njava.net.UnknownHostException"
