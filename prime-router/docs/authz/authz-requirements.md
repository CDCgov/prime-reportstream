### Authorization requirements by endpoint
This is valid as of 12/10/24


| Location                                                                                  | Function Name               | Verb             | URL                                                                     | Auth Strategy                                                                              | Authz requirements                                               |
|-------------------------------------------------------------------------------------------|-----------------------------|------------------|-------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|------------------------------------------------------------------|
| [SenderFilesFunction](../../src/main/kotlin/azure/SenderFilesFunction.kt)                 | getSenderFiles              | GET              | /api/sender-files                                                       | [OktaAuthentication](../../src/main/kotlin/tokens/OktaAuthentication.kt)                   | System Admin                                                     |
| [AdminApiFunctions](../../src/main/kotlin/azure/AdminApiFunctions.kt)                     | getSendFailures             | GET              | /api/adm/getsendfailures                                                | [OktaAuthentication](../../src/main/kotlin/tokens/OktaAuthentication.kt)                   | System Admin                                                     |
| [AdminApiFunctions](../../src/main/kotlin/azure/AdminApiFunctions.kt)                     | listreceiversconnstatus     | GET              | /api/adm/listreceiversconnstatus                                        | [OktaAuthentication](../../src/main/kotlin/tokens/OktaAuthentication.kt)                   | System Admin                                                     |
| [AdminApiFunctions](../../src/main/kotlin/azure/AdminApiFunctions.kt)                     | getresend                   | GET              | /api/adm/getresend                                                      | [OktaAuthentication](../../src/main/kotlin/tokens/OktaAuthentication.kt)                   | System Admin                                                     |
| [ApiKeysFunctions](../../src/main/kotlin/azure/ApiKeysFunctions.kt)                       | getApiKeys                  | GET              | /api/settings/organizations/{organizationName}/public-keys              | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, or org user                             |
| [ApiKeysFunctions](../../src/main/kotlin/azure/ApiKeysFunctions.kt)                       | getApiKeysV1                | GET              | /api/v1/settings/organizations/{organizationName}/public-keys           | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, or org user                             |
| [ApiKeysFunctions](../../src/main/kotlin/azure/ApiKeysFunctions.kt)                       | postApiKey                  | POST             | /api/settings/organizations/{organizationName}/public-keys              | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin or org admin                                        |
| [ApiKeysFunctions](../../src/main/kotlin/azure/ApiKeysFunctions.kt)                       | deleteApiKey                | DELETE           | settings/organizations/{organizationName}/public-keys/{scope}/{kid}     | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin or org admin                                        |
| [CheckFunction](../../src/main/kotlin/azure/CheckFunction.kt)                             | check                       | GET,POST         | /api/check                                                              | x-functions-key                                                                            | None                                                             |
| [CheckFunction](../../src/main/kotlin/azure/CheckFunction.kt)                             | checkreceiver               | POST             | /api/checkreceiver/org/{orgName}/receiver/{receiverName}                | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin or org admin                                        |
| [CovidResultMetadataFunction](../../src/main/kotlin/azure/CovidResultMetaDataFunction.kt) | save-covid-result-metadata  | GET              | /api/saveTestData                                                       | x-functions-key                                                                            | None                                                             |
| [EmailEngineFunction](../../src/main/kotlin/azure/EmailEngineFunction.kt)                 | createEmailSchedule         | POST             | /api/email-schedule                                                     | EmailEngineFunction.validateUser (Custom Okta)                                             | System Admin                                                     |
| [EmailEngineFunction](../../src/main/kotlin/azure/EmailEngineFunction.kt)                 | deleteEmailSchedule         | DELETE           | /api/email-schedule/{scheduleId}                                        | EmailEngineFunction.validateUser (Custom Okta)                                             | System Admin                                                     |
| [EmailSenderFunction](../../src/main/kotlin/azure/EmailSenderFunction.kt)                 | emailRegisteredOrganization | POST             | /api/email-registered                                                   | None                                                                                       | None                                                             |
| [SettingsFunctions](../../src/main/kotlin/azure/SettingsFunctions.kt)                     | getOrganizations            | GET,HEAD         | /api/settings/organizations                                             | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | HEAD: System Admin<br/>GET: System Admin, org admin, or org user |
| [SettingsFunctions](../../src/main/kotlin/azure/SettingsFunctions.kt)                     | getOneOrganization          | GET              | /api/settings/organizations/{organizationName}                          | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, or org user                             |
| [SettingsFunctions](../../src/main/kotlin/azure/SettingsFunctions.kt)                     | getSenders                  | GET              | /api/settings/organizations/{organizationName}/senders                  | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, or org user                             |
| [SettingsFunctions](../../src/main/kotlin/azure/SettingsFunctions.kt)                     | updateOneOrganization       | DELETE,PUT       | /api/settings/organizations/{organizationName}                          | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin                                                     |
| [SettingsFunctions](../../src/main/kotlin/azure/SettingsFunctions.kt)                     | getOneSender                | GET              | /api/settings/organizations/{organizationName}/senders/{senderName}     | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, or org user                             |
| [SettingsFunctions](../../src/main/kotlin/azure/SettingsFunctions.kt)                     | updateOneSender             | DELETE,PUT       | /api/settings/organizations/{organizationName}/senders/{senderName}     | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin                                                     |
| [SettingsFunctions](../../src/main/kotlin/azure/SettingsFunctions.kt)                     | getReceivers                | GET              | /api/settings/organizations/{organizationName}/receivers                | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, or org user                             |
| [SettingsFunctions](../../src/main/kotlin/azure/SettingsFunctions.kt)                     | getOneReceiver              | GET              | /api/settings/organizations/{organizationName}/receivers/{receiverName} | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, or org user                             |
| [SettingsFunctions](../../src/main/kotlin/azure/SettingsFunctions.kt)                     | updateOneReceiver           | DELETE,PUT       | /api/settings/organizations/{organizationName}/receivers/{receiverName} | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin                                                     |
| [SettingsFunctions](../../src/main/kotlin/azure/SettingsFunctions.kt)                     | getSettingRevisionHistory   | GET              | /api/waters/org/{organizationName}/settings/revs/{settingSelector}      | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, or org user                             |
| [RequeueFunction](../../src/main/kotlin/azure/RequeueFunction.kt)                         | requeue                     | POST             | /api/requeue/send                                                       | x-functions-key                                                                            | None                                                             |
| [RequeueFunction](../../src/main/kotlin/azure/RequeueFunction.kt)                         | doResendFunction            | POST             | /api/adm/resend                                                         | [OktaAuthentication](../../src/main/kotlin/tokens/OktaAuthentication.kt)                   | System Admin                                                     |
| [TokenFunction](../../src/main/kotlin/azure/TokenFunction.kt)                             | token                       | POST             | /api/token                                                              | [Server2ServerAuthentication](../../src/main/kotlin/tokens/Server2ServerAuthentication.kt) | Requires properly signed client assertion JWT                    |
| [HistoryFunctions](../../src/main/kotlin/azure/HistoryFunctions.kt)                       | getReports                  | GET,HEAD,OPTIONS | /api/history/report                                                     | HistoryFunctions.checkAuthenticated (Custom)                                               | System Admin, org admin, or org user                             |
| [HistoryFunctions](../../src/main/kotlin/azure/HistoryFunctions.kt)                       | searchReports               | POST             | /api/v1/reports/search                                                  | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin                                                     |
| [HistoryFunctions](../../src/main/kotlin/azure/HistoryFunctions.kt)                       | getReportById               | GET              | /api/history/report/{reportId}                                          | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, org user, or report                     |
| [HistoryFunctions](../../src/main/kotlin/azure/HistoryFunctions.kt)                       | getFacilitiesByReportId     | GET              | /api/history/report/{reportId}/facilities                               | HistoryFunctions.checkAuthenticated (Custom)                                               | System Admin, org admin, org user                                |
| [LookupTableFunctions](../../src/main/kotlin/azure/LookupTableFunctions.kt)               | getLookupTableList          | GET,HEAD         | /api/lookuptables/list                                                  | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | None                                                             |
| [LookupTableFunctions](../../src/main/kotlin/azure/LookupTableFunctions.kt)               | getLookupTableData          | GET              | /api/lookuptables/{tableName}/{tableVersion}/content                    | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | None                                                             |
| [LookupTableFunctions](../../src/main/kotlin/azure/LookupTableFunctions.kt)               | getActiveLookupTableData    | GET              | /api/lookuptables/{tableName}/content                                   | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | None                                                             |
| [LookupTableFunctions](../../src/main/kotlin/azure/LookupTableFunctions.kt)               | getLookupTableInfo          | GET              | /api/lookuptables/{tableName}/{tableVersion}/info                       | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | None                                                             |
| [LookupTableFunctions](../../src/main/kotlin/azure/LookupTableFunctions.kt)               | createLookupTable           | POST             | /api/lookuptables/{tableName}                                           | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin                                                     |
| [LookupTableFunctions](../../src/main/kotlin/azure/LookupTableFunctions.kt)               | activateLookupTable         | PUT              | /api/lookuptables/{tableName}/{tableVersion}/activate                   | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin                                                     |
| [MessagesFunctions](../../src/main/kotlin/azure/MessagesFunctions.kt)                     | messageSearch               | GET              | /api/messages                                                           | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin                                                     |
| [MessagesFunctions](../../src/main/kotlin/azure/MessagesFunctions.kt)                     | messageDetails              | GET              | /api/message/{id}                                                       | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin                                                     |
| [MetaDataFunction](../../src/main/kotlin/azure/MetaDataFunction.kt)                       | getLivdData                 | GET              | /api/metadata/livd                                                      | None                                                                                       | None                                                             |
| [ReportFunction](../../src/main/kotlin/azure/ReportFunction.kt)                           | reports                     | POST             | /api/reports                                                            | x-functions-key                                                                            | None                                                             |
| [ReportFunction](../../src/main/kotlin/azure/ReportFunction.kt)                           | getMessagesFromTestBank     | POST             | /api/reports/testing                                                    | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin                                                     |
| [ReportFunction](../../src/main/kotlin/azure/ReportFunction.kt)                           | processFhirDataRequest      | POST             | /api/reports/testing/test                                               | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin                                                     |
| [ReportFunction](../../src/main/kotlin/azure/ReportFunction.kt)                           | downloadReport              | GET              | /api/reports/download                                                   | x-functions-key                                                                            | None                                                             |
| [ReportFunction](../../src/main/kotlin/azure/ReportFunction.kt)                           | waters                      | POST             | /api/waters                                                             | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, org user, or report                     |
| [ValidateFunction](../../src/main/kotlin/azure/ValidateFunction.kt)                       | validate                    | POST             | /api/validate                                                           | None                                                                                       | None                                                             |
| [DeliveryFunction](../../src/main/kotlin/history/azure/DeliveryFunction.kt)               | getDeliveriesV1             | POST             | /api/v1/receivers/{receiverName}/deliveries                             | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, org user, or report                     |
| [DeliveryFunction](../../src/main/kotlin/history/azure/DeliveryFunction.kt)               | getDeliveriesHistory        | POST             | /api/v1/waters/org/{organization}/deliveries                            | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, org user, or report                     |
| [DeliveryFunction](../../src/main/kotlin/history/azure/DeliveryFunction.kt)               | getDeliveries               | GET              | /api/waters/org/{organization}/deliveries                               | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, org user, or report                     |
| [DeliveryFunction](../../src/main/kotlin/history/azure/DeliveryFunction.kt)               | getDeliveryDetails          | GET              | /api/waters/report/{id}/delivery                                        | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, org user, or report                     |
| [DeliveryFunction](../../src/main/kotlin/history/azure/DeliveryFunction.kt)               | getEtorMetadataForDelivery  | GET              | /api/waters/report/{reportId}/delivery/etorMetadata                     | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, org user, or report                     |
| [DeliveryFunction](../../src/main/kotlin/history/azure/DeliveryFunction.kt)               | getDeliveryFacilities       | GET              | /api/waters/report/{id}/facilities                                      | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, org user, or report                     |
| [DeliveryFunction](../../src/main/kotlin/history/azure/DeliveryFunction.kt)               | getReportItemsV1            | GET              | /api/v1/report/{reportId}/items                                         | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin                                                     |
| [DeliveryFunction](../../src/main/kotlin/history/azure/DeliveryFunction.kt)               | getSubmittersV1             | POST             | /api/v1/receivers/{receiverName}/deliveries/submitters/search           | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, org user, or report                     |
| [SubmissionFunction](../../src/main/kotlin/history/azure/SubmissionFunction.kt)           | getOrgSubmissionsList       | GET              | /api/waters/org/{organization}/submissions                              | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, org user, or report                     |
| [SubmissionFunction](../../src/main/kotlin/history/azure/SubmissionFunction.kt)           | getReportDetailedHistory    | GET              | /api/waters/report/{id}/history                                         | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, org user, or report                     |
| [SubmissionFunction](../../src/main/kotlin/history/azure/SubmissionFunction.kt)           | getEtorMetadataForHistory   | GET              | /api/waters/report/{reportId}/history/etorMetadata                      | [AuthenticatedClaims](../../src/main/kotlin/tokens/AuthenticatedClaims.kt)                 | System Admin, org admin, org user, or report                     |
