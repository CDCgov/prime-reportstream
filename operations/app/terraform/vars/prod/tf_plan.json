{"format_version":"1.1","terraform_version":"1.2.0","planned_values":{"root_module":{"child_modules":[{"resources":[{"address":"module.azure_dashboard-copy.azurerm_dashboard.az_dashboard","mode":"managed","type":"azurerm_dashboard","name":"az_dashboard","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"dashboard_properties":"{\"lenses\":{\"0\":{\"order\":0,\"parts\":{\"0\":{\"metadata\":{\"asset\":{\"idInputName\":\"id\",\"type\":\"ApplicationInsights\"},\"inputs\":[{\"name\":\"id\",\"value\":\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"},{\"name\":\"Version\",\"value\":\"1.0\"}],\"type\":\"Extension/AppInsightsExtension/PartType/MonitoredApplicationsTile\"},\"position\":{\"colSpan\":2,\"rowSpan\":1,\"x\":0,\"y\":0}},\"1\":{\"metadata\":{\"asset\":{\"idInputName\":\"id\",\"type\":\"ApplicationInsights\"},\"inputs\":[{\"name\":\"id\",\"value\":\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"},{\"name\":\"Version\",\"value\":\"1.0\"}],\"type\":\"Extension/AppInsightsExtension/PartType/MonitoredApplicationsTile\"},\"position\":{\"colSpan\":2,\"rowSpan\":1,\"x\":2,\"y\":0}},\"10\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"5fc74968-4b70-41a1-862f-9726e124425e\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(200h)\\n    | where isempty(operation_SyntheticSource) //filtering out HTTP requests made by bots\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable =  () {\\n    queryTable\\n    | extend timeInSeconds = todynamic(tostring(customDimensions[\\\"sessionLength\\\"]))\\n    | evaluate bag_unpack(timeInSeconds)\\n    | order by timestamp desc\\n};\\nsplitTable\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"Session Duration with Membership Metadata\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":0,\"y\":16}},\"2\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"12caea22-3545-459f-8f05-9618d2003711\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable =  () {\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend member_type = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n};\\nlet cohortedTable = splitTable\\n    //| where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    | summarize ['Page Views'] = count() by bin(timestamp, 1d), member_type\\n    | project\\n    [\\\"Date/Time\\\"] = timestamp,\\n    member_type,\\n    [\\\"Page Views\\\"]\\n| render columnchart; \\ncohortedTable\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"FrameControlChart\"},{\"isOptional\":true,\"name\":\"SpecificChart\",\"value\":\"StackedColumn\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\",\"value\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"member_type\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"Date/Time\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Page Views\",\"type\":\"long\"}]}},{\"isOptional\":true,\"name\":\"LegendOptions\",\"value\":{\"isEnabled\":true,\"position\":\"Bottom\"}},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"Total Page Views by Member Type\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable =  () {\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend member_type = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n};\\nlet cohortedTable = splitTable\\n    | where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    | summarize ['Page Views'] = count() by bin(timestamp, 1d), member_type\\n    | project\\n    [\\\"Date/Time\\\"] = timestamp,\\n    member_type,\\n    [\\\"Page Views\\\"]\\n| render columnchart; \\ncohortedTable\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":0,\"y\":2}},\"3\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"7db41bbc-9a0a-4311-9130-8493cd13c8fa\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews, customEvents, requests\\n    | where timestamp \\u003e ago(1d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable = () {\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend memberType = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n};\\nlet cohortedTable = splitTable\\n    | where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    | where memberType != \\\"\\u003cundefined\\u003e\\\"\\n    | extend byDimension = bin(timestamp, 1h)\\n    | summarize metricHll = hll(session_Id) by byDimension, memberType;\\nlet topSegments = cohortedTable\\n    | summarize mergedMetricHll = hll_merge(metricHll) by memberType\\n    | project memberType, dcount_session_Id = dcount_hll(mergedMetricHll)\\n    | top 5 by dcount_session_Id desc nulls last\\n    | summarize makelist(memberType);\\ncohortedTable\\n| extend userId = iff(memberType in (topSegments), memberType, \\\"Other\\\")\\n| project byDimension, userId, metricHll\\n| summarize metric = hll_merge(metricHll) by userId, byDimension\\n| order by userId asc, byDimension desc\\n| project [\\\"Date/time\\\"]=byDimension, [\\\"Membership Type\\\"]=userId, [\\\"Session Count\\\"] = dcount_hll(metric)\\n| render columnchart\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"FrameControlChart\"},{\"isOptional\":true,\"name\":\"SpecificChart\",\"value\":\"StackedColumn\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\",\"value\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"Membership Type\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"Date/time\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Session Count\",\"type\":\"long\"}]}},{\"isOptional\":true,\"name\":\"LegendOptions\",\"value\":{\"isEnabled\":true,\"position\":\"Bottom\"}},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"Membership Type\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"Date/Time\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Session Count\",\"type\":\"long\"}]},\"PartTitle\":\"Session Count by Member Type\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews, customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable = () {\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend memberType = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n};\\nlet cohortedTable = splitTable\\n    | where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    | where memberType != \\\"\\u003cundefined\\u003e\\\"\\n    | extend byDimension = bin(timestamp, 1d)\\n    | summarize metricHll = hll(session_Id) by byDimension, memberType;\\nlet topSegments = cohortedTable\\n    | summarize mergedMetricHll = hll_merge(metricHll) by memberType\\n    | project memberType, dcount_session_Id = dcount_hll(mergedMetricHll)\\n    | top 5 by dcount_session_Id desc nulls last\\n    | summarize makelist(memberType);\\ncohortedTable\\n| extend userId = iff(memberType in (topSegments), memberType, \\\"Other\\\")\\n| project byDimension, userId, metricHll\\n| summarize metric = hll_merge(metricHll) by userId, byDimension\\n| order by userId asc, byDimension desc\\n| project [\\\"Date/Time\\\"]=byDimension, [\\\"Membership Type\\\"]=userId, [\\\"Session Count\\\"] = dcount_hll(metric)\\n| render columnchart\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":6,\"y\":2}},\"4\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"9ef4b7a4-9076-4f6a-8644-13efc1293899\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);let grain = iff(true, 1d, 1h);  let mainTable = union pageViews     | where timestamp \\u003e ago(90d) | where isempty(operation_SyntheticSource) | extend name =replace(\\\"\\\\n\\\", \\\"\\\",name) | extend name =replace(\\\"\\\\r\\\", \\\"\\\",name) | where '*' in (usg_events) or name in (usg_events) | where customDimensions[\\\"activeMembership\\\"] !contains \\\"prime-admin\\\" ; let resultTable = mainTable; resultTable     | make-series Users = dcountif(user_Id, 'user_Id' != 'user_AuthenticatedId' or ('user_Id' =='user_AuthenticatedId' and isnotempty(user_Id))) default = 0 on timestamp from ago(90d) to now() step grain\\r| render barchart\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"FrameControlChart\"},{\"isOptional\":true,\"name\":\"SpecificChart\",\"value\":\"StackedColumn\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\",\"value\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"timestamp\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Users\",\"type\":\"real\"}]}},{\"isOptional\":true,\"name\":\"LegendOptions\",\"value\":{\"isEnabled\":true,\"position\":\"Bottom\"}},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"timestamp\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Page Views\",\"type\":\"real\"}]},\"PartTitle\":\"Page Views Excluding 'prime-admin'\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);let grain = iff(true, 1d, 1h);  let mainTable = union pageViews     | where timestamp \\u003e ago(30d) | where isempty(operation_SyntheticSource) | extend name =replace(\\\"\\\\n\\\", \\\"\\\",name) | extend name =replace(\\\"\\\\r\\\", \\\"\\\",name) | where '*' in (usg_events) or name in (usg_events) | where customDimensions[\\\"activeMembership\\\"] !contains \\\"prime-admin\\\" ; let resultTable = mainTable; resultTable     | make-series [\\\"Page Views\\\"] = dcountif(user_Id, 'user_Id' != 'user_AuthenticatedId' or ('user_Id' =='user_AuthenticatedId' and isnotempty(user_Id))) default = 0 on timestamp from ago(30d) to now() step grain\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":12,\"y\":2}},\"5\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"4c473b58-a778-417c-a144-8ba938108f7b\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"Daily Data | Table Pagination\\\", \\\"Submissions | Table Pagination\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(90d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where true;\\nlet byTable = mainTable;\\nlet queryTable = () {\\n    byTable\\n    | extend dimension = customDimensions[\\\"tablePagination\\\"]\\n    | extend dimension = iif(isempty(dimension), \\\"\\u003cundefined\\u003e\\\", dimension)\\n};\\nlet byCohortTable = queryTable\\n    | project name, dimension;\\nlet topSegments = byCohortTable\\n    | summarize Events = count() by name, dimension\\n    | summarize make_list(dimension,1000);    //Returns a dynamic JSON array of all the values of Expr in the group. Needed here.\\nlet topEventMetrics = byCohortTable\\n    | where dimension in (topSegments);\\nlet otherEventUsers = byCohortTable\\n    | where dimension !in (topSegments)\\n    | extend dimension = \\\"Other\\\";\\notherEventUsers\\n| union topEventMetrics\\n| summarize Events = count() by name, dimension\\n| order by dimension asc\\n| render columnchart\\nwith (\\n    xtitle=\\\"Table\\\",\\n    ytitle=\\\"Counts\\\",\\n    title=\\\"Pagination Usage by Table\\\")\\n\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"FrameControlChart\"},{\"isOptional\":true,\"name\":\"SpecificChart\",\"value\":\"StackedColumn\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Pagination Usage by Table\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\",\"value\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"dimension\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"name\",\"type\":\"string\"},\"yAxis\":[{\"name\":\"Events\",\"type\":\"long\"}]}},{\"isOptional\":true,\"name\":\"LegendOptions\",\"value\":{\"isEnabled\":true,\"position\":\"Bottom\"}},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"Query\":\"let usg_events = dynamic([\\\"Daily Data | Table Pagination\\\", \\\"Submissions | Table Pagination\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where true;\\nlet byTable = mainTable;\\nlet queryTable = () {\\n    byTable\\n    | extend dimension = customDimensions[\\\"tablePagination\\\"]\\n    | extend dimension = iif(isempty(dimension), \\\"\\u003cundefined\\u003e\\\", dimension)\\n};\\nlet byCohortTable = queryTable\\n    | project name, dimension;\\nlet topSegments = byCohortTable\\n    | summarize Events = count() by name, dimension\\n    | summarize make_list(dimension,1000);    //Returns a dynamic JSON array of all the values of Expr in the group. Needed here.\\nlet topEventMetrics = byCohortTable\\n    | where dimension in (topSegments);\\nlet otherEventUsers = byCohortTable\\n    | where dimension !in (topSegments)\\n    | extend dimension = \\\"Other\\\";\\notherEventUsers\\n| union topEventMetrics\\n| summarize Events = count() by name, dimension\\n| order by dimension asc\\n| render columnchart\\nwith (\\n    xtitle=\\\"Table\\\",\\n    ytitle=\\\"Counts\\\",\\n    title=\\\"Pagination Usage by Table\\\")\\n\\n\",\"SpecificChart\":\"UnstackedColumn\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":18,\"y\":2}},\"6\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"7f10e6c8-aa3b-48fd-9534-fe194127357b\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(90d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where isnotempty(customDimensions[\\\"tableFilter\\\"])\\n    | extend ActiveMembership = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(ActiveMembership)\\n    | extend TableFilter = todynamic(tostring(customDimensions[\\\"tableFilter\\\"]))\\n    | evaluate bag_unpack(TableFilter);\\nlet queryTable = mainTable;\\nqueryTable\\n| extend TimeDiff = datetime_diff('day', todatetime(endRange), todatetime(startRange))\\n| order by timestamp desc \\n| project\\n    [\\\"No. Days in Range\\\"] = TimeDiff,\\n    [\\\"Start Date\\\"] = todatetime(startRange),\\n    [\\\"Table Filter Name\\\"] = name,\\n    [\\\"Organization Name\\\"] = parsedName,\\n    [\\\"Date filter was Used\\\"] = todatetime(timestamp);\\nqueryTable\\n\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"Table Filter Event Usage\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where isnotempty(customDimensions[\\\"tableFilter\\\"])\\n    | extend ActiveMembership = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(ActiveMembership)\\n    | extend TableFilter = todynamic(tostring(customDimensions[\\\"tableFilter\\\"]))\\n    | evaluate bag_unpack(TableFilter);\\nlet queryTable = mainTable;\\nqueryTable\\n| extend TimeDiff = datetime_diff('day', todatetime(endRange), todatetime(startRange))\\n| order by timestamp desc \\n| project\\n    [\\\"No. Days in Range\\\"] = TimeDiff,\\n    [\\\"Start Date\\\"] = todatetime(startRange),\\n    [\\\"Table Filter Name\\\"] = name,\\n    [\\\"Organization Name\\\"] = parsedName,\\n    [\\\"Date filter was Used\\\"] = todatetime(timestamp),\\n    memberType;\\nqueryTable\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":9,\"rowSpan\":5,\"x\":0,\"y\":6}},\"7\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"1a5f54c6-441c-4164-b54b-2ea880afdcee\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\",\"value\":\"P1D\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"// select count from page where member type ='prime-admin'\\nlet usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews\\n    | where timestamp \\u003e ago(90d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend member_type = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n    | summarize PageCount = count() by member_type, operation_Name\\n| project [\\\"Page Viewed\\\"] = operation_Name, p = pack(strcat(member_type, \\\" visit count\\\"), PageCount)\\n| summarize b = make_bag(p) by [\\\"Page Viewed\\\"]\\n| evaluate bag_unpack(b)\\n\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":false}],\"settings\":{\"content\":{\"IsQueryContainTimeRange\":true,\"PartTitle\":\"Page Views by Member Type\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend member_type = iif(isempty(memberType), \\\"unauthenticated\\\", memberType)\\n    | summarize PageCount = count() by member_type, operation_Name\\n| project [\\\"Page Viewed\\\"] = operation_Name, p = pack(strcat(member_type, \\\" visit count\\\"), PageCount)\\n| summarize b = make_bag(p) by [\\\"Page Viewed\\\"]\\n| order by ['Page Viewed'] asc \\n| evaluate bag_unpack(b)\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":9,\"rowSpan\":5,\"x\":9,\"y\":6}},\"8\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"526d8e53-6d5e-4c42-81af-9ef1c9ccfba1\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"Daily Data | Table Pagination\\\", \\\"Submissions | Table Pagination\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(2d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where true;\\nlet byTable = mainTable;\\nlet queryTable = () {\\n    byTable\\n    | extend dimActiveMembership = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimActiveMembership)\\n    | extend member_type = iif(isempty(memberType), \\\"unauthenticated\\\", memberType)\\n    | extend dimTablePagination = todynamic(tostring(customDimensions[\\\"tablePagination\\\"]))\\n    | evaluate bag_unpack(dimTablePagination)\\n};\\nlet byCohortTable = queryTable\\n    | project name, member_type, pageSize, pageNumber;\\nlet topSegments = byCohortTable\\n    | summarize PageCount = count() by name, member_type, pageSize, pageNumber\\n    | project\\n    [\\\"Event Name\\\"] = name,\\n    [\\\"Page Size\\\"] = pageSize,\\n    [\\\"Page Number\\\"] = pageNumber,\\n    p = pack(strcat(member_type, \\\" Table Page Count\\\"), PageCount)\\n| summarize b = make_bag(p) by [\\\"Event Name\\\"], [\\\"Page Size\\\"], [\\\"Page Number\\\"]\\n| evaluate bag_unpack(b)\\n| order by [\\\"Event Name\\\"] asc, [\\\"Page Size\\\"] asc, [\\\"Page Number\\\"] asc;\\ntopSegments\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"Table Pagination Counts by Member Type\",\"Query\":\"let usg_events = dynamic([\\\"Daily Data | Table Pagination\\\", \\\"Submissions | Table Pagination\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where true;\\nlet byTable = mainTable;\\nlet queryTable = () {\\n    byTable\\n    | extend dimActiveMembership = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimActiveMembership)\\n    | extend member_type = iif(isempty(memberType), \\\"unauthenticated\\\", memberType)\\n    | extend dimTablePagination = todynamic(tostring(customDimensions[\\\"tablePagination\\\"]))\\n    | evaluate bag_unpack(dimTablePagination)\\n};\\nlet byCohortTable = queryTable\\n    | project name, member_type, pageSize, pageNumber;\\nlet topSegments = byCohortTable\\n    | summarize PageCount = count() by name, member_type, pageSize, pageNumber\\n    | project\\n    [\\\"Event Name\\\"] = name,\\n    [\\\"Page Size\\\"] = pageSize,\\n    [\\\"Page Number\\\"] = pageNumber,\\n    p = pack(strcat(member_type, \\\" Table Page Count\\\"), PageCount)\\n| summarize b = make_bag(p) by [\\\"Event Name\\\"], [\\\"Page Size\\\"], [\\\"Page Number\\\"]\\n| evaluate bag_unpack(b)\\n| order by [\\\"Event Name\\\"] asc, [\\\"Page Size\\\"] asc, [\\\"Page Number\\\"] asc;\\ntopSegments\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":9,\"rowSpan\":5,\"x\":0,\"y\":11}},\"9\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"1071a5f0-114e-4c2f-bb11-5362584215c3\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"File Validator\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | extend fileValidatorProps = tostring(customDimensions[\\\"fileValidator\\\"]);\\nlet queryTable = mainTable\\n    | where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    // | summarize ['Count'] = count() by bin(timestamp, 1d), session_Id, fileValidatorProps\\n    | extend dimension = todynamic(fileValidatorProps)\\n    | evaluate bag_unpack(dimension)\\n    | extend ['Pass/Fail'] = iif(errorCount == 0, \\\"Pass\\\", \\\"Fail\\\")\\n    | order by timestamp desc \\n    | project\\n        [\\\"Date\\\"] = format_datetime(timestamp, 'MM/dd/yyyy'),\\n        [\\\"Session Id\\\"] = session_Id,\\n        // [\\\"Count\\\"],\\n        ['Pass/Fail'],\\n        [\\\"Error Count\\\"] = errorCount,\\n        [\\\"Warning Count\\\"] = warningCount,\\n        [\\\"Sender\\\"] = sender,\\n        [\\\"Schema\\\"] = schema,\\n        [\\\"File Type\\\"] = fileType; \\nqueryTable\\n\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"File Validator Statistics\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":9,\"rowSpan\":5,\"x\":9,\"y\":11}}}}},\"metadata\":{\"model\":{\"filterLocale\":{\"value\":\"en-us\"},\"filters\":{\"value\":{\"MsPortalFx_TimeRange\":{\"displayCache\":{\"name\":\"UTC Time\",\"value\":\"Past 30 days\"},\"filteredPartIds\":[\"StartboardPart-LogsDashboardPart-474730cc-d9f7-4265-b616-7c5e5575ec43\",\"StartboardPart-LogsDashboardPart-5b8c5fda-eccc-4eaa-8781-fb435376f4c9\",\"StartboardPart-LogsDashboardPart-0a2227e3-fa86-46b0-960a-b2c6c531d90c\",\"StartboardPart-LogsDashboardPart-c52af3ae-3577-450d-a4b4-bdb19c269e85\",\"StartboardPart-LogsDashboardPart-c52af3ae-3577-450d-a4b4-bdb19c269fe7\",\"StartboardPart-LogsDashboardPart-4f1ca6dd-eee2-4ea3-8c92-97fa8b6702a5\",\"StartboardPart-LogsDashboardPart-0e6386ee-24a5-46d1-96b6-80a0ae9fd14f\",\"StartboardPart-LogsDashboardPart-839425fe-018b-4550-a18e-a9b83e5713c5\",\"StartboardPart-LogsDashboardPart-839425fe-018b-4550-a18e-a9b83e5712d7\"],\"model\":{\"format\":\"utc\",\"granularity\":\"auto\",\"relative\":\"30d\"}}}},\"timeRange\":{\"type\":\"MsPortalFx.Composition.Configuration.ValueTypes.TimeRange\",\"value\":{\"relative\":{\"duration\":24,\"timeUnit\":1}}}}}}","location":"eastus","name":"pdhprod-new","resource_group_name":"prime-data-hub-prod","tags":{"environment":"prod","source":"terraform"},"timeouts":null},"sensitive_values":{"tags":{}}}],"address":"module.azure_dashboard-copy"}]}},"resource_changes":[{"address":"module.azure_dashboard-copy.azurerm_dashboard.az_dashboard","module_address":"module.azure_dashboard-copy","mode":"managed","type":"azurerm_dashboard","name":"az_dashboard","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"dashboard_properties":"{\"lenses\":{\"0\":{\"order\":0,\"parts\":{\"0\":{\"metadata\":{\"asset\":{\"idInputName\":\"id\",\"type\":\"ApplicationInsights\"},\"inputs\":[{\"name\":\"id\",\"value\":\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"},{\"name\":\"Version\",\"value\":\"1.0\"}],\"type\":\"Extension/AppInsightsExtension/PartType/MonitoredApplicationsTile\"},\"position\":{\"colSpan\":2,\"rowSpan\":1,\"x\":0,\"y\":0}},\"1\":{\"metadata\":{\"asset\":{\"idInputName\":\"id\",\"type\":\"ApplicationInsights\"},\"inputs\":[{\"name\":\"id\",\"value\":\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"},{\"name\":\"Version\",\"value\":\"1.0\"}],\"type\":\"Extension/AppInsightsExtension/PartType/MonitoredApplicationsTile\"},\"position\":{\"colSpan\":2,\"rowSpan\":1,\"x\":2,\"y\":0}},\"10\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"5fc74968-4b70-41a1-862f-9726e124425e\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(200h)\\n    | where isempty(operation_SyntheticSource) //filtering out HTTP requests made by bots\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable =  () {\\n    queryTable\\n    | extend timeInSeconds = todynamic(tostring(customDimensions[\\\"sessionLength\\\"]))\\n    | evaluate bag_unpack(timeInSeconds)\\n    | order by timestamp desc\\n};\\nsplitTable\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"Session Duration with Membership Metadata\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":0,\"y\":16}},\"2\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"12caea22-3545-459f-8f05-9618d2003711\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable =  () {\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend member_type = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n};\\nlet cohortedTable = splitTable\\n    //| where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    | summarize ['Page Views'] = count() by bin(timestamp, 1d), member_type\\n    | project\\n    [\\\"Date/Time\\\"] = timestamp,\\n    member_type,\\n    [\\\"Page Views\\\"]\\n| render columnchart; \\ncohortedTable\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"FrameControlChart\"},{\"isOptional\":true,\"name\":\"SpecificChart\",\"value\":\"StackedColumn\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\",\"value\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"member_type\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"Date/Time\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Page Views\",\"type\":\"long\"}]}},{\"isOptional\":true,\"name\":\"LegendOptions\",\"value\":{\"isEnabled\":true,\"position\":\"Bottom\"}},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"Total Page Views by Member Type\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable =  () {\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend member_type = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n};\\nlet cohortedTable = splitTable\\n    | where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    | summarize ['Page Views'] = count() by bin(timestamp, 1d), member_type\\n    | project\\n    [\\\"Date/Time\\\"] = timestamp,\\n    member_type,\\n    [\\\"Page Views\\\"]\\n| render columnchart; \\ncohortedTable\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":0,\"y\":2}},\"3\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"7db41bbc-9a0a-4311-9130-8493cd13c8fa\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews, customEvents, requests\\n    | where timestamp \\u003e ago(1d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable = () {\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend memberType = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n};\\nlet cohortedTable = splitTable\\n    | where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    | where memberType != \\\"\\u003cundefined\\u003e\\\"\\n    | extend byDimension = bin(timestamp, 1h)\\n    | summarize metricHll = hll(session_Id) by byDimension, memberType;\\nlet topSegments = cohortedTable\\n    | summarize mergedMetricHll = hll_merge(metricHll) by memberType\\n    | project memberType, dcount_session_Id = dcount_hll(mergedMetricHll)\\n    | top 5 by dcount_session_Id desc nulls last\\n    | summarize makelist(memberType);\\ncohortedTable\\n| extend userId = iff(memberType in (topSegments), memberType, \\\"Other\\\")\\n| project byDimension, userId, metricHll\\n| summarize metric = hll_merge(metricHll) by userId, byDimension\\n| order by userId asc, byDimension desc\\n| project [\\\"Date/time\\\"]=byDimension, [\\\"Membership Type\\\"]=userId, [\\\"Session Count\\\"] = dcount_hll(metric)\\n| render columnchart\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"FrameControlChart\"},{\"isOptional\":true,\"name\":\"SpecificChart\",\"value\":\"StackedColumn\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\",\"value\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"Membership Type\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"Date/time\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Session Count\",\"type\":\"long\"}]}},{\"isOptional\":true,\"name\":\"LegendOptions\",\"value\":{\"isEnabled\":true,\"position\":\"Bottom\"}},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"Membership Type\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"Date/Time\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Session Count\",\"type\":\"long\"}]},\"PartTitle\":\"Session Count by Member Type\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews, customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable = () {\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend memberType = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n};\\nlet cohortedTable = splitTable\\n    | where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    | where memberType != \\\"\\u003cundefined\\u003e\\\"\\n    | extend byDimension = bin(timestamp, 1d)\\n    | summarize metricHll = hll(session_Id) by byDimension, memberType;\\nlet topSegments = cohortedTable\\n    | summarize mergedMetricHll = hll_merge(metricHll) by memberType\\n    | project memberType, dcount_session_Id = dcount_hll(mergedMetricHll)\\n    | top 5 by dcount_session_Id desc nulls last\\n    | summarize makelist(memberType);\\ncohortedTable\\n| extend userId = iff(memberType in (topSegments), memberType, \\\"Other\\\")\\n| project byDimension, userId, metricHll\\n| summarize metric = hll_merge(metricHll) by userId, byDimension\\n| order by userId asc, byDimension desc\\n| project [\\\"Date/Time\\\"]=byDimension, [\\\"Membership Type\\\"]=userId, [\\\"Session Count\\\"] = dcount_hll(metric)\\n| render columnchart\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":6,\"y\":2}},\"4\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"9ef4b7a4-9076-4f6a-8644-13efc1293899\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);let grain = iff(true, 1d, 1h);  let mainTable = union pageViews     | where timestamp \\u003e ago(90d) | where isempty(operation_SyntheticSource) | extend name =replace(\\\"\\\\n\\\", \\\"\\\",name) | extend name =replace(\\\"\\\\r\\\", \\\"\\\",name) | where '*' in (usg_events) or name in (usg_events) | where customDimensions[\\\"activeMembership\\\"] !contains \\\"prime-admin\\\" ; let resultTable = mainTable; resultTable     | make-series Users = dcountif(user_Id, 'user_Id' != 'user_AuthenticatedId' or ('user_Id' =='user_AuthenticatedId' and isnotempty(user_Id))) default = 0 on timestamp from ago(90d) to now() step grain\\r| render barchart\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"FrameControlChart\"},{\"isOptional\":true,\"name\":\"SpecificChart\",\"value\":\"StackedColumn\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\",\"value\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"timestamp\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Users\",\"type\":\"real\"}]}},{\"isOptional\":true,\"name\":\"LegendOptions\",\"value\":{\"isEnabled\":true,\"position\":\"Bottom\"}},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"timestamp\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Page Views\",\"type\":\"real\"}]},\"PartTitle\":\"Page Views Excluding 'prime-admin'\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);let grain = iff(true, 1d, 1h);  let mainTable = union pageViews     | where timestamp \\u003e ago(30d) | where isempty(operation_SyntheticSource) | extend name =replace(\\\"\\\\n\\\", \\\"\\\",name) | extend name =replace(\\\"\\\\r\\\", \\\"\\\",name) | where '*' in (usg_events) or name in (usg_events) | where customDimensions[\\\"activeMembership\\\"] !contains \\\"prime-admin\\\" ; let resultTable = mainTable; resultTable     | make-series [\\\"Page Views\\\"] = dcountif(user_Id, 'user_Id' != 'user_AuthenticatedId' or ('user_Id' =='user_AuthenticatedId' and isnotempty(user_Id))) default = 0 on timestamp from ago(30d) to now() step grain\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":12,\"y\":2}},\"5\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"4c473b58-a778-417c-a144-8ba938108f7b\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"Daily Data | Table Pagination\\\", \\\"Submissions | Table Pagination\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(90d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where true;\\nlet byTable = mainTable;\\nlet queryTable = () {\\n    byTable\\n    | extend dimension = customDimensions[\\\"tablePagination\\\"]\\n    | extend dimension = iif(isempty(dimension), \\\"\\u003cundefined\\u003e\\\", dimension)\\n};\\nlet byCohortTable = queryTable\\n    | project name, dimension;\\nlet topSegments = byCohortTable\\n    | summarize Events = count() by name, dimension\\n    | summarize make_list(dimension,1000);    //Returns a dynamic JSON array of all the values of Expr in the group. Needed here.\\nlet topEventMetrics = byCohortTable\\n    | where dimension in (topSegments);\\nlet otherEventUsers = byCohortTable\\n    | where dimension !in (topSegments)\\n    | extend dimension = \\\"Other\\\";\\notherEventUsers\\n| union topEventMetrics\\n| summarize Events = count() by name, dimension\\n| order by dimension asc\\n| render columnchart\\nwith (\\n    xtitle=\\\"Table\\\",\\n    ytitle=\\\"Counts\\\",\\n    title=\\\"Pagination Usage by Table\\\")\\n\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"FrameControlChart\"},{\"isOptional\":true,\"name\":\"SpecificChart\",\"value\":\"StackedColumn\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Pagination Usage by Table\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\",\"value\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"dimension\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"name\",\"type\":\"string\"},\"yAxis\":[{\"name\":\"Events\",\"type\":\"long\"}]}},{\"isOptional\":true,\"name\":\"LegendOptions\",\"value\":{\"isEnabled\":true,\"position\":\"Bottom\"}},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"Query\":\"let usg_events = dynamic([\\\"Daily Data | Table Pagination\\\", \\\"Submissions | Table Pagination\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where true;\\nlet byTable = mainTable;\\nlet queryTable = () {\\n    byTable\\n    | extend dimension = customDimensions[\\\"tablePagination\\\"]\\n    | extend dimension = iif(isempty(dimension), \\\"\\u003cundefined\\u003e\\\", dimension)\\n};\\nlet byCohortTable = queryTable\\n    | project name, dimension;\\nlet topSegments = byCohortTable\\n    | summarize Events = count() by name, dimension\\n    | summarize make_list(dimension,1000);    //Returns a dynamic JSON array of all the values of Expr in the group. Needed here.\\nlet topEventMetrics = byCohortTable\\n    | where dimension in (topSegments);\\nlet otherEventUsers = byCohortTable\\n    | where dimension !in (topSegments)\\n    | extend dimension = \\\"Other\\\";\\notherEventUsers\\n| union topEventMetrics\\n| summarize Events = count() by name, dimension\\n| order by dimension asc\\n| render columnchart\\nwith (\\n    xtitle=\\\"Table\\\",\\n    ytitle=\\\"Counts\\\",\\n    title=\\\"Pagination Usage by Table\\\")\\n\\n\",\"SpecificChart\":\"UnstackedColumn\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":18,\"y\":2}},\"6\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"7f10e6c8-aa3b-48fd-9534-fe194127357b\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(90d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where isnotempty(customDimensions[\\\"tableFilter\\\"])\\n    | extend ActiveMembership = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(ActiveMembership)\\n    | extend TableFilter = todynamic(tostring(customDimensions[\\\"tableFilter\\\"]))\\n    | evaluate bag_unpack(TableFilter);\\nlet queryTable = mainTable;\\nqueryTable\\n| extend TimeDiff = datetime_diff('day', todatetime(endRange), todatetime(startRange))\\n| order by timestamp desc \\n| project\\n    [\\\"No. Days in Range\\\"] = TimeDiff,\\n    [\\\"Start Date\\\"] = todatetime(startRange),\\n    [\\\"Table Filter Name\\\"] = name,\\n    [\\\"Organization Name\\\"] = parsedName,\\n    [\\\"Date filter was Used\\\"] = todatetime(timestamp);\\nqueryTable\\n\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"Table Filter Event Usage\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where isnotempty(customDimensions[\\\"tableFilter\\\"])\\n    | extend ActiveMembership = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(ActiveMembership)\\n    | extend TableFilter = todynamic(tostring(customDimensions[\\\"tableFilter\\\"]))\\n    | evaluate bag_unpack(TableFilter);\\nlet queryTable = mainTable;\\nqueryTable\\n| extend TimeDiff = datetime_diff('day', todatetime(endRange), todatetime(startRange))\\n| order by timestamp desc \\n| project\\n    [\\\"No. Days in Range\\\"] = TimeDiff,\\n    [\\\"Start Date\\\"] = todatetime(startRange),\\n    [\\\"Table Filter Name\\\"] = name,\\n    [\\\"Organization Name\\\"] = parsedName,\\n    [\\\"Date filter was Used\\\"] = todatetime(timestamp),\\n    memberType;\\nqueryTable\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":9,\"rowSpan\":5,\"x\":0,\"y\":6}},\"7\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"1a5f54c6-441c-4164-b54b-2ea880afdcee\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\",\"value\":\"P1D\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"// select count from page where member type ='prime-admin'\\nlet usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews\\n    | where timestamp \\u003e ago(90d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend member_type = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n    | summarize PageCount = count() by member_type, operation_Name\\n| project [\\\"Page Viewed\\\"] = operation_Name, p = pack(strcat(member_type, \\\" visit count\\\"), PageCount)\\n| summarize b = make_bag(p) by [\\\"Page Viewed\\\"]\\n| evaluate bag_unpack(b)\\n\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":false}],\"settings\":{\"content\":{\"IsQueryContainTimeRange\":true,\"PartTitle\":\"Page Views by Member Type\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend member_type = iif(isempty(memberType), \\\"unauthenticated\\\", memberType)\\n    | summarize PageCount = count() by member_type, operation_Name\\n| project [\\\"Page Viewed\\\"] = operation_Name, p = pack(strcat(member_type, \\\" visit count\\\"), PageCount)\\n| summarize b = make_bag(p) by [\\\"Page Viewed\\\"]\\n| order by ['Page Viewed'] asc \\n| evaluate bag_unpack(b)\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":9,\"rowSpan\":5,\"x\":9,\"y\":6}},\"8\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"526d8e53-6d5e-4c42-81af-9ef1c9ccfba1\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"Daily Data | Table Pagination\\\", \\\"Submissions | Table Pagination\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(2d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where true;\\nlet byTable = mainTable;\\nlet queryTable = () {\\n    byTable\\n    | extend dimActiveMembership = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimActiveMembership)\\n    | extend member_type = iif(isempty(memberType), \\\"unauthenticated\\\", memberType)\\n    | extend dimTablePagination = todynamic(tostring(customDimensions[\\\"tablePagination\\\"]))\\n    | evaluate bag_unpack(dimTablePagination)\\n};\\nlet byCohortTable = queryTable\\n    | project name, member_type, pageSize, pageNumber;\\nlet topSegments = byCohortTable\\n    | summarize PageCount = count() by name, member_type, pageSize, pageNumber\\n    | project\\n    [\\\"Event Name\\\"] = name,\\n    [\\\"Page Size\\\"] = pageSize,\\n    [\\\"Page Number\\\"] = pageNumber,\\n    p = pack(strcat(member_type, \\\" Table Page Count\\\"), PageCount)\\n| summarize b = make_bag(p) by [\\\"Event Name\\\"], [\\\"Page Size\\\"], [\\\"Page Number\\\"]\\n| evaluate bag_unpack(b)\\n| order by [\\\"Event Name\\\"] asc, [\\\"Page Size\\\"] asc, [\\\"Page Number\\\"] asc;\\ntopSegments\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"Table Pagination Counts by Member Type\",\"Query\":\"let usg_events = dynamic([\\\"Daily Data | Table Pagination\\\", \\\"Submissions | Table Pagination\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where true;\\nlet byTable = mainTable;\\nlet queryTable = () {\\n    byTable\\n    | extend dimActiveMembership = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimActiveMembership)\\n    | extend member_type = iif(isempty(memberType), \\\"unauthenticated\\\", memberType)\\n    | extend dimTablePagination = todynamic(tostring(customDimensions[\\\"tablePagination\\\"]))\\n    | evaluate bag_unpack(dimTablePagination)\\n};\\nlet byCohortTable = queryTable\\n    | project name, member_type, pageSize, pageNumber;\\nlet topSegments = byCohortTable\\n    | summarize PageCount = count() by name, member_type, pageSize, pageNumber\\n    | project\\n    [\\\"Event Name\\\"] = name,\\n    [\\\"Page Size\\\"] = pageSize,\\n    [\\\"Page Number\\\"] = pageNumber,\\n    p = pack(strcat(member_type, \\\" Table Page Count\\\"), PageCount)\\n| summarize b = make_bag(p) by [\\\"Event Name\\\"], [\\\"Page Size\\\"], [\\\"Page Number\\\"]\\n| evaluate bag_unpack(b)\\n| order by [\\\"Event Name\\\"] asc, [\\\"Page Size\\\"] asc, [\\\"Page Number\\\"] asc;\\ntopSegments\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":9,\"rowSpan\":5,\"x\":0,\"y\":11}},\"9\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"1071a5f0-114e-4c2f-bb11-5362584215c3\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"File Validator\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | extend fileValidatorProps = tostring(customDimensions[\\\"fileValidator\\\"]);\\nlet queryTable = mainTable\\n    | where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    // | summarize ['Count'] = count() by bin(timestamp, 1d), session_Id, fileValidatorProps\\n    | extend dimension = todynamic(fileValidatorProps)\\n    | evaluate bag_unpack(dimension)\\n    | extend ['Pass/Fail'] = iif(errorCount == 0, \\\"Pass\\\", \\\"Fail\\\")\\n    | order by timestamp desc \\n    | project\\n        [\\\"Date\\\"] = format_datetime(timestamp, 'MM/dd/yyyy'),\\n        [\\\"Session Id\\\"] = session_Id,\\n        // [\\\"Count\\\"],\\n        ['Pass/Fail'],\\n        [\\\"Error Count\\\"] = errorCount,\\n        [\\\"Warning Count\\\"] = warningCount,\\n        [\\\"Sender\\\"] = sender,\\n        [\\\"Schema\\\"] = schema,\\n        [\\\"File Type\\\"] = fileType; \\nqueryTable\\n\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"File Validator Statistics\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":9,\"rowSpan\":5,\"x\":9,\"y\":11}}}}},\"metadata\":{\"model\":{\"filterLocale\":{\"value\":\"en-us\"},\"filters\":{\"value\":{\"MsPortalFx_TimeRange\":{\"displayCache\":{\"name\":\"UTC Time\",\"value\":\"Past 30 days\"},\"filteredPartIds\":[\"StartboardPart-LogsDashboardPart-474730cc-d9f7-4265-b616-7c5e5575ec43\",\"StartboardPart-LogsDashboardPart-5b8c5fda-eccc-4eaa-8781-fb435376f4c9\",\"StartboardPart-LogsDashboardPart-0a2227e3-fa86-46b0-960a-b2c6c531d90c\",\"StartboardPart-LogsDashboardPart-c52af3ae-3577-450d-a4b4-bdb19c269e85\",\"StartboardPart-LogsDashboardPart-c52af3ae-3577-450d-a4b4-bdb19c269fe7\",\"StartboardPart-LogsDashboardPart-4f1ca6dd-eee2-4ea3-8c92-97fa8b6702a5\",\"StartboardPart-LogsDashboardPart-0e6386ee-24a5-46d1-96b6-80a0ae9fd14f\",\"StartboardPart-LogsDashboardPart-839425fe-018b-4550-a18e-a9b83e5713c5\",\"StartboardPart-LogsDashboardPart-839425fe-018b-4550-a18e-a9b83e5712d7\"],\"model\":{\"format\":\"utc\",\"granularity\":\"auto\",\"relative\":\"30d\"}}}},\"timeRange\":{\"type\":\"MsPortalFx.Composition.Configuration.ValueTypes.TimeRange\",\"value\":{\"relative\":{\"duration\":24,\"timeUnit\":1}}}}}}","location":"eastus","name":"pdhprod-new","resource_group_name":"prime-data-hub-prod","tags":{"environment":"prod","source":"terraform"},"timeouts":null},"after_unknown":{"id":true,"tags":{}},"before_sensitive":false,"after_sensitive":{"tags":{}}}}],"prior_state":{"format_version":"1.0","terraform_version":"1.2.0","values":{"root_module":{"resources":[{"address":"data.azurerm_key_vault.app_config","mode":"data","type":"azurerm_key_vault","name":"app_config","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"access_policy":[{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"11b0c874-7ee0-4aec-8276-7dd16f11e7d4","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"4d81288c-27a3-4df8-b776-c9da8e688bc7","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"d9f24617-687f-492a-b66a-d6c10826c214","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"5c6a951e-a4c2-4890-b62c-0ed8179501bb","secret_permissions":["Get","List","Set","Delete","Recover","Backup","Restore"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"7bb113b7-ed43-4ecf-bb2d-0a1b9fe714ef","secret_permissions":["Get","List"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":["List","Get"],"key_permissions":[],"object_id":"5c5c157c-b30d-4d55-a59d-75d82367d516","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"}],"enable_rbac_authorization":false,"enabled_for_deployment":true,"enabled_for_disk_encryption":true,"enabled_for_template_deployment":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","location":"eastus","name":"pdhprod-appconfig","network_acls":[{"bypass":"AzureServices","default_action":"Deny","ip_rules":["100.6.165.133/32","108.48.23.191/32","158.111.123.0/25","158.111.21.0/24","24.163.118.70/32","45.37.194.58/32","75.191.122.59/32"],"virtual_network_subnet_ids":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/public","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/public"]}],"purge_protection_enabled":true,"resource_group_name":"prime-data-hub-prod","sku_name":"premium","soft_delete_enabled":true,"tags":{"environment":"prod"},"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":null,"vault_uri":"https://pdhprod-appconfig.vault.azure.net/"},"sensitive_values":{"access_policy":[{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false,false,false,false,false,false,false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false,false],"storage_permissions":[]},{"certificate_permissions":[false,false],"key_permissions":[],"secret_permissions":[],"storage_permissions":[]}],"network_acls":[{"ip_rules":[false,false,false,false,false,false,false],"virtual_network_subnet_ids":[false,false,false,false,false,false]}],"tags":{}}},{"address":"data.azurerm_key_vault.tf-secrets","mode":"data","type":"azurerm_key_vault","name":"tf-secrets","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"access_policy":[{"application_id":"","certificate_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore","ManageContacts","ManageIssuers","GetIssuers","ListIssuers","SetIssuers","DeleteIssuers"],"key_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore","GetRotationPolicy","SetRotationPolicy","Rotate"],"object_id":"d5c7630a-e2c1-4901-8d29-43ec93159611","secret_permissions":["Get","List","Set","Delete","Recover","Backup","Restore"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":["Get"],"key_permissions":[],"object_id":"270e4d1a-12bd-4564-8a4b-c9de1bbdbe95","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"191cd5e9-207a-4ff2-8e04-cabb3cde9feb","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"ee41164d-ee3a-441d-ab5c-66d38aeec5ea","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"2e5ce118-6171-4874-a249-37ec0621ed76","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"aeb452e8-8896-42b4-900a-5e8697bc6b42","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get"],"object_id":"4d81288c-27a3-4df8-b776-c9da8e688bc7","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"0d457d84-45ac-41a6-b01e-c575c09a0bd4","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"d8180f03-ad15-46dc-9595-4fa0fdce9544","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore","ManageContacts","ManageIssuers","GetIssuers","ListIssuers","SetIssuers","DeleteIssuers"],"key_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore"],"object_id":"5c6a951e-a4c2-4890-b62c-0ed8179501bb","secret_permissions":["Get","List","Set","Delete","Recover","Backup","Restore"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"7bb113b7-ed43-4ecf-bb2d-0a1b9fe714ef","secret_permissions":["List"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":["List","Get"],"key_permissions":[],"object_id":"5c5c157c-b30d-4d55-a59d-75d82367d516","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"}],"enable_rbac_authorization":false,"enabled_for_deployment":true,"enabled_for_disk_encryption":true,"enabled_for_template_deployment":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","location":"eastus","name":"pdhprod-keyvault","network_acls":[{"bypass":"AzureServices","default_action":"Deny","ip_rules":["100.6.165.133/32","108.48.23.191/32","24.163.118.70/32","45.37.194.58/32","75.191.122.59/32"],"virtual_network_subnet_ids":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/public","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/public"]}],"purge_protection_enabled":true,"resource_group_name":"prime-data-hub-prod","sku_name":"premium","soft_delete_enabled":true,"tags":{"environment":"prod"},"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":null,"vault_uri":"https://pdhprod-keyvault.vault.azure.net/"},"sensitive_values":{"access_policy":[{"certificate_permissions":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"key_permissions":[false,false,false,false,false,false,false,false,false,false,false,false],"secret_permissions":[false,false,false,false,false,false,false],"storage_permissions":[]},{"certificate_permissions":[false],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"key_permissions":[false,false,false,false,false,false,false,false,false],"secret_permissions":[false,false,false,false,false,false,false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[false,false],"key_permissions":[],"secret_permissions":[],"storage_permissions":[]}],"network_acls":[{"ip_rules":[false,false,false,false,false],"virtual_network_subnet_ids":[false,false,false,false,false,false]}],"tags":{}}},{"address":"data.azurerm_key_vault_key.pdh-2048-key","mode":"data","type":"azurerm_key_vault_key","name":"pdh-2048-key","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"curve":"","e":"AQAB","id":"https://pdhprod-keyvault.vault.azure.net/keys/pdhprod-2048-key/9e2d87990eaa406ca80f4a9a5a483d3c","key_opts":["encrypt","sign","wrapKey","decrypt","verify","unwrapKey"],"key_size":null,"key_type":"RSA-HSM","key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","n":"peBu0aOGAzujgEbG1N0vS0ZT2EKtcV3q-i6iLTFkNBHeA8zhLaqfOP0BqnDFP_rQzcK2W5qqcyudh-af3Jp5X8xJjVJQ7uE599mOsqTcRcrp1vBC63ezjVp6iVLuqhQcVlsC84SD9s8MDY1f9yb7KzXaDSiMK5wj0oq74ExedEWS7R5v8dwUY6JjUDc367awllAHqJO1_hRhPt86XMl7m4xKS_7F7xrcIp6Afz-ZIMfoX6iDv4emXx93UQCwUf2E0ApMvM8waBjnc-bOE0vQW9nTp0IrZpaPWFk-OYjilQzTAMe_s2kcW3scpg_dKXBhOPvEtK6heabF9DPKofurxw","name":"pdhprod-2048-key","public_key_openssh":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCl4G7Ro4YDO6OARsbU3S9LRlPYQq1xXer6LqItMWQ0Ed4DzOEtqp84/QGqcMU/+tDNwrZbmqpzK52H5p/cmnlfzEmNUlDu4Tn32Y6ypNxFyunW8ELrd7ONWnqJUu6qFBxWWwLzhIP2zwwNjV/3JvsrNdoNKIwrnCPSirvgTF50RZLtHm/x3BRjomNQNzfrtrCWUAeok7X+FGE+3zpcyXubjEpL/sXvGtwinoB/P5kgx+hfqIO/h6ZfH3dRALBR/YTQCky8zzBoGOdz5s4TS9Bb2dOnQitmlo9YWT45iOKVDNMAx7+zaRxbexymD90pcGE4+8S0rqF5psX0M8qh+6vH\n","public_key_pem":"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApeBu0aOGAzujgEbG1N0v\nS0ZT2EKtcV3q+i6iLTFkNBHeA8zhLaqfOP0BqnDFP/rQzcK2W5qqcyudh+af3Jp5\nX8xJjVJQ7uE599mOsqTcRcrp1vBC63ezjVp6iVLuqhQcVlsC84SD9s8MDY1f9yb7\nKzXaDSiMK5wj0oq74ExedEWS7R5v8dwUY6JjUDc367awllAHqJO1/hRhPt86XMl7\nm4xKS/7F7xrcIp6Afz+ZIMfoX6iDv4emXx93UQCwUf2E0ApMvM8waBjnc+bOE0vQ\nW9nTp0IrZpaPWFk+OYjilQzTAMe/s2kcW3scpg/dKXBhOPvEtK6heabF9DPKofur\nxwIDAQAB\n-----END PUBLIC KEY-----\n","tags":{},"timeouts":null,"version":"9e2d87990eaa406ca80f4a9a5a483d3c","versionless_id":"https://pdhprod-keyvault.vault.azure.net/keys/pdhprod-2048-key","x":"","y":""},"sensitive_values":{"key_opts":[false,false,false,false,false,false],"tags":{}}},{"address":"data.azurerm_key_vault_secret.pagerduty_businesshours_url","mode":"data","type":"azurerm_key_vault_secret","name":"pagerduty_businesshours_url","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"content_type":"","id":"https://pdhprod-keyvault.vault.azure.net/secrets/pagerduty-businesshours-url/339aa16b58a94a7c8b89d1c391684dfa","key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","name":"pagerduty-businesshours-url","tags":{},"timeouts":null,"value":"https://events.pagerduty.com/integration/1ec12968738b4a05c007eb56395a5d7e/enqueue","version":"339aa16b58a94a7c8b89d1c391684dfa","versionless_id":"https://pdhprod-keyvault.vault.azure.net/secrets/pagerduty-businesshours-url"},"sensitive_values":{"tags":{}}},{"address":"data.azurerm_key_vault_secret.pagerduty_url","mode":"data","type":"azurerm_key_vault_secret","name":"pagerduty_url","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"content_type":"","id":"https://pdhprod-keyvault.vault.azure.net/secrets/pagerduty-integration-url/c9da4246a01f48df81ffdec49067ca3d","key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","name":"pagerduty-integration-url","tags":{},"timeouts":null,"value":"https://events.pagerduty.com/integration/1ec12968738b4a05c007eb56395a5d7e/enqueue","version":"c9da4246a01f48df81ffdec49067ca3d","versionless_id":"https://pdhprod-keyvault.vault.azure.net/secrets/pagerduty-integration-url"},"sensitive_values":{"tags":{}}},{"address":"data.azurerm_key_vault_secret.postgres_pass","mode":"data","type":"azurerm_key_vault_secret","name":"postgres_pass","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"content_type":"","id":"https://pdhprod-appconfig.vault.azure.net/secrets/functionapp-postgres-pass/70c13040db3447daa9e3ace52dc963e6","key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","name":"functionapp-postgres-pass","tags":{},"timeouts":null,"value":"V1XBhkcdKgcYyU1EZDF29YiB","version":"70c13040db3447daa9e3ace52dc963e6","versionless_id":"https://pdhprod-appconfig.vault.azure.net/secrets/functionapp-postgres-pass"},"sensitive_values":{"tags":{}}},{"address":"data.azurerm_key_vault_secret.postgres_user","mode":"data","type":"azurerm_key_vault_secret","name":"postgres_user","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"content_type":"","id":"https://pdhprod-appconfig.vault.azure.net/secrets/functionapp-postgres-user/7490b0fc7a3648948b43a7e37ebc2605","key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","name":"functionapp-postgres-user","tags":{},"timeouts":null,"value":"prime","version":"7490b0fc7a3648948b43a7e37ebc2605","versionless_id":"https://pdhprod-appconfig.vault.azure.net/secrets/functionapp-postgres-user"},"sensitive_values":{"tags":{}}}],"child_modules":[{"resources":[{"address":"module.app_service_plan.azurerm_app_service_plan.service_plan","mode":"managed","type":"azurerm_app_service_plan","name":"service_plan","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"app_service_environment_id":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan","is_xenon":false,"kind":"linux","location":"eastus","maximum_elastic_worker_count":6,"maximum_number_of_workers":30,"name":"pdhprod-serviceplan","per_site_scaling":false,"reserved":true,"resource_group_name":"prime-data-hub-prod","sku":[{"capacity":6,"size":"P3v2","tier":"PremiumV2"}],"tags":{"environment":"prod"},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"zone_redundant":false},"sensitive_values":{"sku":[{}],"tags":{},"timeouts":{}}}],"address":"module.app_service_plan"},{"resources":[{"address":"module.application_insights.azurerm_application_insights.app_insights","mode":"managed","type":"azurerm_application_insights","name":"app_insights","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"app_id":"04581c31-1e85-4450-9a7b-f5a6f1c2a6ef","application_type":"web","connection_string":"InstrumentationKey=d7cb4216-275e-4510-97f2-5b1e4ca440f5;IngestionEndpoint=https://eastus-3.in.applicationinsights.azure.com/;LiveEndpoint=https://eastus.livediagnostics.monitor.azure.com/","daily_data_cap_in_gb":100,"daily_data_cap_notifications_disabled":false,"disable_ip_masking":false,"force_customer_storage_for_profiler":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/components/pdhprod-appinsights","instrumentation_key":"d7cb4216-275e-4510-97f2-5b1e4ca440f5","internet_ingestion_enabled":true,"internet_query_enabled":true,"local_authentication_disabled":false,"location":"eastus","name":"pdhprod-appinsights","resource_group_name":"prime-data-hub-prod","retention_in_days":90,"sampling_percentage":100,"tags":{"environment":"prod"},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.log_analytics_workspace.azurerm_log_analytics_workspace.law"]},{"address":"module.application_insights.azurerm_application_insights.metabase_insights[0]","mode":"managed","type":"azurerm_application_insights","name":"metabase_insights","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"app_id":"2a21c742-cc79-4447-87a7-898267bbb40b","application_type":"web","connection_string":"InstrumentationKey=1c82c5dd-65d0-4c66-901b-76dbb23dc07c;IngestionEndpoint=https://eastus-2.in.applicationinsights.azure.com/;LiveEndpoint=https://eastus.livediagnostics.monitor.azure.com/","daily_data_cap_in_gb":100,"daily_data_cap_notifications_disabled":false,"disable_ip_masking":false,"force_customer_storage_for_profiler":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/components/pdhprod-metabase-appinsights","instrumentation_key":"1c82c5dd-65d0-4c66-901b-76dbb23dc07c","internet_ingestion_enabled":true,"internet_query_enabled":true,"local_authentication_disabled":false,"location":"eastus","name":"pdhprod-metabase-appinsights","resource_group_name":"prime-data-hub-prod","retention_in_days":90,"sampling_percentage":100,"tags":{"environment":"prod"},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"workspace_id":null},"sensitive_values":{"tags":{},"timeouts":{}}},{"address":"module.application_insights.azurerm_application_insights_web_test.ping_test[0]","mode":"managed","type":"azurerm_application_insights_web_test","name":"ping_test","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"application_insights_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/components/pdhprod-appinsights","configuration":"\u003cWebTest Name=\"\" Id=\"\" Enabled=\"True\" CssProjectStructure=\"\" CssIteration=\"\" Timeout=\"60\" WorkItemIds=\"\" xmlns=\"http://microsoft.com/schemas/VisualStudio/TeamTest/2010\" Description=\"\" CredentialUserName=\"\" CredentialPassword=\"\" PreAuthenticate=\"True\" Proxy=\"default\" StopOnError=\"False\" RecordedResultFile=\"\" ResultsLocale=\"\"\u003e\n      \u003cItems\u003e\n        \u003cRequest Method=\"GET\" Version=\"1.1\" Url=\"https://prime.cdc.gov\" ThinkTime=\"0\" Timeout=\"60\" ParseDependentRequests=\"False\" FollowRedirects=\"True\" RecordResult=\"True\" Cache=\"False\" ResponseTimeGoal=\"0\" Encoding=\"utf-8\" ExpectedHttpStatusCode=\"200\" ExpectedResponseUrl=\"\" ReportingName=\"\" IgnoreHttpStatusCode=\"False\"/\u003e\n      \u003c/Items\u003e\n    \u003c/WebTest\u003e","description":"","enabled":true,"frequency":300,"geo_locations":["us-va-ash-azr"],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/webTests/pdhprod-pingfunctions","kind":"ping","location":"eastus","name":"pdhprod-pingfunctions","resource_group_name":"prime-data-hub-prod","retry_enabled":true,"synthetic_monitor_id":"pdhprod-pingfunctions","tags":{"environment":"prod","hidden-link:/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/components/pdhprod-appinsights":"Resource"},"timeout":60,"timeouts":null},"sensitive_values":{"geo_locations":[false],"tags":{}},"depends_on":["module.application_insights.azurerm_application_insights.app_insights","module.log_analytics_workspace.azurerm_log_analytics_workspace.law"]},{"address":"module.application_insights.azurerm_monitor_action_group.action_group[0]","mode":"managed","type":"azurerm_monitor_action_group","name":"action_group","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"arm_role_receiver":[],"automation_runbook_receiver":[],"azure_app_push_receiver":[],"azure_function_receiver":[],"email_receiver":[],"enabled":true,"event_hub_receiver":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/actionGroups/pdhprod-actiongroup","itsm_receiver":[],"logic_app_receiver":[],"name":"pdhprod-actiongroup","resource_group_name":"prime-data-hub-prod","short_name":"ReportStream","sms_receiver":[],"tags":{"environment":"prod"},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"voice_receiver":[],"webhook_receiver":[{"aad_auth":[],"name":"PagerDuty","service_uri":"https://events.pagerduty.com/integration/1ec12968738b4a05c007eb56395a5d7e/enqueue","use_common_alert_schema":true}]},"sensitive_values":{"arm_role_receiver":[],"automation_runbook_receiver":[],"azure_app_push_receiver":[],"azure_function_receiver":[],"email_receiver":[],"event_hub_receiver":[],"itsm_receiver":[],"logic_app_receiver":[],"sms_receiver":[],"tags":{},"timeouts":{},"voice_receiver":[],"webhook_receiver":[{"aad_auth":[],"service_uri":true}]},"depends_on":["data.azurerm_key_vault_secret.pagerduty_url","data.azurerm_key_vault.tf-secrets"]},{"address":"module.application_insights.azurerm_monitor_action_group.action_group_businesshours[0]","mode":"managed","type":"azurerm_monitor_action_group","name":"action_group_businesshours","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"arm_role_receiver":[],"automation_runbook_receiver":[],"azure_app_push_receiver":[],"azure_function_receiver":[],"email_receiver":[],"enabled":true,"event_hub_receiver":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/actionGroups/pdhprod-actiongroup-businesshours","itsm_receiver":[],"logic_app_receiver":[],"name":"pdhprod-actiongroup-businesshours","resource_group_name":"prime-data-hub-prod","short_name":"PD Day Hours","sms_receiver":[],"tags":{"environment":"prod"},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"voice_receiver":[],"webhook_receiver":[{"aad_auth":[],"name":"PagerDuty Business Hours","service_uri":"https://events.pagerduty.com/integration/1ec12968738b4a05c007eb56395a5d7e/enqueue","use_common_alert_schema":true}]},"sensitive_values":{"arm_role_receiver":[],"automation_runbook_receiver":[],"azure_app_push_receiver":[],"azure_function_receiver":[],"email_receiver":[],"event_hub_receiver":[],"itsm_receiver":[],"logic_app_receiver":[],"sms_receiver":[],"tags":{},"timeouts":{},"voice_receiver":[],"webhook_receiver":[{"aad_auth":[],"service_uri":true}]},"depends_on":["data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_businesshours_url"]},{"address":"module.application_insights.azurerm_monitor_action_group.action_group_dummy","mode":"managed","type":"azurerm_monitor_action_group","name":"action_group_dummy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"arm_role_receiver":[],"automation_runbook_receiver":[],"azure_app_push_receiver":[],"azure_function_receiver":[],"email_receiver":[],"enabled":true,"event_hub_receiver":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/actionGroups/pdhprod-actiongroup-dummy","itsm_receiver":[],"logic_app_receiver":[],"name":"pdhprod-actiongroup-dummy","resource_group_name":"prime-data-hub-prod","short_name":"Dummy AG","sms_receiver":[],"tags":{"environment":"prod"},"timeouts":null,"voice_receiver":[],"webhook_receiver":[{"aad_auth":[],"name":"Dummy URL","service_uri":"https://foo.local","use_common_alert_schema":false}]},"sensitive_values":{"arm_role_receiver":[],"automation_runbook_receiver":[],"azure_app_push_receiver":[],"azure_function_receiver":[],"email_receiver":[],"event_hub_receiver":[],"itsm_receiver":[],"logic_app_receiver":[],"sms_receiver":[],"tags":{},"voice_receiver":[],"webhook_receiver":[{"aad_auth":[]}]}},{"address":"module.application_insights.azurerm_monitor_metric_alert.app_service_cpu_util[0]","mode":"managed","type":"azurerm_monitor_metric_alert","name":"app_service_cpu_util","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/actionGroups/pdhprod-actiongroup","webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"auto_mitigate":true,"criteria":[{"aggregation":"Average","dimension":[],"metric_name":"CpuPercentage","metric_namespace":"Microsoft.Web/serverfarms","operator":"GreaterThanOrEqual","skip_metric_validation":false,"threshold":70}],"description":"prod CPU utilization is greater than 70%","dynamic_criteria":[],"enabled":true,"frequency":"PT1M","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/metricAlerts/prod-api-cpu","name":"prod-api-cpu","resource_group_name":"prime-data-hub-prod","scopes":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan"],"severity":1,"tags":{},"target_resource_location":"","target_resource_type":"","timeouts":{"create":null,"delete":null,"read":null,"update":null},"window_size":"PT5M"},"sensitive_values":{"action":[{"webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"criteria":[{"dimension":[]}],"dynamic_criteria":[],"scopes":[false],"tags":{},"timeouts":{}},"depends_on":["data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_monitor_action_group.action_group"]},{"address":"module.application_insights.azurerm_monitor_metric_alert.app_service_mem_util[0]","mode":"managed","type":"azurerm_monitor_metric_alert","name":"app_service_mem_util","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/actionGroups/pdhprod-actiongroup","webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"auto_mitigate":true,"criteria":[{"aggregation":"Average","dimension":[],"metric_name":"MemoryPercentage","metric_namespace":"Microsoft.Web/serverfarms","operator":"GreaterThanOrEqual","skip_metric_validation":false,"threshold":85}],"description":"prod memory utilization is greater than 85%","dynamic_criteria":[],"enabled":true,"frequency":"PT1M","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/metricAlerts/prod-api-mem","name":"prod-api-mem","resource_group_name":"prime-data-hub-prod","scopes":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan"],"severity":1,"tags":{},"target_resource_location":"","target_resource_type":"","timeouts":{"create":null,"delete":null,"read":null,"update":null},"window_size":"PT5M"},"sensitive_values":{"action":[{"webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"criteria":[{"dimension":[]}],"dynamic_criteria":[],"scopes":[false],"tags":{},"timeouts":{}},"depends_on":["data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_monitor_action_group.action_group"]},{"address":"module.application_insights.azurerm_monitor_metric_alert.availability_alert[0]","mode":"managed","type":"azurerm_monitor_metric_alert","name":"availability_alert","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/actionGroups/pdhprod-actiongroup","webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"auto_mitigate":true,"criteria":[{"aggregation":"Average","dimension":[],"metric_name":"availabilityResults/availabilityPercentage","metric_namespace":"microsoft.insights/components","operator":"LessThan","skip_metric_validation":false,"threshold":95}],"description":"Degraded Availability","dynamic_criteria":[],"enabled":true,"frequency":"PT15M","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/metricAlerts/pdhprod-availability_alert","name":"pdhprod-availability_alert","resource_group_name":"prime-data-hub-prod","scopes":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/components/pdhprod-appinsights"],"severity":0,"tags":{"environment":"prod"},"target_resource_location":"","target_resource_type":"","timeouts":null,"window_size":"PT1H"},"sensitive_values":{"action":[{"webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"criteria":[{"dimension":[]}],"dynamic_criteria":[],"scopes":[false],"tags":{}},"depends_on":["data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","module.application_insights.azurerm_application_insights.app_insights","module.application_insights.azurerm_monitor_action_group.action_group","module.log_analytics_workspace.azurerm_log_analytics_workspace.law"]},{"address":"module.application_insights.azurerm_monitor_metric_alert.availability_alert_warning[0]","mode":"managed","type":"azurerm_monitor_metric_alert","name":"availability_alert_warning","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/actionGroups/pdhprod-actiongroup","webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"auto_mitigate":true,"criteria":[{"aggregation":"Average","dimension":[],"metric_name":"availabilityResults/availabilityPercentage","metric_namespace":"microsoft.insights/components","operator":"LessThan","skip_metric_validation":false,"threshold":100}],"description":"Degraded Availability","dynamic_criteria":[],"enabled":true,"frequency":"PT15M","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/metricAlerts/pdhprod-availability-alert-warning","name":"pdhprod-availability-alert-warning","resource_group_name":"prime-data-hub-prod","scopes":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/components/pdhprod-appinsights"],"severity":2,"tags":{"environment":"prod"},"target_resource_location":"","target_resource_type":"","timeouts":null,"window_size":"PT1H"},"sensitive_values":{"action":[{"webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"criteria":[{"dimension":[]}],"dynamic_criteria":[],"scopes":[false],"tags":{}},"depends_on":["module.application_insights.azurerm_application_insights.app_insights","module.application_insights.azurerm_monitor_action_group.action_group","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url"]},{"address":"module.application_insights.azurerm_monitor_metric_alert.db_cpu_util[0]","mode":"managed","type":"azurerm_monitor_metric_alert","name":"db_cpu_util","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/actionGroups/pdhprod-actiongroup","webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"auto_mitigate":true,"criteria":[{"aggregation":"Average","dimension":[],"metric_name":"cpu_percent","metric_namespace":"Microsoft.DBforPostgreSQL/servers","operator":"GreaterThanOrEqual","skip_metric_validation":false,"threshold":70}],"description":"prod database CPU utilization is greater than 70%","dynamic_criteria":[],"enabled":true,"frequency":"PT1M","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/metricAlerts/prod-db-cpu","name":"prod-db-cpu","resource_group_name":"prime-data-hub-prod","scopes":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql"],"severity":1,"tags":{},"target_resource_location":"","target_resource_type":"","timeouts":{"create":null,"delete":null,"read":null,"update":null},"window_size":"PT5M"},"sensitive_values":{"action":[{"webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"criteria":[{"dimension":[]}],"dynamic_criteria":[],"scopes":[false],"tags":{},"timeouts":{}},"depends_on":["data.azurerm_key_vault_secret.pagerduty_url","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.application_insights.azurerm_monitor_action_group.action_group","module.database.azurerm_postgresql_server.postgres_server","data.azurerm_key_vault.app_config","data.azurerm_key_vault.tf-secrets"]},{"address":"module.application_insights.azurerm_monitor_metric_alert.db_mem_util[0]","mode":"managed","type":"azurerm_monitor_metric_alert","name":"db_mem_util","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/actionGroups/pdhprod-actiongroup","webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"auto_mitigate":true,"criteria":[{"aggregation":"Average","dimension":[],"metric_name":"memory_percent","metric_namespace":"Microsoft.DBforPostgreSQL/servers","operator":"GreaterThanOrEqual","skip_metric_validation":false,"threshold":85}],"description":"prod database memory utilization is greater than 85%","dynamic_criteria":[],"enabled":true,"frequency":"PT1M","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/metricAlerts/prod-db-mem","name":"prod-db-mem","resource_group_name":"prime-data-hub-prod","scopes":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql"],"severity":1,"tags":{},"target_resource_location":"","target_resource_type":"","timeouts":{"create":null,"delete":null,"read":null,"update":null},"window_size":"PT5M"},"sensitive_values":{"action":[{"webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"criteria":[{"dimension":[]}],"dynamic_criteria":[],"scopes":[false],"tags":{},"timeouts":{}},"depends_on":["data.azurerm_key_vault_secret.postgres_user","module.application_insights.azurerm_monitor_action_group.action_group","module.database.azurerm_postgresql_server.postgres_server","data.azurerm_key_vault.app_config","data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","data.azurerm_key_vault_secret.postgres_pass"]},{"address":"module.application_insights.azurerm_monitor_metric_alert.exception_alert_critical[0]","mode":"managed","type":"azurerm_monitor_metric_alert","name":"exception_alert_critical","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/actionGroups/pdhprod-actiongroup","webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"auto_mitigate":true,"criteria":[{"aggregation":"Count","dimension":[],"metric_name":"exceptions/count","metric_namespace":"microsoft.insights/components","operator":"GreaterThan","skip_metric_validation":false,"threshold":99}],"description":"Over 100 Exceptions Raised in the Last Hour","dynamic_criteria":[],"enabled":true,"frequency":"PT1M","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/metricAlerts/Over 100 Exceptions Raised in the Last Hour","name":"Over 100 Exceptions Raised in the Last Hour","resource_group_name":"prime-data-hub-prod","scopes":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/components/pdhprod-appinsights"],"severity":0,"tags":{"environment":"prod"},"target_resource_location":"","target_resource_type":"","timeouts":{"create":null,"delete":null,"read":null,"update":null},"window_size":"PT1H"},"sensitive_values":{"action":[{"webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"criteria":[{"dimension":[]}],"dynamic_criteria":[],"scopes":[false],"tags":{},"timeouts":{}},"depends_on":["data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","module.application_insights.azurerm_application_insights.app_insights","module.application_insights.azurerm_monitor_action_group.action_group","module.log_analytics_workspace.azurerm_log_analytics_workspace.law"]},{"address":"module.application_insights.azurerm_monitor_metric_alert.exception_alert_error[0]","mode":"managed","type":"azurerm_monitor_metric_alert","name":"exception_alert_error","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/actionGroups/pdhprod-actiongroup","webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"auto_mitigate":true,"criteria":[{"aggregation":"Count","dimension":[],"metric_name":"exceptions/count","metric_namespace":"microsoft.insights/components","operator":"GreaterThan","skip_metric_validation":false,"threshold":9}],"description":"Over 10 Exceptions Raised in the Last Hour","dynamic_criteria":[],"enabled":true,"frequency":"PT1M","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/metricAlerts/Over 10 Exceptions Raised in the Last Hour","name":"Over 10 Exceptions Raised in the Last Hour","resource_group_name":"prime-data-hub-prod","scopes":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/components/pdhprod-appinsights"],"severity":1,"tags":{"environment":"prod"},"target_resource_location":"","target_resource_type":"","timeouts":{"create":null,"delete":null,"read":null,"update":null},"window_size":"PT1H"},"sensitive_values":{"action":[{"webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"criteria":[{"dimension":[]}],"dynamic_criteria":[],"scopes":[false],"tags":{},"timeouts":{}},"depends_on":["data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","module.application_insights.azurerm_application_insights.app_insights","module.application_insights.azurerm_monitor_action_group.action_group","module.log_analytics_workspace.azurerm_log_analytics_workspace.law"]},{"address":"module.application_insights.azurerm_monitor_metric_alert.exception_alert_warn[0]","mode":"managed","type":"azurerm_monitor_metric_alert","name":"exception_alert_warn","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/actionGroups/pdhprod-actiongroup","webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"auto_mitigate":true,"criteria":[{"aggregation":"Count","dimension":[],"metric_name":"exceptions/count","metric_namespace":"microsoft.insights/components","operator":"GreaterThan","skip_metric_validation":false,"threshold":0}],"description":"One or More Exceptions Raised in the Last Hour","dynamic_criteria":[],"enabled":true,"frequency":"PT1M","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/metricAlerts/One or More Exceptions Raised in the Last Hour","name":"One or More Exceptions Raised in the Last Hour","resource_group_name":"prime-data-hub-prod","scopes":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/components/pdhprod-appinsights"],"severity":2,"tags":{"environment":"prod"},"target_resource_location":"","target_resource_type":"","timeouts":{"create":null,"delete":null,"read":null,"update":null},"window_size":"PT1H"},"sensitive_values":{"action":[{"webhook_properties":{}}],"application_insights_web_test_location_availability_criteria":[],"criteria":[{"dimension":[]}],"dynamic_criteria":[],"scopes":[false],"tags":{},"timeouts":{}},"depends_on":["data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","module.application_insights.azurerm_application_insights.app_insights","module.application_insights.azurerm_monitor_action_group.action_group","module.log_analytics_workspace.azurerm_log_analytics_workspace.law"]},{"address":"module.application_insights.azurerm_monitor_scheduled_query_rules_alert.db_query_duration[0]","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"db_query_duration","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/actionGroups/pdhprod-actiongroup"],"custom_webhook_payload":"","email_subject":""}],"authorized_resource_ids":[],"auto_mitigation_enabled":false,"data_source_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights","description":"prod DB query durations \u003e= 10s","enabled":true,"frequency":5,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/scheduledQueryRules/prod-db-query-duration","location":"eastus","name":"prod-db-query-duration","query":"dependencies\n| where timestamp \u003e= ago(5m) and name has \"SQL:\" and duration \u003e= 10000\n","query_type":"ResultCount","resource_group_name":"prime-data-hub-prod","severity":2,"tags":{},"throttling":0,"time_window":5,"timeouts":{"create":null,"delete":null,"read":null,"update":null},"trigger":[{"metric_trigger":[],"operator":"GreaterThan","threshold":0}]},"sensitive_values":{"action":[{"action_group":[false]}],"authorized_resource_ids":[],"tags":{},"timeouts":{},"trigger":[{"metric_trigger":[]}]},"depends_on":["data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","module.application_insights.azurerm_application_insights.app_insights","module.application_insights.azurerm_monitor_action_group.action_group","module.log_analytics_workspace.azurerm_log_analytics_workspace.law"]},{"address":"module.application_insights.azurerm_monitor_scheduled_query_rules_alert.db_query_duration_over_time_window[0]","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"db_query_duration_over_time_window","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/actionGroups/pdhprod-actiongroup"],"custom_webhook_payload":"","email_subject":""}],"authorized_resource_ids":[],"auto_mitigation_enabled":false,"data_source_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights","description":"10+ DB queries with durations over 1.25s in the past 5 minutes","enabled":true,"frequency":5,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/scheduledQueryRules/prod-db-query-duration-over-time-window","location":"eastus","name":"prod-db-query-duration-over-time-window","query":"dependencies\n| where timestamp \u003e= ago(5m) and name has \"SQL:\" and duration \u003e 1250\n","query_type":"ResultCount","resource_group_name":"prime-data-hub-prod","severity":1,"tags":{},"throttling":0,"time_window":5,"timeouts":{"create":null,"delete":null,"read":null,"update":null},"trigger":[{"metric_trigger":[],"operator":"GreaterThan","threshold":10}]},"sensitive_values":{"action":[{"action_group":[false]}],"authorized_resource_ids":[],"tags":{},"timeouts":{},"trigger":[{"metric_trigger":[]}]},"depends_on":["data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","module.application_insights.azurerm_application_insights.app_insights","module.application_insights.azurerm_monitor_action_group.action_group","module.log_analytics_workspace.azurerm_log_analytics_workspace.law"]},{"address":"module.application_insights.azurerm_monitor_scheduled_query_rules_alert.http_2xx_failed_requests[0]","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"http_2xx_failed_requests","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/actionGroups/pdhprod-actiongroup"],"custom_webhook_payload":"","email_subject":""}],"authorized_resource_ids":[],"auto_mitigation_enabled":false,"data_source_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights","description":"prod HTTP Server 2xx Errors (where successful request == false) \u003e= 10","enabled":true,"frequency":5,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/scheduledQueryRules/prod-api-2xx-failed-requests","location":"eastus","name":"prod-api-2xx-failed-requests","query":"requests\n| where toint(resultCode) between (200 .. 299) and success == false and timestamp \u003e= ago(5m)\n","query_type":"ResultCount","resource_group_name":"prime-data-hub-prod","severity":1,"tags":{},"throttling":0,"time_window":5,"timeouts":{"create":null,"delete":null,"read":null,"update":null},"trigger":[{"metric_trigger":[],"operator":"GreaterThan","threshold":14}]},"sensitive_values":{"action":[{"action_group":[false]}],"authorized_resource_ids":[],"tags":{},"timeouts":{},"trigger":[{"metric_trigger":[]}]},"depends_on":["data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","module.application_insights.azurerm_application_insights.app_insights","module.application_insights.azurerm_monitor_action_group.action_group","module.log_analytics_workspace.azurerm_log_analytics_workspace.law"]},{"address":"module.application_insights.azurerm_monitor_scheduled_query_rules_alert.http_4xx_errors[0]","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"http_4xx_errors","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/actionGroups/pdhprod-actiongroup"],"custom_webhook_payload":"","email_subject":""}],"authorized_resource_ids":[],"auto_mitigation_enabled":false,"data_source_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights","description":"prod HTTP Server 4xx Errors (excluding 401s) \u003e= 10","enabled":true,"frequency":5,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/scheduledQueryRules/prod-api-4xx-errors","location":"eastus","name":"prod-api-4xx-errors","query":"requests\n| where toint(resultCode) \u003e= 400 and toint(resultCode) \u003c 500 and toint(resultCode) != 401 and timestamp \u003e= ago(5m)\n","query_type":"ResultCount","resource_group_name":"prime-data-hub-prod","severity":1,"tags":{},"throttling":0,"time_window":5,"timeouts":{"create":null,"delete":null,"read":null,"update":null},"trigger":[{"metric_trigger":[],"operator":"GreaterThan","threshold":99}]},"sensitive_values":{"action":[{"action_group":[false]}],"authorized_resource_ids":[],"tags":{},"timeouts":{},"trigger":[{"metric_trigger":[]}]},"depends_on":["data.azurerm_key_vault_secret.pagerduty_url","module.application_insights.azurerm_application_insights.app_insights","module.application_insights.azurerm_monitor_action_group.action_group","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","data.azurerm_key_vault.tf-secrets"]},{"address":"module.application_insights.azurerm_monitor_scheduled_query_rules_alert.http_5xx_errors[0]","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"http_5xx_errors","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/actionGroups/pdhprod-actiongroup"],"custom_webhook_payload":"","email_subject":""}],"authorized_resource_ids":[],"auto_mitigation_enabled":false,"data_source_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights","description":"prod HTTP Server 5xx Errors \u003e= 10","enabled":true,"frequency":5,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/scheduledQueryRules/prod-api-5xx-errors","location":"eastus","name":"prod-api-5xx-errors","query":"requests\n| where toint(resultCode) \u003e= 500 and timestamp \u003e= ago(5m)\n","query_type":"ResultCount","resource_group_name":"prime-data-hub-prod","severity":0,"tags":{},"throttling":0,"time_window":5,"timeouts":{"create":null,"delete":null,"read":null,"update":null},"trigger":[{"metric_trigger":[],"operator":"GreaterThan","threshold":9}]},"sensitive_values":{"action":[{"action_group":[false]}],"authorized_resource_ids":[],"tags":{},"timeouts":{},"trigger":[{"metric_trigger":[]}]},"depends_on":["module.application_insights.azurerm_monitor_action_group.action_group","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","module.application_insights.azurerm_application_insights.app_insights"]},{"address":"module.application_insights.azurerm_monitor_scheduled_query_rules_alert.http_response_time[0]","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"http_response_time","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/actionGroups/pdhprod-actiongroup"],"custom_webhook_payload":"","email_subject":""}],"authorized_resource_ids":[],"auto_mitigation_enabled":false,"data_source_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights","description":"Median duration \u003e 10 seconds","enabled":true,"frequency":5,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/scheduledQueryRules/prod-api-http-response","location":"eastus","name":"prod-api-http-response","query":"requests\n| summarize AggregatedValue = (percentile(duration, 50)) by bin(timestamp, 5m)\n","query_type":"ResultCount","resource_group_name":"prime-data-hub-prod","severity":2,"tags":{},"throttling":0,"time_window":5,"timeouts":{"create":null,"delete":null,"read":null,"update":null},"trigger":[{"metric_trigger":[{"metric_column":"timestamp","metric_trigger_type":"Consecutive","operator":"GreaterThan","threshold":1}],"operator":"GreaterThanOrEqual","threshold":10000}]},"sensitive_values":{"action":[{"action_group":[false]}],"authorized_resource_ids":[],"tags":{},"timeouts":{},"trigger":[{"metric_trigger":[{}]}]},"depends_on":["data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","module.application_insights.azurerm_application_insights.app_insights","module.application_insights.azurerm_monitor_action_group.action_group","module.log_analytics_workspace.azurerm_log_analytics_workspace.law"]},{"address":"module.application_insights.azurerm_monitor_smart_detector_alert_rule.failure_anomalies[0]","mode":"managed","type":"azurerm_monitor_smart_detector_alert_rule","name":"failure_anomalies","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"action_group":[{"email_subject":"","ids":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.insights/actiongroups/pdhprod-actiongroup"],"webhook_payload":""}],"description":"prod Failure Anomalies notifies you of an unusual rise in the rate of failed HTTP requests or dependency calls.","detector_type":"FailureAnomaliesDetector","enabled":true,"frequency":"PT1M","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.AlertsManagement/smartdetectoralertrules/prod-failure-anomalies","name":"prod-failure-anomalies","resource_group_name":"prime-data-hub-prod","scope_resource_ids":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights"],"severity":"Sev1","tags":{},"throttling_duration":"","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"action_group":[{"ids":[false]}],"scope_resource_ids":[false],"tags":{},"timeouts":{}},"depends_on":["module.application_insights.azurerm_monitor_action_group.action_group","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","module.application_insights.azurerm_application_insights.app_insights"]}],"address":"module.application_insights"},{"resources":[{"address":"module.azure_dashboard.azurerm_dashboard.az_dashboard","mode":"managed","type":"azurerm_dashboard","name":"az_dashboard","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"dashboard_properties":"{\"lenses\":{\"0\":{\"order\":0,\"parts\":{\"0\":{\"metadata\":{\"asset\":{\"idInputName\":\"id\",\"type\":\"ApplicationInsights\"},\"inputs\":[{\"name\":\"id\",\"value\":\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"},{\"name\":\"Version\",\"value\":\"1.0\"}],\"type\":\"Extension/AppInsightsExtension/PartType/MonitoredApplicationsTile\"},\"position\":{\"colSpan\":2,\"rowSpan\":1,\"x\":0,\"y\":0}},\"1\":{\"metadata\":{\"asset\":{\"idInputName\":\"id\",\"type\":\"ApplicationInsights\"},\"inputs\":[{\"name\":\"id\",\"value\":\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"},{\"name\":\"Version\",\"value\":\"1.0\"}],\"type\":\"Extension/AppInsightsExtension/PartType/MonitoredApplicationsTile\"},\"position\":{\"colSpan\":2,\"rowSpan\":1,\"x\":2,\"y\":0}},\"10\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"5fc74968-4b70-41a1-862f-9726e124425e\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(200h)\\n    | where isempty(operation_SyntheticSource) //filtering out HTTP requests made by bots\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable =  () {\\n    queryTable\\n    | extend timeInSeconds = todynamic(tostring(customDimensions[\\\"sessionLength\\\"]))\\n    | evaluate bag_unpack(timeInSeconds)\\n    | order by timestamp desc\\n};\\nsplitTable\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"Session Duration with Membership Metadata\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":0,\"y\":16}},\"2\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"12caea22-3545-459f-8f05-9618d2003711\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable =  () {\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend member_type = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n};\\nlet cohortedTable = splitTable\\n    //| where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    | summarize ['Page Views'] = count() by bin(timestamp, 1d), member_type\\n    | project\\n    [\\\"Date/Time\\\"] = timestamp,\\n    member_type,\\n    [\\\"Page Views\\\"]\\n| render columnchart; \\ncohortedTable\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"FrameControlChart\"},{\"isOptional\":true,\"name\":\"SpecificChart\",\"value\":\"StackedColumn\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\",\"value\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"member_type\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"Date/Time\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Page Views\",\"type\":\"long\"}]}},{\"isOptional\":true,\"name\":\"LegendOptions\",\"value\":{\"isEnabled\":true,\"position\":\"Bottom\"}},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"Total Page Views by Member Type\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable =  () {\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend member_type = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n};\\nlet cohortedTable = splitTable\\n    | where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    | summarize ['Page Views'] = count() by bin(timestamp, 1d), member_type\\n    | project\\n    [\\\"Date/Time\\\"] = timestamp,\\n    member_type,\\n    [\\\"Page Views\\\"]\\n| render columnchart; \\ncohortedTable\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":0,\"y\":2}},\"3\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"7db41bbc-9a0a-4311-9130-8493cd13c8fa\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews, customEvents, requests\\n    | where timestamp \\u003e ago(1d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable = () {\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend memberType = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n};\\nlet cohortedTable = splitTable\\n    | where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    | where memberType != \\\"\\u003cundefined\\u003e\\\"\\n    | extend byDimension = bin(timestamp, 1h)\\n    | summarize metricHll = hll(session_Id) by byDimension, memberType;\\nlet topSegments = cohortedTable\\n    | summarize mergedMetricHll = hll_merge(metricHll) by memberType\\n    | project memberType, dcount_session_Id = dcount_hll(mergedMetricHll)\\n    | top 5 by dcount_session_Id desc nulls last\\n    | summarize makelist(memberType);\\ncohortedTable\\n| extend userId = iff(memberType in (topSegments), memberType, \\\"Other\\\")\\n| project byDimension, userId, metricHll\\n| summarize metric = hll_merge(metricHll) by userId, byDimension\\n| order by userId asc, byDimension desc\\n| project [\\\"Date/time\\\"]=byDimension, [\\\"Membership Type\\\"]=userId, [\\\"Session Count\\\"] = dcount_hll(metric)\\n| render columnchart\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"FrameControlChart\"},{\"isOptional\":true,\"name\":\"SpecificChart\",\"value\":\"StackedColumn\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\",\"value\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"Membership Type\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"Date/time\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Session Count\",\"type\":\"long\"}]}},{\"isOptional\":true,\"name\":\"LegendOptions\",\"value\":{\"isEnabled\":true,\"position\":\"Bottom\"}},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"Membership Type\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"Date/Time\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Session Count\",\"type\":\"long\"}]},\"PartTitle\":\"Session Count by Member Type\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews, customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\nlet splitTable = () {\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend memberType = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n};\\nlet cohortedTable = splitTable\\n    | where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    | where memberType != \\\"\\u003cundefined\\u003e\\\"\\n    | extend byDimension = bin(timestamp, 1d)\\n    | summarize metricHll = hll(session_Id) by byDimension, memberType;\\nlet topSegments = cohortedTable\\n    | summarize mergedMetricHll = hll_merge(metricHll) by memberType\\n    | project memberType, dcount_session_Id = dcount_hll(mergedMetricHll)\\n    | top 5 by dcount_session_Id desc nulls last\\n    | summarize makelist(memberType);\\ncohortedTable\\n| extend userId = iff(memberType in (topSegments), memberType, \\\"Other\\\")\\n| project byDimension, userId, metricHll\\n| summarize metric = hll_merge(metricHll) by userId, byDimension\\n| order by userId asc, byDimension desc\\n| project [\\\"Date/Time\\\"]=byDimension, [\\\"Membership Type\\\"]=userId, [\\\"Session Count\\\"] = dcount_hll(metric)\\n| render columnchart\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":6,\"y\":2}},\"4\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"9ef4b7a4-9076-4f6a-8644-13efc1293899\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);let grain = iff(true, 1d, 1h);  let mainTable = union pageViews     | where timestamp \\u003e ago(90d) | where isempty(operation_SyntheticSource) | extend name =replace(\\\"\\\\n\\\", \\\"\\\",name) | extend name =replace(\\\"\\\\r\\\", \\\"\\\",name) | where '*' in (usg_events) or name in (usg_events) | where customDimensions[\\\"activeMembership\\\"] !contains \\\"prime-admin\\\" ; let resultTable = mainTable; resultTable     | make-series Users = dcountif(user_Id, 'user_Id' != 'user_AuthenticatedId' or ('user_Id' =='user_AuthenticatedId' and isnotempty(user_Id))) default = 0 on timestamp from ago(90d) to now() step grain\\r| render barchart\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"FrameControlChart\"},{\"isOptional\":true,\"name\":\"SpecificChart\",\"value\":\"StackedColumn\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\",\"value\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"timestamp\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Users\",\"type\":\"real\"}]}},{\"isOptional\":true,\"name\":\"LegendOptions\",\"value\":{\"isEnabled\":true,\"position\":\"Bottom\"}},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"timestamp\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"Page Views\",\"type\":\"real\"}]},\"PartTitle\":\"Page Views Excluding 'prime-admin'\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);let grain = iff(true, 1d, 1h);  let mainTable = union pageViews     | where timestamp \\u003e ago(30d) | where isempty(operation_SyntheticSource) | extend name =replace(\\\"\\\\n\\\", \\\"\\\",name) | extend name =replace(\\\"\\\\r\\\", \\\"\\\",name) | where '*' in (usg_events) or name in (usg_events) | where customDimensions[\\\"activeMembership\\\"] !contains \\\"prime-admin\\\" ; let resultTable = mainTable; resultTable     | make-series [\\\"Page Views\\\"] = dcountif(user_Id, 'user_Id' != 'user_AuthenticatedId' or ('user_Id' =='user_AuthenticatedId' and isnotempty(user_Id))) default = 0 on timestamp from ago(30d) to now() step grain\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":12,\"y\":2}},\"5\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"4c473b58-a778-417c-a144-8ba938108f7b\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"Daily Data | Table Pagination\\\", \\\"Submissions | Table Pagination\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(90d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where true;\\nlet byTable = mainTable;\\nlet queryTable = () {\\n    byTable\\n    | extend dimension = customDimensions[\\\"tablePagination\\\"]\\n    | extend dimension = iif(isempty(dimension), \\\"\\u003cundefined\\u003e\\\", dimension)\\n};\\nlet byCohortTable = queryTable\\n    | project name, dimension;\\nlet topSegments = byCohortTable\\n    | summarize Events = count() by name, dimension\\n    | summarize make_list(dimension,1000);    //Returns a dynamic JSON array of all the values of Expr in the group. Needed here.\\nlet topEventMetrics = byCohortTable\\n    | where dimension in (topSegments);\\nlet otherEventUsers = byCohortTable\\n    | where dimension !in (topSegments)\\n    | extend dimension = \\\"Other\\\";\\notherEventUsers\\n| union topEventMetrics\\n| summarize Events = count() by name, dimension\\n| order by dimension asc\\n| render columnchart\\nwith (\\n    xtitle=\\\"Table\\\",\\n    ytitle=\\\"Counts\\\",\\n    title=\\\"Pagination Usage by Table\\\")\\n\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"FrameControlChart\"},{\"isOptional\":true,\"name\":\"SpecificChart\",\"value\":\"StackedColumn\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Pagination Usage by Table\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\",\"value\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"dimension\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"name\",\"type\":\"string\"},\"yAxis\":[{\"name\":\"Events\",\"type\":\"long\"}]}},{\"isOptional\":true,\"name\":\"LegendOptions\",\"value\":{\"isEnabled\":true,\"position\":\"Bottom\"}},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"Query\":\"let usg_events = dynamic([\\\"Daily Data | Table Pagination\\\", \\\"Submissions | Table Pagination\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where true;\\nlet byTable = mainTable;\\nlet queryTable = () {\\n    byTable\\n    | extend dimension = customDimensions[\\\"tablePagination\\\"]\\n    | extend dimension = iif(isempty(dimension), \\\"\\u003cundefined\\u003e\\\", dimension)\\n};\\nlet byCohortTable = queryTable\\n    | project name, dimension;\\nlet topSegments = byCohortTable\\n    | summarize Events = count() by name, dimension\\n    | summarize make_list(dimension,1000);    //Returns a dynamic JSON array of all the values of Expr in the group. Needed here.\\nlet topEventMetrics = byCohortTable\\n    | where dimension in (topSegments);\\nlet otherEventUsers = byCohortTable\\n    | where dimension !in (topSegments)\\n    | extend dimension = \\\"Other\\\";\\notherEventUsers\\n| union topEventMetrics\\n| summarize Events = count() by name, dimension\\n| order by dimension asc\\n| render columnchart\\nwith (\\n    xtitle=\\\"Table\\\",\\n    ytitle=\\\"Counts\\\",\\n    title=\\\"Pagination Usage by Table\\\")\\n\\n\",\"SpecificChart\":\"UnstackedColumn\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":18,\"y\":2}},\"6\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"7f10e6c8-aa3b-48fd-9534-fe194127357b\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(90d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where isnotempty(customDimensions[\\\"tableFilter\\\"])\\n    | extend ActiveMembership = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(ActiveMembership)\\n    | extend TableFilter = todynamic(tostring(customDimensions[\\\"tableFilter\\\"]))\\n    | evaluate bag_unpack(TableFilter);\\nlet queryTable = mainTable;\\nqueryTable\\n| extend TimeDiff = datetime_diff('day', todatetime(endRange), todatetime(startRange))\\n| order by timestamp desc \\n| project\\n    [\\\"No. Days in Range\\\"] = TimeDiff,\\n    [\\\"Start Date\\\"] = todatetime(startRange),\\n    [\\\"Table Filter Name\\\"] = name,\\n    [\\\"Organization Name\\\"] = parsedName,\\n    [\\\"Date filter was Used\\\"] = todatetime(timestamp);\\nqueryTable\\n\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"Table Filter Event Usage\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where isnotempty(customDimensions[\\\"tableFilter\\\"])\\n    | extend ActiveMembership = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(ActiveMembership)\\n    | extend TableFilter = todynamic(tostring(customDimensions[\\\"tableFilter\\\"]))\\n    | evaluate bag_unpack(TableFilter);\\nlet queryTable = mainTable;\\nqueryTable\\n| extend TimeDiff = datetime_diff('day', todatetime(endRange), todatetime(startRange))\\n| order by timestamp desc \\n| project\\n    [\\\"No. Days in Range\\\"] = TimeDiff,\\n    [\\\"Start Date\\\"] = todatetime(startRange),\\n    [\\\"Table Filter Name\\\"] = name,\\n    [\\\"Organization Name\\\"] = parsedName,\\n    [\\\"Date filter was Used\\\"] = todatetime(timestamp),\\n    memberType;\\nqueryTable\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":9,\"rowSpan\":5,\"x\":0,\"y\":6}},\"7\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"1a5f54c6-441c-4164-b54b-2ea880afdcee\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\",\"value\":\"P1D\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"// select count from page where member type ='prime-admin'\\nlet usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews\\n    | where timestamp \\u003e ago(90d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend member_type = iif(isempty(memberType), \\\"\\u003cundefined\\u003e\\\", memberType)\\n    | summarize PageCount = count() by member_type, operation_Name\\n| project [\\\"Page Viewed\\\"] = operation_Name, p = pack(strcat(member_type, \\\" visit count\\\"), PageCount)\\n| summarize b = make_bag(p) by [\\\"Page Viewed\\\"]\\n| evaluate bag_unpack(b)\\n\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":false}],\"settings\":{\"content\":{\"IsQueryContainTimeRange\":true,\"PartTitle\":\"Page Views by Member Type\",\"Query\":\"let usg_events = dynamic([\\\"*\\\"]);\\nlet mainTable = union pageViews\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events);\\nlet queryTable = mainTable;\\n    queryTable\\n    | extend dimension = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimension)\\n    | extend member_type = iif(isempty(memberType), \\\"unauthenticated\\\", memberType)\\n    | summarize PageCount = count() by member_type, operation_Name\\n| project [\\\"Page Viewed\\\"] = operation_Name, p = pack(strcat(member_type, \\\" visit count\\\"), PageCount)\\n| summarize b = make_bag(p) by [\\\"Page Viewed\\\"]\\n| order by ['Page Viewed'] asc \\n| evaluate bag_unpack(b)\\n\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":9,\"rowSpan\":5,\"x\":9,\"y\":6}},\"8\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"526d8e53-6d5e-4c42-81af-9ef1c9ccfba1\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"Daily Data | Table Pagination\\\", \\\"Submissions | Table Pagination\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(2d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where true;\\nlet byTable = mainTable;\\nlet queryTable = () {\\n    byTable\\n    | extend dimActiveMembership = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimActiveMembership)\\n    | extend member_type = iif(isempty(memberType), \\\"unauthenticated\\\", memberType)\\n    | extend dimTablePagination = todynamic(tostring(customDimensions[\\\"tablePagination\\\"]))\\n    | evaluate bag_unpack(dimTablePagination)\\n};\\nlet byCohortTable = queryTable\\n    | project name, member_type, pageSize, pageNumber;\\nlet topSegments = byCohortTable\\n    | summarize PageCount = count() by name, member_type, pageSize, pageNumber\\n    | project\\n    [\\\"Event Name\\\"] = name,\\n    [\\\"Page Size\\\"] = pageSize,\\n    [\\\"Page Number\\\"] = pageNumber,\\n    p = pack(strcat(member_type, \\\" Table Page Count\\\"), PageCount)\\n| summarize b = make_bag(p) by [\\\"Event Name\\\"], [\\\"Page Size\\\"], [\\\"Page Number\\\"]\\n| evaluate bag_unpack(b)\\n| order by [\\\"Event Name\\\"] asc, [\\\"Page Size\\\"] asc, [\\\"Page Number\\\"] asc;\\ntopSegments\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"Table Pagination Counts by Member Type\",\"Query\":\"let usg_events = dynamic([\\\"Daily Data | Table Pagination\\\", \\\"Submissions | Table Pagination\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | where true;\\nlet byTable = mainTable;\\nlet queryTable = () {\\n    byTable\\n    | extend dimActiveMembership = todynamic(tostring(customDimensions[\\\"activeMembership\\\"]))\\n    | evaluate bag_unpack(dimActiveMembership)\\n    | extend member_type = iif(isempty(memberType), \\\"unauthenticated\\\", memberType)\\n    | extend dimTablePagination = todynamic(tostring(customDimensions[\\\"tablePagination\\\"]))\\n    | evaluate bag_unpack(dimTablePagination)\\n};\\nlet byCohortTable = queryTable\\n    | project name, member_type, pageSize, pageNumber;\\nlet topSegments = byCohortTable\\n    | summarize PageCount = count() by name, member_type, pageSize, pageNumber\\n    | project\\n    [\\\"Event Name\\\"] = name,\\n    [\\\"Page Size\\\"] = pageSize,\\n    [\\\"Page Number\\\"] = pageNumber,\\n    p = pack(strcat(member_type, \\\" Table Page Count\\\"), PageCount)\\n| summarize b = make_bag(p) by [\\\"Event Name\\\"], [\\\"Page Size\\\"], [\\\"Page Number\\\"]\\n| evaluate bag_unpack(b)\\n| order by [\\\"Event Name\\\"] asc, [\\\"Page Size\\\"] asc, [\\\"Page Number\\\"] asc;\\ntopSegments\\n\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":9,\"rowSpan\":5,\"x\":0,\"y\":11}},\"9\":{\"metadata\":{\"inputs\":[{\"isOptional\":true,\"name\":\"resourceTypeMode\"},{\"isOptional\":true,\"name\":\"ComponentId\"},{\"isOptional\":true,\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights\"]}},{\"isOptional\":true,\"name\":\"PartId\",\"value\":\"1071a5f0-114e-4c2f-bb11-5362584215c3\"},{\"isOptional\":true,\"name\":\"Version\",\"value\":\"2.0\"},{\"isOptional\":true,\"name\":\"TimeRange\"},{\"isOptional\":true,\"name\":\"DashboardId\"},{\"isOptional\":true,\"name\":\"DraftRequestParameters\"},{\"isOptional\":true,\"name\":\"Query\",\"value\":\"let usg_events = dynamic([\\\"File Validator\\\"]);\\nlet mainTable = union customEvents\\n    | where timestamp \\u003e ago(30d)\\n    | where isempty(operation_SyntheticSource)\\n    | extend name =replace(\\\"\\\\n\\\", \\\"\\\", name)\\n    | extend name =replace(\\\"\\\\r\\\", \\\"\\\", name)\\n    | where '*' in (usg_events) or name in (usg_events)\\n    | extend fileValidatorProps = tostring(customDimensions[\\\"fileValidator\\\"]);\\nlet queryTable = mainTable\\n    | where 'user_Id' != 'user_AuthenticatedId' or ('user_Id' == 'user_AuthenticatedId' and isnotempty(user_Id))\\n    // | summarize ['Count'] = count() by bin(timestamp, 1d), session_Id, fileValidatorProps\\n    | extend dimension = todynamic(fileValidatorProps)\\n    | evaluate bag_unpack(dimension)\\n    | extend ['Pass/Fail'] = iif(errorCount == 0, \\\"Pass\\\", \\\"Fail\\\")\\n    | order by timestamp desc \\n    | project\\n        [\\\"Date\\\"] = format_datetime(timestamp, 'MM/dd/yyyy'),\\n        [\\\"Session Id\\\"] = session_Id,\\n        // [\\\"Count\\\"],\\n        ['Pass/Fail'],\\n        [\\\"Error Count\\\"] = errorCount,\\n        [\\\"Warning Count\\\"] = warningCount,\\n        [\\\"Sender\\\"] = sender,\\n        [\\\"Schema\\\"] = schema,\\n        [\\\"File Type\\\"] = fileType; \\nqueryTable\\n\\n\"},{\"isOptional\":true,\"name\":\"ControlType\",\"value\":\"AnalyticsGrid\"},{\"isOptional\":true,\"name\":\"SpecificChart\"},{\"isOptional\":true,\"name\":\"PartTitle\",\"value\":\"Analytics\"},{\"isOptional\":true,\"name\":\"PartSubTitle\",\"value\":\"pdhprod-appinsights\"},{\"isOptional\":true,\"name\":\"Dimensions\"},{\"isOptional\":true,\"name\":\"LegendOptions\"},{\"isOptional\":true,\"name\":\"IsQueryContainTimeRange\",\"value\":true}],\"settings\":{\"content\":{\"PartTitle\":\"File Validator Statistics\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":9,\"rowSpan\":5,\"x\":9,\"y\":11}}}}},\"metadata\":{\"model\":{\"filterLocale\":{\"value\":\"en-us\"},\"filters\":{\"value\":{\"MsPortalFx_TimeRange\":{\"displayCache\":{\"name\":\"UTC Time\",\"value\":\"Past 30 days\"},\"filteredPartIds\":[\"StartboardPart-LogsDashboardPart-474730cc-d9f7-4265-b616-7c5e5575ec43\",\"StartboardPart-LogsDashboardPart-5b8c5fda-eccc-4eaa-8781-fb435376f4c9\",\"StartboardPart-LogsDashboardPart-0a2227e3-fa86-46b0-960a-b2c6c531d90c\",\"StartboardPart-LogsDashboardPart-c52af3ae-3577-450d-a4b4-bdb19c269e85\",\"StartboardPart-LogsDashboardPart-c52af3ae-3577-450d-a4b4-bdb19c269fe7\",\"StartboardPart-LogsDashboardPart-4f1ca6dd-eee2-4ea3-8c92-97fa8b6702a5\",\"StartboardPart-LogsDashboardPart-0e6386ee-24a5-46d1-96b6-80a0ae9fd14f\",\"StartboardPart-LogsDashboardPart-839425fe-018b-4550-a18e-a9b83e5713c5\",\"StartboardPart-LogsDashboardPart-839425fe-018b-4550-a18e-a9b83e5712d7\"],\"model\":{\"format\":\"utc\",\"granularity\":\"auto\",\"relative\":\"30d\"}}}},\"timeRange\":{\"type\":\"MsPortalFx.Composition.Configuration.ValueTypes.TimeRange\",\"value\":{\"relative\":{\"duration\":24,\"timeUnit\":1}}}}}}","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Portal/dashboards/pdhprod-RS-Dashboard","location":"eastus","name":"pdhprod-RS-Dashboard","resource_group_name":"prime-data-hub-prod","tags":{"environment":"prod","source":"terraform"},"timeouts":null},"sensitive_values":{"tags":{}},"depends_on":["module.azure_dashboard.data.azurerm_subscription.current"]},{"address":"module.azure_dashboard.data.azurerm_subscription.current","mode":"data","type":"azurerm_subscription","name":"current","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"display_name":"OCIO-DMZ-C1","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677","location_placement_id":"Public_2014-09-01","quota_id":"EnterpriseAgreement_2014-09-01","spending_limit":"Off","state":"Enabled","subscription_id":"7d1e3999-6577-4cd5-b296-f518e5c8e677","tags":{},"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":null},"sensitive_values":{"tags":{}}}],"address":"module.azure_dashboard"},{"resources":[{"address":"module.azure_dashboard-copy.data.azurerm_subscription.current","mode":"data","type":"azurerm_subscription","name":"current","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"display_name":"OCIO-DMZ-C1","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677","location_placement_id":"Public_2014-09-01","quota_id":"EnterpriseAgreement_2014-09-01","spending_limit":"Off","state":"Enabled","subscription_id":"7d1e3999-6577-4cd5-b296-f518e5c8e677","tags":{},"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":null},"sensitive_values":{"tags":{}}}],"address":"module.azure_dashboard-copy"},{"resources":[{"address":"module.container_registry.azurerm_container_registry.container_registry","mode":"managed","type":"azurerm_container_registry","name":"container_registry","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"admin_enabled":true,"admin_password":"52Iw/CvwOdl4oB8QDx0dRqtNsJ39hUqB","admin_username":"pdhprodcontainerregistry","anonymous_pull_enabled":false,"data_endpoint_enabled":false,"encryption":[{"enabled":false,"identity_client_id":"","key_vault_key_id":""}],"export_policy_enabled":true,"georeplication_locations":[],"georeplications":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.ContainerRegistry/registries/pdhprodcontainerregistry","identity":[{"identity_ids":[],"principal_id":"4fad7a67-ed17-4fe7-8119-9c45f1025e60","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"location":"eastus","login_server":"pdhprodcontainerregistry.azurecr.io","name":"pdhprodcontainerregistry","network_rule_bypass_option":"AzureServices","network_rule_set":[{"default_action":"Allow","ip_rule":[],"virtual_network":[{"action":"Allow","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public"},{"action":"Allow","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public"}]}],"public_network_access_enabled":true,"quarantine_policy_enabled":false,"resource_group_name":"prime-data-hub-prod","retention_policy":[{"days":7,"enabled":false}],"sku":"Premium","storage_account_id":"","tags":{"environment":"prod"},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"trust_policy":[{"enabled":true}],"zone_redundancy_enabled":false},"sensitive_values":{"encryption":[{}],"georeplication_locations":[],"georeplications":[],"identity":[{"identity_ids":[]}],"network_rule_set":[{"ip_rule":[],"virtual_network":[{},{}]}],"retention_policy":[{}],"tags":{},"timeouts":{},"trust_policy":[{}]}}],"address":"module.container_registry"},{"resources":[{"address":"module.data_factory.azurerm_data_factory.primary","mode":"managed","type":"azurerm_data_factory","name":"primary","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"customer_managed_key_id":"","github_configuration":[],"global_parameter":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df","identity":[{"identity_ids":[],"principal_id":"a29d370c-7309-42c0-9ce7-434e6eafb3f6","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"location":"eastus","managed_virtual_network_enabled":true,"name":"pdhprod-df","public_network_enabled":true,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"vsts_configuration":[]},"sensitive_values":{"github_configuration":[],"global_parameter":[],"identity":[{"identity_ids":[]}],"tags":{},"timeouts":{},"vsts_configuration":[]},"depends_on":["module.key_vault.data.azurerm_key_vault.application","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query"]},{"address":"module.data_factory.azurerm_data_factory_dataset_binary.sftp_archive","mode":"managed","type":"azurerm_data_factory_dataset_binary","name":"sftp_archive","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"additional_properties":{},"annotations":[],"azure_blob_storage_location":[{"container":"sftparchive","dynamic_filename_enabled":false,"dynamic_path_enabled":true,"filename":"","path":"@concat(dataset().sharename,'/',string(formatDateTime(utcNow(),'yyyyMMddHH')))"}],"compression":[],"data_factory_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df","data_factory_name":"pdhprod-df","description":"","folder":"SFTP-share-to-archive","http_server_location":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df/datasets/SFTPArchive","linked_service_name":"SFTPArchive","name":"SFTPArchive","parameters":{"sharename":"testshare"},"resource_group_name":"prime-data-hub-prod","sftp_server_location":[],"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"additional_properties":{},"annotations":[],"azure_blob_storage_location":[{}],"compression":[],"http_server_location":[],"parameters":{},"sftp_server_location":[],"timeouts":{}},"depends_on":["module.data_factory.azurerm_data_factory.primary","module.data_factory.azurerm_data_factory_integration_runtime_azure.vnet","module.data_factory.azurerm_data_factory_linked_service_azure_blob_storage.sftp_archive","module.key_vault.data.azurerm_key_vault.application","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account"]},{"address":"module.data_factory.azurerm_data_factory_dataset_binary.sftp_share","mode":"managed","type":"azurerm_data_factory_dataset_binary","name":"sftp_share","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"additional_properties":{},"annotations":[],"azure_blob_storage_location":[],"compression":[],"data_factory_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df","data_factory_name":"pdhprod-df","description":"","folder":"SFTP-share-to-archive","http_server_location":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df/datasets/SFTPShare","linked_service_name":"SFTPShare","name":"SFTPShare","parameters":{"sharename":"testshare"},"resource_group_name":"prime-data-hub-prod","sftp_server_location":[{"dynamic_filename_enabled":null,"dynamic_path_enabled":null,"filename":"","path":null}],"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"additional_properties":{},"annotations":[],"azure_blob_storage_location":[],"compression":[],"http_server_location":[],"parameters":{},"sftp_server_location":[{}],"timeouts":{}},"depends_on":["module.data_factory.azurerm_data_factory.primary","module.data_factory.azurerm_data_factory_integration_runtime_azure.vnet","module.data_factory.azurerm_data_factory_linked_service_azure_file_storage.sftp_share","module.key_vault.data.azurerm_key_vault.application","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query"]},{"address":"module.data_factory.azurerm_data_factory_integration_runtime_azure.vnet","mode":"managed","type":"azurerm_data_factory_integration_runtime_azure","name":"vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"cleanup_enabled":false,"compute_type":"General","core_count":8,"data_factory_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df","data_factory_name":"pdhprod-df","description":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df/integrationruntimes/VnetIR","location":"East US","name":"VnetIR","resource_group_name":"prime-data-hub-prod","time_to_live_min":10,"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_enabled":true},"sensitive_values":{"timeouts":{}},"depends_on":["module.data_factory.azurerm_data_factory.primary","module.key_vault.data.azurerm_key_vault.application","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query"]},{"address":"module.data_factory.azurerm_data_factory_linked_service_azure_blob_storage.sftp_archive","mode":"managed","type":"azurerm_data_factory_linked_service_azure_blob_storage","name":"sftp_archive","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"additional_properties":{},"annotations":[],"connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodstorageaccount;AccountKey=f/DHVl973PpCVbefY5mdfuUxUZQsb7y/Zmz7AZo5INS6rCH5lG3wpqYKV2u3LyFV8mNgoUtVulh631dE1+M7HQ==;EndpointSuffix=core.windows.net","data_factory_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df","data_factory_name":"pdhprod-df","description":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df/linkedservices/SFTPArchive","integration_runtime_name":"VnetIR","key_vault_sas_token":[],"name":"SFTPArchive","parameters":{},"resource_group_name":"prime-data-hub-prod","sas_uri":null,"service_endpoint":"","service_principal_id":null,"service_principal_key":null,"tenant_id":null,"timeouts":{"create":null,"delete":null,"read":null,"update":null},"use_managed_identity":true},"sensitive_values":{"additional_properties":{},"annotations":[],"connection_string":true,"key_vault_sas_token":[],"parameters":{},"timeouts":{}},"depends_on":["module.data_factory.azurerm_data_factory.primary","module.data_factory.azurerm_data_factory_integration_runtime_azure.vnet","module.key_vault.data.azurerm_key_vault.application","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account"]},{"address":"module.data_factory.azurerm_data_factory_linked_service_azure_file_storage.sftp_share","mode":"managed","type":"azurerm_data_factory_linked_service_azure_file_storage","name":"sftp_share","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"additional_properties":{},"annotations":[],"connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodsftp;AccountKey=fF3M2zYQa34JFh+oEdsHvCMUOLsOoWj/shQ5LnDkt1wSOjSLTKCQY2n7SAcJ++mWLAmil3y6tKSH+AStnb6B7w==;EndpointSuffix=core.windows.net","data_factory_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df","data_factory_name":"pdhprod-df","description":"","file_share":"@{linkedService().sharename}","host":null,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df/linkedservices/SFTPShare","integration_runtime_name":"VnetIR","key_vault_password":[],"name":"SFTPShare","parameters":{"sharename":""},"password":null,"resource_group_name":"prime-data-hub-prod","timeouts":{"create":null,"delete":null,"read":null,"update":null},"user_id":null},"sensitive_values":{"additional_properties":{},"annotations":[],"connection_string":true,"key_vault_password":[],"parameters":{},"timeouts":{}},"depends_on":["module.data_factory.azurerm_data_factory.primary","module.data_factory.azurerm_data_factory_integration_runtime_azure.vnet","module.key_vault.data.azurerm_key_vault.application","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query"]},{"address":"module.data_factory.azurerm_data_factory_managed_private_endpoint.sftp_archive","mode":"managed","type":"azurerm_data_factory_managed_private_endpoint","name":"sftp_archive","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"data_factory_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df","fqdns":["pdhprodstorageaccount.blob.core.windows.net"],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df/managedVirtualNetworks/default/managedPrivateEndpoints/StorageAccountPrivate","name":"StorageAccountPrivate","subresource_name":"blob","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount","timeouts":{"create":null,"delete":null,"read":null}},"sensitive_values":{"fqdns":[false],"timeouts":{}},"depends_on":["module.data_factory.azurerm_data_factory.primary","module.key_vault.data.azurerm_key_vault.application","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account"]},{"address":"module.data_factory.azurerm_data_factory_managed_private_endpoint.sftp_share","mode":"managed","type":"azurerm_data_factory_managed_private_endpoint","name":"sftp_share","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"data_factory_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df","fqdns":["pdhprodsftp.file.core.windows.net"],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df/managedVirtualNetworks/default/managedPrivateEndpoints/SFTPShare","name":"SFTPShare","subresource_name":"file","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodsftp","timeouts":{"create":null,"delete":null,"read":null}},"sensitive_values":{"fqdns":[false],"timeouts":{}},"depends_on":["module.data_factory.azurerm_data_factory.primary","module.key_vault.data.azurerm_key_vault.application","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query"]},{"address":"module.data_factory.azurerm_data_factory_pipeline.sftp_share_to_archive","mode":"managed","type":"azurerm_data_factory_pipeline","name":"sftp_share_to_archive","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"activities_json":"[{\"dependsOn\":[],\"name\":\"Set Share Names\",\"type\":\"SetVariable\",\"typeProperties\":{\"variableName\":\"SFTPShareNames\",\"value\":[\"pdhprod-sftp01-share-aegis\",\"pdhprod-sftp01-share-mayo\",\"pdhprod-sftp01-share-quest\",\"pdhprod-sftp01-share-sonic\"]},\"userProperties\":[]},{\"dependsOn\":[{\"activity\":\"Set Share Names\",\"dependencyConditions\":[\"Succeeded\"]}],\"name\":\"ForEach Share\",\"type\":\"ForEach\",\"typeProperties\":{\"items\":{\"type\":\"Expression\",\"value\":\"@variables('SFTPShareNames')\"},\"activities\":[{\"dependsOn\":[],\"inputs\":[{\"parameters\":{\"sharename\":{\"type\":\"Expression\",\"value\":\"@item()\"}},\"referenceName\":\"SFTPShare\",\"type\":\"DatasetReference\"}],\"name\":\"Move sftp share to archive\",\"outputs\":[{\"parameters\":{\"sharename\":{\"type\":\"Expression\",\"value\":\"@item()\"}},\"referenceName\":\"SFTPArchive\",\"type\":\"DatasetReference\"}],\"policy\":{\"retry\":0,\"retryIntervalInSeconds\":300,\"secureInput\":false,\"secureOutput\":false,\"timeout\":\"0.03:00:00\"},\"type\":\"Copy\",\"typeProperties\":{\"source\":{\"formatSettings\":{\"compressionProperties\":null,\"type\":\"BinaryReadSettings\"},\"storeSettings\":{\"deleteFilesAfterCompletion\":true,\"recursive\":true,\"type\":\"AzureFileStorageReadSettings\"},\"type\":\"BinarySource\"},\"sink\":{\"storeSettings\":{\"copyBehavior\":\"PreserveHierarchy\",\"type\":\"AzureBlobStorageWriteSettings\"},\"type\":\"BinarySink\"},\"enableStaging\":false,\"logSettings\":{\"enableCopyActivityLog\":true,\"copyActivityLogSettings\":{\"logLevel\":\"Info\",\"enableReliableLogging\":false},\"logLocationSettings\":{\"linkedServiceName\":{\"referenceName\":\"SFTPArchive\",\"type\":\"LinkedServiceReference\"},\"path\":\"sftparchive-logs\"}},\"preserve\":[\"Attributes\"],\"validateDataConsistency\":true,\"skipErrorFile\":{\"dataInconsistency\":false}},\"userProperties\":[{\"name\":\"Source\",\"value\":\"/\"},{\"name\":\"Destination\",\"value\":\"sftparchive/@{item()}/\"}]}]},\"userProperties\":[]}]","annotations":[],"concurrency":1,"data_factory_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df","data_factory_name":"pdhprod-df","description":"","folder":"SFTP-share-to-archive","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df/pipelines/SFTP-share-to-archive","moniter_metrics_after_duration":"","name":"SFTP-share-to-archive","parameters":{},"resource_group_name":"prime-data-hub-prod","timeouts":{"create":null,"delete":null,"read":null,"update":null},"variables":{"SFTPShareNames":""}},"sensitive_values":{"annotations":[],"parameters":{},"timeouts":{},"variables":{}},"depends_on":["module.data_factory.azurerm_data_factory.primary","module.data_factory.azurerm_data_factory_dataset_binary.sftp_archive","module.data_factory.azurerm_data_factory_dataset_binary.sftp_share","module.data_factory.azurerm_data_factory_integration_runtime_azure.vnet","module.data_factory.azurerm_data_factory_linked_service_azure_blob_storage.sftp_archive","module.data_factory.azurerm_data_factory_linked_service_azure_file_storage.sftp_share","module.key_vault.data.azurerm_key_vault.application","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account"]},{"address":"module.data_factory.azurerm_data_factory_trigger_schedule.sftp_share_to_archive","mode":"managed","type":"azurerm_data_factory_trigger_schedule","name":"sftp_share_to_archive","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"activated":true,"annotations":[],"data_factory_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df","data_factory_name":"pdhprod-df","description":"","end_time":null,"frequency":"Hour","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df/triggers/SFTPtoArchive","interval":1,"name":"SFTPtoArchive","pipeline_name":"SFTP-share-to-archive","pipeline_parameters":{},"resource_group_name":"prime-data-hub-prod","schedule":[],"start_time":"2022-07-18T15:05:00Z","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"annotations":[],"pipeline_parameters":{},"schedule":[],"timeouts":{}},"depends_on":["module.data_factory.azurerm_data_factory.primary","module.data_factory.azurerm_data_factory_dataset_binary.sftp_archive","module.data_factory.azurerm_data_factory_dataset_binary.sftp_share","module.data_factory.azurerm_data_factory_integration_runtime_azure.vnet","module.data_factory.azurerm_data_factory_linked_service_azure_blob_storage.sftp_archive","module.data_factory.azurerm_data_factory_linked_service_azure_file_storage.sftp_share","module.data_factory.azurerm_data_factory_pipeline.sftp_share_to_archive","module.key_vault.data.azurerm_key_vault.application","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account"]}],"address":"module.data_factory"},{"resources":[{"address":"module.database.azurerm_postgresql_active_directory_administrator.postgres_aad_admin","mode":"managed","type":"azurerm_postgresql_active_directory_administrator","name":"postgres_aad_admin","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql/administrators/activeDirectory","login":"reportstream_pgsql_admin","object_id":"c4031f1f-229c-4a8a-b3b9-23bae9dbf197","resource_group_name":"prime-data-hub-prod","server_name":"pdhprod-pgsql","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"timeouts":{}},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.database.azurerm_postgresql_server.postgres_server","module.database.data.azurerm_client_config.current"]},{"address":"module.database.azurerm_postgresql_database.metabase_db[0]","mode":"managed","type":"azurerm_postgresql_database","name":"metabase_db","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"charset":"UTF8","collation":"English_United States.1252","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql/databases/metabase","name":"metabase","resource_group_name":"prime-data-hub-prod","server_name":"pdhprod-pgsql","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"timeouts":{}},"depends_on":["data.azurerm_key_vault_secret.postgres_user","module.database.azurerm_postgresql_server.postgres_server","data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass"]},{"address":"module.database.azurerm_postgresql_database.prime_data_hub_candidate_db","mode":"managed","type":"azurerm_postgresql_database","name":"prime_data_hub_candidate_db","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"charset":"UTF8","collation":"English_United States.1252","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql/databases/prime_data_hub_candidate","name":"prime_data_hub_candidate","resource_group_name":"prime-data-hub-prod","server_name":"pdhprod-pgsql","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"timeouts":{}},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.database.azurerm_postgresql_server.postgres_server"]},{"address":"module.database.azurerm_postgresql_database.prime_data_hub_db","mode":"managed","type":"azurerm_postgresql_database","name":"prime_data_hub_db","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"charset":"UTF8","collation":"English_United States.1252","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql/databases/prime_data_hub","name":"prime_data_hub","resource_group_name":"prime-data-hub-prod","server_name":"pdhprod-pgsql","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"timeouts":{}},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.database.azurerm_postgresql_server.postgres_server"]},{"address":"module.database.azurerm_postgresql_server.postgres_server","mode":"managed","type":"azurerm_postgresql_server","name":"postgres_server","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"administrator_login":"prime","administrator_login_password":null,"auto_grow_enabled":true,"backup_retention_days":7,"create_mode":"Default","creation_source_server_id":null,"fqdn":"pdhprod-pgsql.postgres.database.azure.com","geo_redundant_backup_enabled":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql","identity":[{"principal_id":"2e5ce118-6171-4874-a249-37ec0621ed76","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"infrastructure_encryption_enabled":false,"location":"eastus","name":"pdhprod-pgsql","public_network_access_enabled":false,"resource_group_name":"prime-data-hub-prod","restore_point_in_time":null,"sku_name":"GP_Gen5_16","ssl_enforcement":"Enabled","ssl_enforcement_enabled":true,"ssl_minimal_tls_version_enforced":"TLS1_2","storage_mb":342016,"storage_profile":[{"auto_grow":"Enabled","backup_retention_days":7,"geo_redundant_backup":"Disabled","storage_mb":342016}],"tags":{"environment":"prod"},"threat_detection_policy":[{"disabled_alerts":[],"email_account_admins":true,"email_addresses":[],"enabled":true,"retention_days":0,"storage_account_access_key":"","storage_endpoint":""}],"timeouts":{"create":null,"delete":null,"read":null,"update":null},"version":"11"},"sensitive_values":{"identity":[{}],"storage_profile":[{}],"tags":{},"threat_detection_policy":[{"disabled_alerts":[],"email_addresses":[]}],"timeouts":{}},"depends_on":["data.azurerm_key_vault_secret.postgres_user","data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass"]},{"address":"module.database.azurerm_postgresql_server.postgres_server_replica[0]","mode":"managed","type":"azurerm_postgresql_server","name":"postgres_server_replica","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"administrator_login":"prime","administrator_login_password":null,"auto_grow_enabled":true,"backup_retention_days":7,"create_mode":"Replica","creation_source_server_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql","fqdn":"pdhprod-pgsql-replica.postgres.database.azure.com","geo_redundant_backup_enabled":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql-replica","identity":[{"principal_id":"191cd5e9-207a-4ff2-8e04-cabb3cde9feb","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"infrastructure_encryption_enabled":false,"location":"westus","name":"pdhprod-pgsql-replica","public_network_access_enabled":false,"resource_group_name":"prime-data-hub-prod","restore_point_in_time":null,"sku_name":"GP_Gen5_16","ssl_enforcement":"Enabled","ssl_enforcement_enabled":true,"ssl_minimal_tls_version_enforced":"TLS1_2","storage_mb":342016,"storage_profile":[{"auto_grow":"Enabled","backup_retention_days":7,"geo_redundant_backup":"Disabled","storage_mb":342016}],"tags":{"environment":"prod"},"threat_detection_policy":[{"disabled_alerts":[],"email_account_admins":true,"email_addresses":[],"enabled":true,"retention_days":0,"storage_account_access_key":"","storage_endpoint":""}],"timeouts":{"create":null,"delete":null,"read":null,"update":null},"version":"11"},"sensitive_values":{"identity":[{}],"storage_profile":[{}],"tags":{},"threat_detection_policy":[{"disabled_alerts":[],"email_addresses":[]}],"timeouts":{}},"depends_on":["module.database.azurerm_postgresql_server.postgres_server","data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user"]},{"address":"module.database.data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"client_id":"04b07795-8ddb-461a-bbee-02f9e1bf7b46","id":"2022-09-12 18:05:38.8668973 +0000 UTC","object_id":"","subscription_id":"7d1e3999-6577-4cd5-b296-f518e5c8e677","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":null},"sensitive_values":{}}],"address":"module.database","child_modules":[{"resources":[{"address":"module.database.module.postgres_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_dns_a_record.endpoint_dns[\"pdhprod-East-vnet\"]","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","index":"pdhprod-East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"fqdn":"pdhprod-pgsql.privatelink.postgres.database.azure.com.","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.postgres.database.azure.com/A/pdhprod-pgsql","name":"pdhprod-pgsql","records":["172.17.7.71"],"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"ttl":60,"zone_name":"privatelink.postgres.database.azure.com"},"sensitive_values":{"records":[false],"tags":{},"timeouts":{}},"depends_on":["module.database.azurerm_postgresql_server.postgres_server","module.network.azurerm_private_dns_zone.zone","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_virtual_network.vnet","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.database.module.postgres_private_endpoint.azurerm_private_endpoint.endpoint","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.public_subnet","data.azurerm_key_vault.app_config","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet"]},{"address":"module.database.module.postgres_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprod-pgsql.postgres.database.azure.com","ip_addresses":["172.17.7.71"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprod-pgsql-postgres_server-cd4e8d644","location":"eastus","name":"pdhprod-pgsql-postgres_server-cd4e8d644","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprod-pgsql-postgres_server-cd4e8d644.nic.8ac6149a-d52b-4500-9600-4cc5d03ddb64","name":"pdhprod-pgsql-postgres_server-cd4e8d644.nic.8ac6149a-d52b-4500-9600-4cc5d03ddb64"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprod-pgsql-postgres_server-cd4e8d644","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql","private_ip_address":"172.17.7.71","request_message":"","subresource_names":["postgresqlServer"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["data.azurerm_key_vault_secret.postgres_user","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_virtual_network.vnet","data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.database.azurerm_postgresql_server.postgres_server","module.network.data.azurerm_subnet.container_subnet"]}],"address":"module.database.module.postgres_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.database.module.postgres_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprod-pgsql.postgres.database.azure.com","ip_addresses":["10.0.5.5"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprod-pgsql-postgres_server-7a6de6839","location":"eastus","name":"pdhprod-pgsql-postgres_server-7a6de6839","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprod-pgsql-postgres_server-7a6de6839.nic.be9f0d9c-70ae-4812-aecf-46ded8a91027","name":"pdhprod-pgsql-postgres_server-7a6de6839.nic.be9f0d9c-70ae-4812-aecf-46ded8a91027"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprod-pgsql-postgres_server-7a6de6839","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql","private_ip_address":"10.0.5.5","request_message":"","subresource_names":["postgresqlServer"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_virtual_network.vnet","module.database.azurerm_postgresql_server.postgres_server","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet"]}],"address":"module.database.module.postgres_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.database.module.postgres_private_endpoint_replica[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet/subnets/endpoint\"].azurerm_private_dns_a_record.endpoint_dns[\"pdhprod-West-vnet\"]","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","index":"pdhprod-West-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"fqdn":"pdhprod-pgsql-replica.privatelink.postgres.database.azure.com.","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.postgres.database.azure.com/A/pdhprod-pgsql-replica","name":"pdhprod-pgsql-replica","records":["172.17.7.196"],"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"ttl":60,"zone_name":"privatelink.postgres.database.azure.com"},"sensitive_values":{"records":[false],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet","data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","module.database.azurerm_postgresql_server.postgres_server","module.database.azurerm_postgresql_server.postgres_server_replica","module.network.data.azurerm_subnet.endpoint_subnet","data.azurerm_key_vault_secret.postgres_user","module.database.module.postgres_private_endpoint_replica.azurerm_private_endpoint.endpoint","module.network.data.azurerm_subnet.private_subnet","module.network.azurerm_private_dns_zone.zone","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet"]},{"address":"module.database.module.postgres_private_endpoint_replica[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprod-pgsql-replica.postgres.database.azure.com","ip_addresses":["172.17.7.196"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprod-pgsql-replica-postgres_server-7209bde08","location":"westus","name":"pdhprod-pgsql-replica-postgres_server-7209bde08","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprod-pgsql-replica-postgres_server-7209b.nic.bc096963-2836-47c6-9022-562e5c73df46","name":"pdhprod-pgsql-replica-postgres_server-7209b.nic.bc096963-2836-47c6-9022-562e5c73df46"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprod-pgsql-replica-postgres_server-7209bde08","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql-replica","private_ip_address":"172.17.7.196","request_message":"","subresource_names":["postgresqlServer"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","data.azurerm_key_vault_secret.postgres_user","module.database.azurerm_postgresql_server.postgres_server","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.west_vnet","module.database.azurerm_postgresql_server.postgres_server_replica","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_virtual_network.vnet","data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","module.network.data.azurerm_subnet.container_subnet"]}],"address":"module.database.module.postgres_private_endpoint_replica[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.database.module.postgres_private_endpoint_replica[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet-peer/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprod-pgsql-replica.postgres.database.azure.com","ip_addresses":["10.1.5.5"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprod-pgsql-replica-postgres_server-70b230a2d","location":"westus","name":"pdhprod-pgsql-replica-postgres_server-70b230a2d","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprod-pgsql-replica-postgres_server-70b23.nic.33d3b5d8-eff8-4ed5-8d7a-3ccc1c27e2a7","name":"pdhprod-pgsql-replica-postgres_server-70b23.nic.33d3b5d8-eff8-4ed5-8d7a-3ccc1c27e2a7"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprod-pgsql-replica-postgres_server-70b230a2d","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql-replica","private_ip_address":"10.1.5.5","request_message":"","subresource_names":["postgresqlServer"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet-peer/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.database.azurerm_postgresql_server.postgres_server_replica","module.network.data.azurerm_subnet.endpoint_subnet","data.azurerm_key_vault_secret.postgres_pass","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.private_subnet","module.database.azurerm_postgresql_server.postgres_server","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_user","module.network.data.azurerm_subnet.peer_vnet"]}],"address":"module.database.module.postgres_private_endpoint_replica[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet-peer/subnets/endpoint\"]"}]},{"resources":[{"address":"module.front_door.azurerm_frontdoor.front_door","mode":"managed","type":"azurerm_frontdoor","name":"front_door","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"backend_pool":[{"backend":[{"address":"pdhprod-functionapp.azurewebsites.net","enabled":true,"host_header":"pdhprod-functionapp.azurewebsites.net","http_port":80,"https_port":443,"priority":1,"weight":50}],"health_probe_name":"functionsHealthProbeSettings","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/backendPools/functions","load_balancing_name":"functionsLoadBalancingSettings","name":"functions"},{"backend":[{"address":"pdhprod-metabase.azurewebsites.net","enabled":true,"host_header":"pdhprod-metabase.azurewebsites.net","http_port":80,"https_port":443,"priority":1,"weight":50}],"health_probe_name":"metabaseHealthProbeSettings","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/backendPools/metabase","load_balancing_name":"metabaseLoadBalancingSettings","name":"metabase"},{"backend":[{"address":"pdhprodpublic.z13.web.core.windows.net","enabled":true,"host_header":"pdhprodpublic.z13.web.core.windows.net","http_port":80,"https_port":443,"priority":1,"weight":50}],"health_probe_name":"staticHealthProbeSettings","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/backendPools/static","load_balancing_name":"staticLoadBalancingSettings","name":"static"}],"backend_pool_health_probe":[{"enabled":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/healthProbeSettings/functionsHealthProbeSettings","interval_in_seconds":30,"name":"functionsHealthProbeSettings","path":"/","probe_method":"HEAD","protocol":"Https"},{"enabled":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/healthProbeSettings/metabaseHealthProbeSettings","interval_in_seconds":30,"name":"metabaseHealthProbeSettings","path":"/","probe_method":"HEAD","protocol":"Https"},{"enabled":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/healthProbeSettings/staticHealthProbeSettings","interval_in_seconds":30,"name":"staticHealthProbeSettings","path":"/","probe_method":"HEAD","protocol":"Https"}],"backend_pool_health_probes":{"functionsHealthProbeSettings":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/healthProbeSettings/functionsHealthProbeSettings","metabaseHealthProbeSettings":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/healthProbeSettings/metabaseHealthProbeSettings","staticHealthProbeSettings":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/healthProbeSettings/staticHealthProbeSettings"},"backend_pool_load_balancing":[{"additional_latency_milliseconds":0,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/loadBalancingSettings/functionsLoadBalancingSettings","name":"functionsLoadBalancingSettings","sample_size":4,"successful_samples_required":2},{"additional_latency_milliseconds":0,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/loadBalancingSettings/metabaseLoadBalancingSettings","name":"metabaseLoadBalancingSettings","sample_size":4,"successful_samples_required":2},{"additional_latency_milliseconds":0,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/loadBalancingSettings/staticLoadBalancingSettings","name":"staticLoadBalancingSettings","sample_size":4,"successful_samples_required":2}],"backend_pool_load_balancing_settings":{"functionsLoadBalancingSettings":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/loadBalancingSettings/functionsLoadBalancingSettings","metabaseLoadBalancingSettings":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/loadBalancingSettings/metabaseLoadBalancingSettings","staticLoadBalancingSettings":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/loadBalancingSettings/staticLoadBalancingSettings"},"backend_pools":{"functions":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/backendPools/functions","metabase":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/backendPools/metabase","static":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/backendPools/static"},"backend_pools_send_receive_timeout_seconds":90,"cname":"prime-data-hub-prod.azurefd.net","enforce_backend_pools_certificate_name_check":true,"explicit_resource_order":null,"friendly_name":"prime-data-hub-prod","frontend_endpoint":[{"host_name":"prime-data-hub-prod.azurefd.net","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/frontendEndpoints/DefaultFrontendEndpoint","name":"DefaultFrontendEndpoint","session_affinity_enabled":false,"session_affinity_ttl_seconds":0,"web_application_firewall_policy_link_id":""},{"host_name":"prime.cdc.gov","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/frontendEndpoints/prime-cdc-gov","name":"prime-cdc-gov","session_affinity_enabled":false,"session_affinity_ttl_seconds":0,"web_application_firewall_policy_link_id":""},{"host_name":"reportstream.cdc.gov","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/frontendEndpoints/reportstream-cdc-gov","name":"reportstream-cdc-gov","session_affinity_enabled":false,"session_affinity_ttl_seconds":0,"web_application_firewall_policy_link_id":""}],"frontend_endpoints":{"DefaultFrontendEndpoint":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/frontendEndpoints/DefaultFrontendEndpoint","prime-cdc-gov":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/frontendEndpoints/prime-cdc-gov","reportstream-cdc-gov":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/frontendEndpoints/reportstream-cdc-gov"},"header_frontdoor_id":"1fd63282-21ef-455f-8f51-3c92b1589b19","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod","load_balancer_enabled":true,"location":"global","name":"prime-data-hub-prod","resource_group_name":"prime-data-hub-prod","routing_rule":[{"accepted_protocols":["Https"],"enabled":true,"forwarding_configuration":[{"backend_pool_name":"functions","cache_duration":"","cache_enabled":false,"cache_query_parameter_strip_directive":"StripAll","cache_query_parameters":[],"cache_use_dynamic_compression":false,"custom_forwarding_path":"","forwarding_protocol":"HttpsOnly"}],"frontend_endpoints":["DefaultFrontendEndpoint","prime-cdc-gov"],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/api","name":"api","patterns_to_match":["/*","/api/*"],"redirect_configuration":[]},{"accepted_protocols":["Https"],"enabled":true,"forwarding_configuration":[],"frontend_endpoints":["DefaultFrontendEndpoint","prime-cdc-gov"],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/download","name":"download","patterns_to_match":["/","/download"],"redirect_configuration":[{"custom_fragment":"","custom_host":"reportstream.cdc.gov","custom_path":"/","custom_query_string":"","redirect_protocol":"MatchRequest","redirect_type":"TemporaryRedirect"}]},{"accepted_protocols":["Http"],"enabled":true,"forwarding_configuration":[],"frontend_endpoints":["DefaultFrontendEndpoint","prime-cdc-gov"],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/HttpToHttpsRedirect","name":"HttpToHttpsRedirect","patterns_to_match":["/","/*","/api/*","/download"],"redirect_configuration":[{"custom_fragment":"","custom_host":"","custom_path":"","custom_query_string":"","redirect_protocol":"HttpsOnly","redirect_type":"Moved"}]},{"accepted_protocols":["Https"],"enabled":true,"forwarding_configuration":[{"backend_pool_name":"metabase","cache_duration":"","cache_enabled":false,"cache_query_parameter_strip_directive":"StripAll","cache_query_parameters":[],"cache_use_dynamic_compression":false,"custom_forwarding_path":"/","forwarding_protocol":"HttpsOnly"}],"frontend_endpoints":["DefaultFrontendEndpoint","prime-cdc-gov"],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/metabase","name":"metabase","patterns_to_match":["/metabase","/metabase/*"],"redirect_configuration":[]},{"accepted_protocols":["Http"],"enabled":true,"forwarding_configuration":[],"frontend_endpoints":["DefaultFrontendEndpoint","prime-cdc-gov"],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/HttpToHttpsRedirectMetabase","name":"HttpToHttpsRedirectMetabase","patterns_to_match":["/metabase","/metabase/*"],"redirect_configuration":[{"custom_fragment":"","custom_host":"","custom_path":"","custom_query_string":"","redirect_protocol":"HttpsOnly","redirect_type":"Moved"}]},{"accepted_protocols":["Http"],"enabled":true,"forwarding_configuration":[],"frontend_endpoints":["reportstream-cdc-gov"],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/HttpToHttpsRedirectStatic","name":"HttpToHttpsRedirectStatic","patterns_to_match":["/","/*"],"redirect_configuration":[{"custom_fragment":"","custom_host":"","custom_path":"","custom_query_string":"","redirect_protocol":"HttpsOnly","redirect_type":"Moved"}]},{"accepted_protocols":["Https"],"enabled":true,"forwarding_configuration":[{"backend_pool_name":"static","cache_duration":"","cache_enabled":false,"cache_query_parameter_strip_directive":"StripAll","cache_query_parameters":[],"cache_use_dynamic_compression":false,"custom_forwarding_path":"","forwarding_protocol":"HttpsOnly"}],"frontend_endpoints":["reportstream-cdc-gov"],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/Static","name":"Static","patterns_to_match":["/","/*"],"redirect_configuration":[]}],"routing_rules":{"HttpToHttpsRedirect":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/HttpToHttpsRedirect","HttpToHttpsRedirectMetabase":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/HttpToHttpsRedirectMetabase","HttpToHttpsRedirectStatic":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/HttpToHttpsRedirectStatic","Static":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/Static","api":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/api","download":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/download","metabase":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/routingRules/metabase"},"tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"backend_pool":[{"backend":[{}]},{"backend":[{}]},{"backend":[{}]}],"backend_pool_health_probe":[{},{},{}],"backend_pool_health_probes":{},"backend_pool_load_balancing":[{},{},{}],"backend_pool_load_balancing_settings":{},"backend_pools":{},"frontend_endpoint":[{},{},{}],"frontend_endpoints":{},"routing_rule":[{"accepted_protocols":[false],"forwarding_configuration":[{"cache_query_parameters":[]}],"frontend_endpoints":[false,false],"patterns_to_match":[false,false],"redirect_configuration":[]},{"accepted_protocols":[false],"forwarding_configuration":[],"frontend_endpoints":[false,false],"patterns_to_match":[false,false],"redirect_configuration":[{}]},{"accepted_protocols":[false],"forwarding_configuration":[],"frontend_endpoints":[false,false],"patterns_to_match":[false,false,false,false],"redirect_configuration":[{}]},{"accepted_protocols":[false],"forwarding_configuration":[{"cache_query_parameters":[]}],"frontend_endpoints":[false,false],"patterns_to_match":[false,false],"redirect_configuration":[]},{"accepted_protocols":[false],"forwarding_configuration":[],"frontend_endpoints":[false,false],"patterns_to_match":[false,false],"redirect_configuration":[{}]},{"accepted_protocols":[false],"forwarding_configuration":[],"frontend_endpoints":[false],"patterns_to_match":[false,false],"redirect_configuration":[{}]},{"accepted_protocols":[false],"forwarding_configuration":[{"cache_query_parameters":[]}],"frontend_endpoints":[false],"patterns_to_match":[false,false],"redirect_configuration":[]}],"routing_rules":{},"tags":{},"timeouts":{}},"depends_on":["module.storage.azurerm_storage_account.storage_public"]},{"address":"module.front_door.azurerm_frontdoor_custom_https_configuration.frontend_custom_https[\"prime-cdc-gov\"]","mode":"managed","type":"azurerm_frontdoor_custom_https_configuration","name":"frontend_custom_https","index":"prime-cdc-gov","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"custom_https_configuration":[{"azure_key_vault_certificate_secret_name":"prime-cdc-gov","azure_key_vault_certificate_secret_version":"ba1e6ddf33ea4ad6aa51aeac8a3f9a98","azure_key_vault_certificate_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","certificate_source":"AzureKeyVault","minimum_tls_version":"1.2","provisioning_state":"Enabled","provisioning_substate":"CertificateDeployed"}],"custom_https_provisioning_enabled":true,"frontend_endpoint_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/frontendEndpoints/prime-cdc-gov","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/customHttpsConfiguration/prime-cdc-gov","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_https_configuration":[{}],"timeouts":{}},"depends_on":["module.front_door.azurerm_frontdoor.front_door","module.key_vault.data.azurerm_key_vault.application","module.storage.azurerm_storage_account.storage_public"]},{"address":"module.front_door.azurerm_frontdoor_custom_https_configuration.frontend_custom_https[\"reportstream-cdc-gov\"]","mode":"managed","type":"azurerm_frontdoor_custom_https_configuration","name":"frontend_custom_https","index":"reportstream-cdc-gov","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"custom_https_configuration":[{"azure_key_vault_certificate_secret_name":"reportstream-cdc-gov","azure_key_vault_certificate_secret_version":"7d3ce474f07b474fad085cd77a6877b1","azure_key_vault_certificate_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","certificate_source":"AzureKeyVault","minimum_tls_version":"1.2","provisioning_state":"Enabled","provisioning_substate":"CertificateDeployed"}],"custom_https_provisioning_enabled":true,"frontend_endpoint_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/frontendEndpoints/reportstream-cdc-gov","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/customHttpsConfiguration/reportstream-cdc-gov","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_https_configuration":[{}],"timeouts":{}},"depends_on":["module.front_door.azurerm_frontdoor.front_door","module.key_vault.data.azurerm_key_vault.application","module.storage.azurerm_storage_account.storage_public"]},{"address":"module.front_door.azurerm_frontdoor_custom_https_configuration.frontend_default_https","mode":"managed","type":"azurerm_frontdoor_custom_https_configuration","name":"frontend_default_https","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"custom_https_configuration":[],"custom_https_provisioning_enabled":false,"frontend_endpoint_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/frontendEndpoints/DefaultFrontendEndpoint","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/frontDoors/prime-data-hub-prod/customHttpsConfiguration/DefaultFrontendEndpoint","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_https_configuration":[],"timeouts":{}},"depends_on":["module.storage.azurerm_storage_account.storage_public","module.front_door.azurerm_frontdoor.front_door"]}],"address":"module.front_door"},{"resources":[{"address":"module.function_app.azurerm_app_service_slot_virtual_network_swift_connection.candidate_slot_vnet_integration","mode":"managed","type":"azurerm_app_service_slot_virtual_network_swift_connection","name":"candidate_slot_vnet_integration","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"app_service_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-functionapp","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-functionapp/slots/candidate/config/virtualNetwork","slot_name":"candidate","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"timeouts":{}},"depends_on":["module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress","data.azurerm_key_vault_secret.postgres_pass","module.app_service_plan.azurerm_app_service_plan.service_plan","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_virtual_network.vnet","module.storage.data.azurerm_key_vault.application","module.network.data.azurerm_subnet.west_vnet","module.storage.azurerm_storage_account.storage_partner","data.azurerm_key_vault_secret.postgres_user","module.container_registry.azurerm_container_registry.container_registry","module.function_app.azurerm_function_app.function_app","module.function_app.azurerm_function_app_slot.candidate","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.network.data.azurerm_subnet.gateway_subnet","module.storage.azurerm_storage_account.storage_account","data.azurerm_key_vault.app_config","module.application_insights.azurerm_application_insights.app_insights","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet"]},{"address":"module.function_app.azurerm_app_service_virtual_network_swift_connection.admin_function_app_vnet_integration","mode":"managed","type":"azurerm_app_service_virtual_network_swift_connection","name":"admin_function_app_vnet_integration","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"app_service_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-admin-functionapp","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-admin-functionapp/config/virtualNetwork","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public","timeouts":null},"sensitive_values":{},"depends_on":["module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.app_service_plan.azurerm_app_service_plan.service_plan","module.function_app.azurerm_function_app.admin","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account","module.key_vault.data.azurerm_key_vault.app_config","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet"]},{"address":"module.function_app.azurerm_app_service_virtual_network_swift_connection.function_app_vnet_integration","mode":"managed","type":"azurerm_app_service_virtual_network_swift_connection","name":"function_app_vnet_integration","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"app_service_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-functionapp","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-functionapp/config/virtualNetwork","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.public_subnet","module.storage.data.azurerm_key_vault.application","data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_user","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_virtual_network.vnet","module.container_registry.azurerm_container_registry.container_registry","module.network.data.azurerm_subnet.container_subnet","module.function_app.azurerm_function_app.function_app","module.network.data.azurerm_subnet.vnet","data.azurerm_key_vault_secret.postgres_pass","module.app_service_plan.azurerm_app_service_plan.service_plan","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.west_vnet","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.application_insights.azurerm_application_insights.app_insights","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.function_app.azurerm_function_app.admin","mode":"managed","type":"azurerm_function_app","name":"admin","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"app_service_plan_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan","app_settings":{"FUNCTIONS_WORKER_RUNTIME":"python","POSTGRES_HOST":"pdhprod-pgsql.postgres.database.azure.com","POSTGRES_PASSWORD":"@Microsoft.KeyVault(SecretUri=https://pdhprod-appconfig.vault.azure.net/secrets/functionapp-postgres-pass)","POSTGRES_USER":"@Microsoft.KeyVault(SecretUri=https://pdhprod-appconfig.vault.azure.net/secrets/functionapp-postgres-user)","SCM_DO_BUILD_DURING_DEPLOYMENT":"true","WEBSITE_CONTENTOVERVNET":"1","WEBSITE_DNS_SERVER":"172.17.0.135","WEBSITE_HTTPLOGGING_RETENTION_DAYS":"3","WEBSITE_VNET_ROUTE_ALL":"1"},"auth_settings":[{"active_directory":[],"additional_login_params":{},"allowed_external_redirect_urls":[],"default_provider":"","enabled":false,"facebook":[],"google":[],"issuer":"","microsoft":[],"runtime_version":"","token_refresh_extension_hours":0,"token_store_enabled":false,"twitter":[],"unauthenticated_client_action":""}],"client_affinity_enabled":false,"client_cert_mode":"","connection_string":[],"custom_domain_verification_id":"91927C72FF2A82C9CF5DE913738B0E9D1D3DA5F301D84CA4A9C15E76BE85168F","daily_memory_time_quota":0,"default_hostname":"pdhprod-admin-functionapp.azurewebsites.net","enable_builtin_logging":false,"enabled":true,"https_only":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-admin-functionapp","identity":[{"identity_ids":[],"principal_id":"7bb113b7-ed43-4ecf-bb2d-0a1b9fe714ef","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"key_vault_reference_identity_id":"SystemAssigned","kind":"functionapp,linux","location":"eastus","name":"pdhprod-admin-functionapp","os_type":"linux","outbound_ip_addresses":"20.185.10.41,20.185.15.124,52.142.20.123,52.142.22.161,52.142.23.118,52.147.210.205,20.49.104.17","possible_outbound_ip_addresses":"52.188.40.144,52.188.42.24,52.188.46.173,52.188.47.47,52.188.47.123,52.188.47.194,20.185.10.41,20.185.15.124,52.142.20.123,52.142.22.161,52.142.23.118,52.147.210.205,52.147.211.152,52.147.214.21,52.149.201.179,52.149.205.26,52.150.48.83,52.150.51.164,20.84.18.66,20.84.19.141,20.84.19.240,20.84.19.245,20.84.20.175,20.84.20.181,20.49.104.17","resource_group_name":"prime-data-hub-prod","site_config":[{"always_on":true,"app_scale_limit":0,"auto_swap_slot_name":"","cors":[{"allowed_origins":[],"support_credentials":false}],"dotnet_framework_version":"v4.0","elastic_instance_minimum":0,"ftps_state":"Disabled","health_check_path":"","http2_enabled":false,"ip_restriction":[{"action":"Allow","headers":[],"ip_address":"","name":"AllowVNetTraffic","priority":100,"service_tag":"","virtual_network_subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public"},{"action":"Allow","headers":[],"ip_address":"","name":"AllowVNetEastTraffic","priority":100,"service_tag":"","virtual_network_subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public"},{"action":"Allow","headers":[],"ip_address":"","name":"AllowFrontDoorTraffic","priority":110,"service_tag":"AzureFrontDoor.Backend","virtual_network_subnet_id":""},{"action":"Allow","headers":[],"ip_address":"24.163.118.70/32","name":"admin01","priority":200,"service_tag":"","virtual_network_subnet_id":""}],"java_version":"","linux_fx_version":"PYTHON|3.9","min_tls_version":"1.2","pre_warmed_instance_count":0,"runtime_scale_monitoring_enabled":false,"scm_ip_restriction":[],"scm_type":"None","scm_use_main_ip_restriction":false,"use_32_bit_worker_process":false,"vnet_route_all_enabled":true,"websockets_enabled":false}],"site_credential":[{"password":"9g11YbHqXuH4iphXjlTo3qvM3Bot0elwtteYds5nuuJs5CrylQ1g4sjcxuyo","username":"$pdhprod-admin-functionapp"}],"source_control":[{"branch":"master","manual_integration":false,"repo_url":"","rollback_enabled":false,"use_mercurial":false}],"storage_account_access_key":"f/DHVl973PpCVbefY5mdfuUxUZQsb7y/Zmz7AZo5INS6rCH5lG3wpqYKV2u3LyFV8mNgoUtVulh631dE1+M7HQ==","storage_account_name":"pdhprodstorageaccount","storage_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodstorageaccount;AccountKey=f/DHVl973PpCVbefY5mdfuUxUZQsb7y/Zmz7AZo5INS6rCH5lG3wpqYKV2u3LyFV8mNgoUtVulh631dE1+M7HQ==;EndpointSuffix=core.windows.net","tags":{"environment":"prod","managed-by":"terraform"},"timeouts":null,"version":"~4"},"sensitive_values":{"app_settings":{},"auth_settings":[{"active_directory":[],"additional_login_params":{},"allowed_external_redirect_urls":[],"facebook":[],"google":[],"microsoft":[],"twitter":[]}],"connection_string":[],"identity":[{"identity_ids":[]}],"site_config":[{"cors":[{"allowed_origins":[]}],"ip_restriction":[{"headers":[]},{"headers":[]},{"headers":[]},{"headers":[]}],"scm_ip_restriction":[]}],"site_credential":[{}],"source_control":[{}],"storage_account_access_key":true,"tags":{}},"depends_on":["module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.private_subnet","module.storage.azurerm_storage_account.storage_account","module.app_service_plan.azurerm_app_service_plan.service_plan","module.key_vault.data.azurerm_key_vault.app_config","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet"]},{"address":"module.function_app.azurerm_function_app.function_app","mode":"managed","type":"azurerm_function_app","name":"function_app","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"app_service_plan_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan","app_settings":{"APPINSIGHTS_INSTRUMENTATIONKEY":"d7cb4216-275e-4510-97f2-5b1e4ca440f5","APPINSIGHTS_PROFILERFEATURE_VERSION":"1.0.0","APPINSIGHTS_SNAPSHOTFEATURE_VERSION":"1.0.0","APPLICATIONINSIGHTS_CONFIGURATION_CONTENT":"","APPLICATIONINSIGHTS_CONNECTION_STRING":"InstrumentationKey=d7cb4216-275e-4510-97f2-5b1e4ca440f5;IngestionEndpoint=https://eastus-3.in.applicationinsights.azure.com/","ApplicationInsightsAgent_EXTENSION_VERSION":"~3","AzureWebJobs.emailScheduleEngine.Disabled":"0","AzureWebJobs.send.Disabled":"0","CREDENTIAL_KEY_VAULT_NAME":"pdhprod-clientconfig","CREDENTIAL_STORAGE_METHOD":"AZURE","DOCKER_REGISTRY_SERVER_PASSWORD":"52Iw/CvwOdl4oB8QDx0dRqtNsJ39hUqB","DOCKER_REGISTRY_SERVER_URL":"pdhprodcontainerregistry.azurecr.io","DOCKER_REGISTRY_SERVER_USERNAME":"pdhprodcontainerregistry","DiagnosticServices_EXTENSION_VERSION":"~3","FEATURE_FLAG_SETTINGS_ENABLED":"true","InstrumentationEngine_EXTENSION_VERSION":"disabled","OKTA_baseUrl":"hhs-prime.okta.com","OKTA_redirect":"https://prime.cdc.gov/download","POSTGRES_PASSWORD":"V1XBhkcdKgcYyU1EZDF29YiB","POSTGRES_URL":"jdbc:postgresql://pdhprod-pgsql.postgres.database.azure.com:5432/prime_data_hub?sslmode=require","POSTGRES_USER":"prime@pdhprod-pgsql","PRIME_ENVIRONMENT":"prod","PartnerStorage":"DefaultEndpointsProtocol=https;AccountName=pdhprodpartner;AccountKey=E3wQYAGlQOv4wL3Dj5yp1Oi2BADsDLPZ19N7f6GDCJ+0pJBzAt+GUpFn3kAlD/nQfabJiR/jcGBXEPevM8qF1Q==;EndpointSuffix=core.windows.net","REMOTE_CONNECTION_CHECK_SCHEDULE":"15 */2 * * *","SECRET_KEY_VAULT_NAME":"pdhprod-appconfig","SECRET_STORAGE_METHOD":"AZURE","SnapshotDebugger_EXTENSION_VERSION":"disabled","WEBSITES_ENABLE_APP_SERVICE_STORAGE":"false","WEBSITE_CONTENTOVERVNET":"1","WEBSITE_DNS_SERVER":"172.17.0.135","WEBSITE_VNET_ROUTE_ALL":"1","XDT_MicrosoftApplicationInsights_BaseExtensions":"disabled","XDT_MicrosoftApplicationInsights_Mode":"recommended","XDT_MicrosoftApplicationInsights_PreemptSdk":"disabled"},"auth_settings":[{"active_directory":[],"additional_login_params":{},"allowed_external_redirect_urls":[],"default_provider":"","enabled":false,"facebook":[],"google":[],"issuer":"","microsoft":[],"runtime_version":"","token_refresh_extension_hours":0,"token_store_enabled":false,"twitter":[],"unauthenticated_client_action":""}],"client_affinity_enabled":false,"client_cert_mode":"","connection_string":[],"custom_domain_verification_id":"91927C72FF2A82C9CF5DE913738B0E9D1D3DA5F301D84CA4A9C15E76BE85168F","daily_memory_time_quota":0,"default_hostname":"pdhprod-functionapp.azurewebsites.net","enable_builtin_logging":false,"enabled":true,"https_only":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-functionapp","identity":[{"identity_ids":[],"principal_id":"11b0c874-7ee0-4aec-8276-7dd16f11e7d4","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"key_vault_reference_identity_id":"SystemAssigned","kind":"functionapp,linux,container","location":"eastus","name":"pdhprod-functionapp","os_type":"linux","outbound_ip_addresses":"20.185.10.41,20.185.15.124,52.142.20.123,52.142.22.161,52.142.23.118,52.147.210.205,20.49.104.17","possible_outbound_ip_addresses":"52.188.40.144,52.188.42.24,52.188.46.173,52.188.47.47,52.188.47.123,52.188.47.194,20.185.10.41,20.185.15.124,52.142.20.123,52.142.22.161,52.142.23.118,52.147.210.205,52.147.211.152,52.147.214.21,52.149.201.179,52.149.205.26,52.150.48.83,52.150.51.164,20.84.18.66,20.84.19.141,20.84.19.240,20.84.19.245,20.84.20.175,20.84.20.181,20.49.104.17","resource_group_name":"prime-data-hub-prod","site_config":[{"always_on":true,"app_scale_limit":0,"auto_swap_slot_name":"","cors":[{"allowed_origins":["https://hhs-prime.okta.com","https://prime.cdc.gov","https://reportstream.cdc.gov"],"support_credentials":false}],"dotnet_framework_version":"v4.0","elastic_instance_minimum":0,"ftps_state":"Disabled","health_check_path":"","http2_enabled":true,"ip_restriction":[{"action":"Allow","headers":[],"ip_address":"","name":"AllowVNetTraffic","priority":100,"service_tag":"","virtual_network_subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public"},{"action":"Allow","headers":[],"ip_address":"","name":"AllowVNetEastTraffic","priority":100,"service_tag":"","virtual_network_subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public"},{"action":"Allow","headers":[],"ip_address":"","name":"AllowFrontDoorTraffic","priority":110,"service_tag":"AzureFrontDoor.Backend","virtual_network_subnet_id":""}],"java_version":"","linux_fx_version":"DOCKER|pdhprodcontainerregistry.azurecr.io/pdhprod:a5a046767150e874319f9f5ae5dc0c5236e849e2","min_tls_version":"1.2","pre_warmed_instance_count":0,"runtime_scale_monitoring_enabled":false,"scm_ip_restriction":[],"scm_type":"None","scm_use_main_ip_restriction":true,"use_32_bit_worker_process":false,"vnet_route_all_enabled":false,"websockets_enabled":false}],"site_credential":[{"password":"iTbS0Z68G0CsmwvPhLoDRTkDmgsBug7lerKjTlJ7DYX8g45wwg5iQfBTvtCR","username":"$pdhprod-functionapp"}],"source_control":[{"branch":"master","manual_integration":false,"repo_url":"","rollback_enabled":false,"use_mercurial":false}],"storage_account_access_key":"f/DHVl973PpCVbefY5mdfuUxUZQsb7y/Zmz7AZo5INS6rCH5lG3wpqYKV2u3LyFV8mNgoUtVulh631dE1+M7HQ==","storage_account_name":"pdhprodstorageaccount","storage_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodstorageaccount;AccountKey=f/DHVl973PpCVbefY5mdfuUxUZQsb7y/Zmz7AZo5INS6rCH5lG3wpqYKV2u3LyFV8mNgoUtVulh631dE1+M7HQ==;EndpointSuffix=core.windows.net","tags":{"environment":"prod","hidden-link: /app-insights-instrumentation-key":"d7cb4216-275e-4510-97f2-5b1e4ca440f5","hidden-link: /app-insights-resource-id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights"},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"version":"~4"},"sensitive_values":{"app_settings":{},"auth_settings":[{"active_directory":[],"additional_login_params":{},"allowed_external_redirect_urls":[],"facebook":[],"google":[],"microsoft":[],"twitter":[]}],"connection_string":[],"identity":[{"identity_ids":[]}],"site_config":[{"cors":[{"allowed_origins":[false,false,false]}],"ip_restriction":[{"headers":[]},{"headers":[]},{"headers":[]}],"scm_ip_restriction":[]}],"site_credential":[{}],"source_control":[{}],"tags":{},"timeouts":{}},"depends_on":["data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.postgres_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner"]},{"address":"module.function_app.azurerm_function_app_slot.candidate","mode":"managed","type":"azurerm_function_app_slot","name":"candidate","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"app_service_plan_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan","app_settings":{"APPINSIGHTS_INSTRUMENTATIONKEY":"d7cb4216-275e-4510-97f2-5b1e4ca440f5","APPINSIGHTS_PROFILERFEATURE_VERSION":"1.0.0","APPINSIGHTS_SNAPSHOTFEATURE_VERSION":"1.0.0","APPLICATIONINSIGHTS_CONFIGURATION_CONTENT":"","APPLICATIONINSIGHTS_CONNECTION_STRING":"InstrumentationKey=d7cb4216-275e-4510-97f2-5b1e4ca440f5;IngestionEndpoint=https://eastus-3.in.applicationinsights.azure.com/","ApplicationInsightsAgent_EXTENSION_VERSION":"~3","AzureWebJobs.emailScheduleEngine.Disabled":"1","CREDENTIAL_KEY_VAULT_NAME":"pdhprod-clientconfig","CREDENTIAL_STORAGE_METHOD":"AZURE","DOCKER_REGISTRY_SERVER_PASSWORD":"52Iw/CvwOdl4oB8QDx0dRqtNsJ39hUqB","DOCKER_REGISTRY_SERVER_URL":"pdhprodcontainerregistry.azurecr.io","DOCKER_REGISTRY_SERVER_USERNAME":"pdhprodcontainerregistry","DiagnosticServices_EXTENSION_VERSION":"~3","FEATURE_FLAG_SETTINGS_ENABLED":"true","InstrumentationEngine_EXTENSION_VERSION":"disabled","OKTA_baseUrl":"hhs-prime.okta.com","OKTA_redirect":"https://prime.cdc.gov/download","POSTGRES_PASSWORD":"V1XBhkcdKgcYyU1EZDF29YiB","POSTGRES_URL":"jdbc:postgresql://pdhprod-pgsql.postgres.database.azure.com:5432/prime_data_hub_candidate?sslmode=require","POSTGRES_USER":"prime@pdhprod-pgsql","PRIME_ENVIRONMENT":"prod","PartnerStorage":"DefaultEndpointsProtocol=https;AccountName=pdhprodcandpartner;AccountKey=l9LVMHO7Dxote0wIFS4gsvKvGfqy2LdEhmYny3k4EmiMKEMXx46I+yPDHCI6dUSd0B218DaRjilqYO2k5FFZSA==;EndpointSuffix=core.windows.net","REMOTE_CONNECTION_CHECK_SCHEDULE":"15 */2 * * *","SECRET_KEY_VAULT_NAME":"pdhprod-appconfig","SECRET_STORAGE_METHOD":"AZURE","SnapshotDebugger_EXTENSION_VERSION":"disabled","WEBSITES_ENABLE_APP_SERVICE_STORAGE":"false","WEBSITE_CONTENTOVERVNET":"1","WEBSITE_DNS_SERVER":"172.17.0.135","WEBSITE_VNET_ROUTE_ALL":"1","XDT_MicrosoftApplicationInsights_BaseExtensions":"disabled","XDT_MicrosoftApplicationInsights_Mode":"recommended","XDT_MicrosoftApplicationInsights_PreemptSdk":"disabled"},"auth_settings":[{"active_directory":[],"additional_login_params":{},"allowed_external_redirect_urls":[],"default_provider":"","enabled":false,"facebook":[],"google":[],"issuer":"","microsoft":[],"runtime_version":"","token_refresh_extension_hours":0,"token_store_enabled":false,"twitter":[],"unauthenticated_client_action":""}],"client_affinity_enabled":false,"connection_string":[],"daily_memory_time_quota":0,"default_hostname":"pdhprod-functionapp-candidate.azurewebsites.net","enable_builtin_logging":false,"enabled":true,"function_app_name":"pdhprod-functionapp","https_only":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-functionapp/slots/candidate","identity":[{"identity_ids":[],"principal_id":"d9f24617-687f-492a-b66a-d6c10826c214","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"kind":"functionapp,linux,container","location":"eastus","name":"candidate","os_type":"linux","outbound_ip_addresses":"20.185.10.41,20.185.15.124,52.142.20.123,52.142.22.161,52.142.23.118,52.147.210.205,20.49.104.17","possible_outbound_ip_addresses":"52.188.40.144,52.188.42.24,52.188.46.173,52.188.47.47,52.188.47.123,52.188.47.194,20.185.10.41,20.185.15.124,52.142.20.123,52.142.22.161,52.142.23.118,52.147.210.205,52.147.211.152,52.147.214.21,52.149.201.179,52.149.205.26,52.150.48.83,52.150.51.164,20.84.18.66,20.84.19.141,20.84.19.240,20.84.19.245,20.84.20.175,20.84.20.181,20.49.104.17","resource_group_name":"prime-data-hub-prod","site_config":[{"always_on":true,"app_scale_limit":0,"auto_swap_slot_name":"","cors":[{"allowed_origins":["https://pdhprodpublic.z13.web.core.windows.net","https://prime.cdc.gov","https://prod.prime.cdc.gov","https://prod.reportstream.cdc.gov","https://reportstream.cdc.gov"],"support_credentials":false}],"dotnet_framework_version":"v4.0","elastic_instance_minimum":0,"ftps_state":"Disabled","health_check_path":"","http2_enabled":true,"ip_restriction":[{"action":"Allow","headers":[],"ip_address":"","name":"AllowVNetTraffic","priority":100,"service_tag":"","virtual_network_subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public"},{"action":"Allow","headers":[],"ip_address":"","name":"AllowVNetEastTraffic","priority":100,"service_tag":"","virtual_network_subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public"},{"action":"Allow","headers":[],"ip_address":"","name":"AllowFrontDoorTraffic","priority":110,"service_tag":"AzureFrontDoor.Backend","virtual_network_subnet_id":""}],"java_version":"","linux_fx_version":"DOCKER|pdhprodcontainerregistry.azurecr.io/pdhprod:c6dd0456941a3c60b5f455e870930fe6f5df44c6","min_tls_version":"1.2","pre_warmed_instance_count":0,"runtime_scale_monitoring_enabled":false,"scm_ip_restriction":[],"scm_type":"None","scm_use_main_ip_restriction":true,"use_32_bit_worker_process":false,"vnet_route_all_enabled":false,"websockets_enabled":false}],"site_credential":[{"password":"YG7ZC4mCZFHKyc3S6lgp3Ftbnhlwic9HkxQGZCkEfDS9Pm6D8eNeoKreKoS0","username":"$pdhprod-functionapp__candidate"}],"storage_account_access_key":"cRGqrkKhci0+8S0ihDRXqwC/5BUSMt6oyzdYmVfokJDYT7JiN1NK6Ivrl8Xrww5ZbKbRzUP1V+AM3gdjwhKVYw==","storage_account_name":"pdhprodcandidate","tags":{"environment":"prod","hidden-link: /app-insights-instrumentation-key":"d7cb4216-275e-4510-97f2-5b1e4ca440f5","hidden-link: /app-insights-resource-id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/components/pdhprod-appinsights"},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"version":"~3"},"sensitive_values":{"app_settings":{},"auth_settings":[{"active_directory":[],"additional_login_params":{},"allowed_external_redirect_urls":[],"facebook":[],"google":[],"microsoft":[],"twitter":[]}],"connection_string":[],"identity":[{"identity_ids":[]}],"site_config":[{"cors":[{"allowed_origins":[false,false,false,false,false]}],"ip_restriction":[{"headers":[]},{"headers":[]},{"headers":[]}],"scm_ip_restriction":[]}],"site_credential":[{}],"tags":{},"timeouts":{}},"depends_on":["data.azurerm_key_vault_secret.postgres_pass","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.app_service_plan.azurerm_app_service_plan.service_plan","module.container_registry.azurerm_container_registry.container_registry","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.public_subnet","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress","data.azurerm_key_vault.app_config","module.application_insights.azurerm_application_insights.app_insights","module.function_app.azurerm_function_app.function_app","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.network.data.azurerm_subnet.gateway_subnet","module.storage.data.azurerm_key_vault.application","data.azurerm_key_vault_secret.postgres_user","module.network.data.azurerm_subnet.private_subnet","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress"]},{"address":"module.function_app.azurerm_key_vault_access_policy.functionapp_app_config_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"functionapp_app_config_access_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig/objectId/11b0c874-7ee0-4aec-8276-7dd16f11e7d4","key_permissions":[],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","object_id":"11b0c874-7ee0-4aec-8276-7dd16f11e7d4","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[],"timeouts":{}},"depends_on":["module.application_insights.azurerm_application_insights.app_insights","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet","module.storage.azurerm_storage_account.storage_partner","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","data.azurerm_key_vault_secret.postgres_pass","module.container_registry.azurerm_container_registry.container_registry","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.network.data.azurerm_subnet.private_subnet","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.data.azurerm_key_vault.application","data.azurerm_key_vault.app_config","module.app_service_plan.azurerm_app_service_plan.service_plan","module.function_app.azurerm_function_app.function_app","module.network.data.azurerm_subnet.endpoint_subnet","module.storage.azurerm_storage_account.storage_account","data.azurerm_key_vault_secret.postgres_user","module.key_vault.data.azurerm_key_vault.app_config","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet"]},{"address":"module.function_app.azurerm_key_vault_access_policy.functionapp_client_config_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"functionapp_client_config_access_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-clientconfig/objectId/11b0c874-7ee0-4aec-8276-7dd16f11e7d4","key_permissions":[],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-clientconfig","object_id":"11b0c874-7ee0-4aec-8276-7dd16f11e7d4","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[],"timeouts":{}},"depends_on":["module.storage.azurerm_storage_account.storage_partner","data.azurerm_key_vault_secret.postgres_user","module.container_registry.azurerm_container_registry.container_registry","module.key_vault.data.azurerm_client_config.current","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.app_service_plan.azurerm_app_service_plan.service_plan","module.key_vault.azurerm_key_vault.client_config","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.network.data.azurerm_subnet.container_subnet","module.storage.azurerm_storage_account.storage_account","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_virtual_network.vnet","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress","data.azurerm_key_vault_secret.postgres_pass","module.application_insights.azurerm_application_insights.app_insights","module.function_app.azurerm_function_app.function_app","module.network.data.azurerm_subnet.gateway_subnet","data.azurerm_key_vault.app_config","module.storage.data.azurerm_key_vault.application"]},{"address":"module.function_app.azurerm_key_vault_access_policy.slot_candidate_app_config_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"slot_candidate_app_config_access_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig/objectId/d9f24617-687f-492a-b66a-d6c10826c214","key_permissions":[],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","object_id":"d9f24617-687f-492a-b66a-d6c10826c214","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[],"timeouts":{}},"depends_on":["data.azurerm_key_vault_secret.postgres_pass","module.function_app.azurerm_function_app.function_app","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.storage.azurerm_storage_account.storage_account","data.azurerm_key_vault_secret.postgres_user","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.function_app.azurerm_function_app_slot.candidate","module.key_vault.data.azurerm_key_vault.app_config","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress","data.azurerm_key_vault.app_config","module.app_service_plan.azurerm_app_service_plan.service_plan","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_virtual_network.vnet","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.network.data.azurerm_subnet.public_subnet","module.storage.azurerm_storage_account.storage_partner","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress"]},{"address":"module.function_app.azurerm_key_vault_access_policy.slot_candidate_client_config_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"slot_candidate_client_config_access_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-clientconfig/objectId/d9f24617-687f-492a-b66a-d6c10826c214","key_permissions":[],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-clientconfig","object_id":"d9f24617-687f-492a-b66a-d6c10826c214","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[],"timeouts":{}},"depends_on":["module.container_registry.azurerm_container_registry.container_registry","module.function_app.azurerm_function_app.function_app","module.key_vault.data.azurerm_client_config.current","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress","data.azurerm_key_vault_secret.postgres_user","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_virtual_network.vnet","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","data.azurerm_key_vault_secret.postgres_pass","module.application_insights.azurerm_application_insights.app_insights","module.function_app.azurerm_function_app_slot.candidate","module.network.data.azurerm_subnet.container_subnet","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.data.azurerm_key_vault.application","data.azurerm_key_vault.app_config","module.app_service_plan.azurerm_app_service_plan.service_plan","module.key_vault.azurerm_key_vault.client_config","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.west_vnet"]},{"address":"module.function_app.azurerm_monitor_autoscale_setting.app_autoscale[0]","mode":"managed","type":"azurerm_monitor_autoscale_setting","name":"app_autoscale","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"enabled":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/autoscaleSettings/pdhprod-appautoscale","location":"eastus","name":"pdhprod-appautoscale","notification":[{"email":[{"custom_emails":[],"send_to_subscription_administrator":false,"send_to_subscription_co_administrator":false}],"webhook":[{"properties":{},"service_uri":"https://events.pagerduty.com/integration/1ec12968738b4a05c007eb56395a5d7e/enqueue"}]}],"profile":[{"capacity":[{"default":6,"maximum":20,"minimum":6}],"fixed_date":[],"name":"ScaleOnHighLoad","recurrence":[],"rule":[{"metric_trigger":[{"dimensions":[],"divide_by_instance_count":false,"metric_name":"CpuPercentage","metric_namespace":"","metric_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan","operator":"GreaterThan","statistic":"Average","threshold":70,"time_aggregation":"Average","time_grain":"PT1M","time_window":"PT5M"}],"scale_action":[{"cooldown":"PT1M","direction":"Increase","type":"ChangeCount","value":1}]},{"metric_trigger":[{"dimensions":[],"divide_by_instance_count":false,"metric_name":"CpuPercentage","metric_namespace":"","metric_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan","operator":"LessThan","statistic":"Average","threshold":25,"time_aggregation":"Average","time_grain":"PT1M","time_window":"PT5M"}],"scale_action":[{"cooldown":"PT5M","direction":"Decrease","type":"ChangeCount","value":1}]},{"metric_trigger":[{"dimensions":[],"divide_by_instance_count":false,"metric_name":"MemoryPercentage","metric_namespace":"","metric_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan","operator":"GreaterThan","statistic":"Average","threshold":85,"time_aggregation":"Average","time_grain":"PT1M","time_window":"PT5M"}],"scale_action":[{"cooldown":"PT5M","direction":"Increase","type":"ChangeCount","value":1}]},{"metric_trigger":[{"dimensions":[],"divide_by_instance_count":false,"metric_name":"MemoryPercentage","metric_namespace":"","metric_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan","operator":"LessThan","statistic":"Average","threshold":50,"time_aggregation":"Average","time_grain":"PT1M","time_window":"PT5M"}],"scale_action":[{"cooldown":"PT5M","direction":"Decrease","type":"ChangeCount","value":1}]}]}],"resource_group_name":"prime-data-hub-prod","tags":{},"target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"notification":[{"email":[{"custom_emails":[]}],"webhook":[{"properties":{}}]}],"profile":[{"capacity":[{}],"fixed_date":[],"recurrence":[],"rule":[{"metric_trigger":[{"dimensions":[]}],"scale_action":[{}]},{"metric_trigger":[{"dimensions":[]}],"scale_action":[{}]},{"metric_trigger":[{"dimensions":[]}],"scale_action":[{}]},{"metric_trigger":[{"dimensions":[]}],"scale_action":[{}]}]}],"tags":{},"timeouts":{}},"depends_on":["data.azurerm_key_vault.tf-secrets","data.azurerm_key_vault_secret.pagerduty_url","module.app_service_plan.azurerm_app_service_plan.service_plan"]},{"address":"module.function_app.azurerm_resource_group_template_deployment.functionapp_sticky_settings","mode":"managed","type":"azurerm_resource_group_template_deployment","name":"functionapp_sticky_settings","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"debug_level":"","deployment_mode":"Incremental","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Resources/deployments/functionapp_sticky_settings","name":"functionapp_sticky_settings","output_content":"{}","parameters_content":"{\"stickyAppSettingNames\":{\"value\":\"AzureWebJobsStorage,POSTGRES_URL,PartnerStorage\"},\"webAppName\":{\"value\":\"pdhprod-functionapp\"}}","resource_group_name":"prime-data-hub-prod","tags":{},"template_content":"{\"$schema\":\"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\"contentVersion\":\"1.0.0.0\",\"parameters\":{\"stickyAppSettingNames\":{\"type\":\"String\"},\"webAppName\":{\"type\":\"String\"}},\"resources\":[{\"apiVersion\":\"2015-08-01\",\"name\":\"[concat(parameters('webAppName'), '/slotconfignames')]\",\"properties\":{\"appSettingNames\":\"[variables('appSettingNames')]\"},\"type\":\"Microsoft.Web/sites/config\"}],\"variables\":{\"appSettingNames\":\"[split(parameters('stickyAppSettingNames'),',')]\"}}","template_spec_version_id":"","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.storage.azurerm_storage_account.storage_account","data.azurerm_key_vault.app_config","module.container_registry.azurerm_container_registry.container_registry","module.function_app.azurerm_function_app_slot.candidate","module.storage.azurerm_storage_account.storage_partner","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.public_subnet","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress","module.application_insights.azurerm_application_insights.app_insights","module.function_app.azurerm_function_app.function_app","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan"]},{"address":"module.function_app.data.archive_file.admin_function_app","mode":"data","type":"archive_file","name":"admin_function_app","provider_name":"registry.terraform.io/hashicorp/archive","schema_version":0,"values":{"excludes":[".gitignore",".venv",".vscode","README.md","getting_started.md","local.settings.json"],"id":"988b157bd8ab63cf9c6c12a1d1c64e5024883901","output_base64sha256":"oNxo0sbOnuIcL0p1CmQTBchoe7qZVSdmCU7+QVwOaZM=","output_file_mode":null,"output_md5":"02576c0b239e5dc46200b0c7883c4f61","output_path":"function-app-admin.zip","output_sha":"988b157bd8ab63cf9c6c12a1d1c64e5024883901","output_size":14695,"source":[],"source_content":null,"source_content_filename":null,"source_dir":"../../../functions/admin","source_file":null,"type":"zip"},"sensitive_values":{"excludes":[false,false,false,false,false,false],"source":[]}},{"address":"module.function_app.null_resource.admin_function_app_publish","mode":"managed","type":"null_resource","name":"admin_function_app_publish","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"id":"8162388113861418216","triggers":{"input_json":"02576c0b239e5dc46200b0c7883c4f61","publish_code_command":"      az functionapp deployment source config-zip --resource-group prime-data-hub-prod \\\n      --name pdhprod-admin-functionapp --src function-app-admin.zip \\\n      --build-remote false --timeout 600\n"}},"sensitive_values":{"triggers":{}},"depends_on":["module.app_service_plan.azurerm_app_service_plan.service_plan","module.function_app.azurerm_function_app.admin","module.function_app.data.archive_file.admin_function_app","module.function_app.time_sleep.wait_admin_function_app","module.storage.azurerm_storage_account.storage_account"]},{"address":"module.function_app.time_sleep.wait_admin_function_app","mode":"managed","type":"time_sleep","name":"wait_admin_function_app","provider_name":"registry.terraform.io/hashicorp/time","schema_version":0,"values":{"create_duration":"2m","destroy_duration":null,"id":"2022-05-23T19:44:26Z","triggers":{"function_app":"7bb113b7-ed43-4ecf-bb2d-0a1b9fe714ef"}},"sensitive_values":{"triggers":{}},"depends_on":["module.app_service_plan.azurerm_app_service_plan.service_plan","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.function_app.azurerm_function_app.admin","module.key_vault.data.azurerm_key_vault.app_config","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account"]}],"address":"module.function_app"},{"resources":[{"address":"module.key_vault.azurerm_key_vault.client_config","mode":"managed","type":"azurerm_key_vault","name":"client_config","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"access_policy":[{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"11b0c874-7ee0-4aec-8276-7dd16f11e7d4","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"d9f24617-687f-492a-b66a-d6c10826c214","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"5c6a951e-a4c2-4890-b62c-0ed8179501bb","secret_permissions":["Get","List","Set","Delete","Recover","Backup","Restore"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":["List","Get"],"key_permissions":[],"object_id":"5c5c157c-b30d-4d55-a59d-75d82367d516","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"}],"contact":[],"enable_rbac_authorization":false,"enabled_for_deployment":true,"enabled_for_disk_encryption":true,"enabled_for_template_deployment":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-clientconfig","location":"eastus","name":"pdhprod-clientconfig","network_acls":[{"bypass":"AzureServices","default_action":"Deny","ip_rules":["108.48.23.191/32","158.111.123.0/25","158.111.21.0/24","24.163.118.70/32","45.37.194.58/32","75.191.122.59/32"],"virtual_network_subnet_ids":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-east-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-east-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-east-vnet/subnets/public","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public"]}],"purge_protection_enabled":true,"resource_group_name":"prime-data-hub-prod","sku_name":"premium","soft_delete_enabled":true,"soft_delete_retention_days":90,"tags":{"environment":"prod"},"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null},"vault_uri":"https://pdhprod-clientconfig.vault.azure.net/"},"sensitive_values":{"access_policy":[{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false,false,false,false,false,false,false],"storage_permissions":[]},{"certificate_permissions":[false,false],"key_permissions":[],"secret_permissions":[],"storage_permissions":[]}],"contact":[],"network_acls":[{"ip_rules":[false,false,false,false,false,false],"virtual_network_subnet_ids":[false,false,false,false,false,false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet","module.key_vault.data.azurerm_client_config.current","module.network.data.azurerm_subnet.container_subnet"]},{"address":"module.key_vault.azurerm_key_vault_access_policy.admin_functionapp_app_config","mode":"managed","type":"azurerm_key_vault_access_policy","name":"admin_functionapp_app_config","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig/objectId/7bb113b7-ed43-4ecf-bb2d-0a1b9fe714ef","key_permissions":[],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","object_id":"7bb113b7-ed43-4ecf-bb2d-0a1b9fe714ef","secret_permissions":["Get","List"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":null},"sensitive_values":{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false,false],"storage_permissions":[]},"depends_on":["module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.function_app.azurerm_function_app.admin","module.key_vault.data.azurerm_key_vault.app_config","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet","module.storage.azurerm_storage_account.storage_account","module.app_service_plan.azurerm_app_service_plan.service_plan","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet"]},{"address":"module.key_vault.azurerm_key_vault_access_policy.admin_functionapp_application","mode":"managed","type":"azurerm_key_vault_access_policy","name":"admin_functionapp_application","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault/objectId/7bb113b7-ed43-4ecf-bb2d-0a1b9fe714ef","key_permissions":[],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","object_id":"7bb113b7-ed43-4ecf-bb2d-0a1b9fe714ef","secret_permissions":["List"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":null},"sensitive_values":{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},"depends_on":["module.function_app.azurerm_function_app.admin","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.private_subnet","module.app_service_plan.azurerm_app_service_plan.service_plan","module.key_vault.data.azurerm_key_vault.application","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.storage.azurerm_storage_account.storage_account","module.key_vault.data.azurerm_key_vault.app_config","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet"]},{"address":"module.key_vault.azurerm_key_vault_access_policy.dev_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"dev_access_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore","ManageContacts","ManageIssuers","GetIssuers","ListIssuers","SetIssuers","DeleteIssuers"],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault/objectId/5c6a951e-a4c2-4890-b62c-0ed8179501bb","key_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore"],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","object_id":"5c6a951e-a4c2-4890-b62c-0ed8179501bb","secret_permissions":["Get","List","Set","Delete","Recover","Backup","Restore"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"certificate_permissions":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"key_permissions":[false,false,false,false,false,false,false,false,false],"secret_permissions":[false,false,false,false,false,false,false],"storage_permissions":[],"timeouts":{}},"depends_on":["module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.application"]},{"address":"module.key_vault.azurerm_key_vault_access_policy.dev_app_config_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"dev_app_config_access_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig/objectId/5c6a951e-a4c2-4890-b62c-0ed8179501bb","key_permissions":[],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","object_id":"5c6a951e-a4c2-4890-b62c-0ed8179501bb","secret_permissions":["Get","List","Set","Delete","Recover","Backup","Restore"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false,false,false,false,false,false,false],"storage_permissions":[],"timeouts":{}},"depends_on":["module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config"]},{"address":"module.key_vault.azurerm_key_vault_access_policy.dev_client_config_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"dev_client_config_access_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-clientconfig/objectId/5c6a951e-a4c2-4890-b62c-0ed8179501bb","key_permissions":[],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-clientconfig","object_id":"5c6a951e-a4c2-4890-b62c-0ed8179501bb","secret_permissions":["Get","List","Set","Delete","Recover","Backup","Restore"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false,false,false,false,false,false,false],"storage_permissions":[],"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.key_vault.azurerm_key_vault_access_policy.terraform_access_policy[0]","mode":"managed","type":"azurerm_key_vault_access_policy","name":"terraform_access_policy","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault/objectId/4d81288c-27a3-4df8-b776-c9da8e688bc7","key_permissions":["Get"],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","object_id":"4d81288c-27a3-4df8-b776-c9da8e688bc7","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"certificate_permissions":[],"key_permissions":[false],"secret_permissions":[false],"storage_permissions":[],"timeouts":{}},"depends_on":["module.key_vault.data.azurerm_key_vault.application","module.key_vault.data.azurerm_client_config.current"]},{"address":"module.key_vault.azurerm_key_vault_access_policy.terraform_app_config_access_policy[0]","mode":"managed","type":"azurerm_key_vault_access_policy","name":"terraform_app_config_access_policy","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig/objectId/4d81288c-27a3-4df8-b776-c9da8e688bc7","key_permissions":[],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","object_id":"4d81288c-27a3-4df8-b776-c9da8e688bc7","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[],"timeouts":{}},"depends_on":["module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_client_config.current"]},{"address":"module.key_vault.data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"client_id":"04b07795-8ddb-461a-bbee-02f9e1bf7b46","id":"2022-09-12 18:05:40.0962246 +0000 UTC","object_id":"","subscription_id":"7d1e3999-6577-4cd5-b296-f518e5c8e677","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":null},"sensitive_values":{}},{"address":"module.key_vault.data.azurerm_key_vault.app_config","mode":"data","type":"azurerm_key_vault","name":"app_config","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"access_policy":[{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"11b0c874-7ee0-4aec-8276-7dd16f11e7d4","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"4d81288c-27a3-4df8-b776-c9da8e688bc7","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"d9f24617-687f-492a-b66a-d6c10826c214","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"5c6a951e-a4c2-4890-b62c-0ed8179501bb","secret_permissions":["Get","List","Set","Delete","Recover","Backup","Restore"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"7bb113b7-ed43-4ecf-bb2d-0a1b9fe714ef","secret_permissions":["Get","List"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":["List","Get"],"key_permissions":[],"object_id":"5c5c157c-b30d-4d55-a59d-75d82367d516","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"}],"enable_rbac_authorization":false,"enabled_for_deployment":true,"enabled_for_disk_encryption":true,"enabled_for_template_deployment":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","location":"eastus","name":"pdhprod-appconfig","network_acls":[{"bypass":"AzureServices","default_action":"Deny","ip_rules":["100.6.165.133/32","108.48.23.191/32","158.111.123.0/25","158.111.21.0/24","24.163.118.70/32","45.37.194.58/32","75.191.122.59/32"],"virtual_network_subnet_ids":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/public","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/public"]}],"purge_protection_enabled":true,"resource_group_name":"prime-data-hub-prod","sku_name":"premium","soft_delete_enabled":true,"tags":{"environment":"prod"},"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":null,"vault_uri":"https://pdhprod-appconfig.vault.azure.net/"},"sensitive_values":{"access_policy":[{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false,false,false,false,false,false,false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false,false],"storage_permissions":[]},{"certificate_permissions":[false,false],"key_permissions":[],"secret_permissions":[],"storage_permissions":[]}],"network_acls":[{"ip_rules":[false,false,false,false,false,false,false],"virtual_network_subnet_ids":[false,false,false,false,false,false]}],"tags":{}}},{"address":"module.key_vault.data.azurerm_key_vault.application","mode":"data","type":"azurerm_key_vault","name":"application","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"access_policy":[{"application_id":"","certificate_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore","ManageContacts","ManageIssuers","GetIssuers","ListIssuers","SetIssuers","DeleteIssuers"],"key_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore","GetRotationPolicy","SetRotationPolicy","Rotate"],"object_id":"d5c7630a-e2c1-4901-8d29-43ec93159611","secret_permissions":["Get","List","Set","Delete","Recover","Backup","Restore"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":["Get"],"key_permissions":[],"object_id":"270e4d1a-12bd-4564-8a4b-c9de1bbdbe95","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"191cd5e9-207a-4ff2-8e04-cabb3cde9feb","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"ee41164d-ee3a-441d-ab5c-66d38aeec5ea","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"2e5ce118-6171-4874-a249-37ec0621ed76","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"aeb452e8-8896-42b4-900a-5e8697bc6b42","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get"],"object_id":"4d81288c-27a3-4df8-b776-c9da8e688bc7","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"0d457d84-45ac-41a6-b01e-c575c09a0bd4","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"d8180f03-ad15-46dc-9595-4fa0fdce9544","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore","ManageContacts","ManageIssuers","GetIssuers","ListIssuers","SetIssuers","DeleteIssuers"],"key_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore"],"object_id":"5c6a951e-a4c2-4890-b62c-0ed8179501bb","secret_permissions":["Get","List","Set","Delete","Recover","Backup","Restore"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"7bb113b7-ed43-4ecf-bb2d-0a1b9fe714ef","secret_permissions":["List"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":["List","Get"],"key_permissions":[],"object_id":"5c5c157c-b30d-4d55-a59d-75d82367d516","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"}],"enable_rbac_authorization":false,"enabled_for_deployment":true,"enabled_for_disk_encryption":true,"enabled_for_template_deployment":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","location":"eastus","name":"pdhprod-keyvault","network_acls":[{"bypass":"AzureServices","default_action":"Deny","ip_rules":["100.6.165.133/32","108.48.23.191/32","24.163.118.70/32","45.37.194.58/32","75.191.122.59/32"],"virtual_network_subnet_ids":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/public","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/public"]}],"purge_protection_enabled":true,"resource_group_name":"prime-data-hub-prod","sku_name":"premium","soft_delete_enabled":true,"tags":{"environment":"prod"},"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":null,"vault_uri":"https://pdhprod-keyvault.vault.azure.net/"},"sensitive_values":{"access_policy":[{"certificate_permissions":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"key_permissions":[false,false,false,false,false,false,false,false,false,false,false,false],"secret_permissions":[false,false,false,false,false,false,false],"storage_permissions":[]},{"certificate_permissions":[false],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"key_permissions":[false,false,false,false,false,false,false,false,false],"secret_permissions":[false,false,false,false,false,false,false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[false,false],"key_permissions":[],"secret_permissions":[],"storage_permissions":[]}],"network_acls":[{"ip_rules":[false,false,false,false,false],"virtual_network_subnet_ids":[false,false,false,false,false,false]}],"tags":{}}}],"address":"module.key_vault","child_modules":[{"resources":[{"address":"module.key_vault.module.app_config_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprod-appconfig.vaultcore.azure.net","ip_addresses":["172.17.7.70"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprod-appconfig-key_vault-cd4e8d644","location":"eastus","name":"pdhprod-appconfig-key_vault-cd4e8d644","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprod-appconfig-key_vault-cd4e8d644.nic.292fde40-2cde-43fd-8252-64bd4d929305","name":"pdhprod-appconfig-key_vault-cd4e8d644.nic.292fde40-2cde-43fd-8252-64bd4d929305"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprod-appconfig-key_vault-cd4e8d644","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","private_ip_address":"172.17.7.70","request_message":"","subresource_names":["Vault"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.key_vault.data.azurerm_key_vault.app_config","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_virtual_network.vnet"]}],"address":"module.key_vault.module.app_config_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.key_vault.module.app_config_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_dns_a_record.endpoint_dns[\"pdhprod-vnet\"]","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","index":"pdhprod-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"fqdn":"pdhprod-appconfig.privatelink.vaultcore.azure.net.","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net/A/pdhprod-appconfig","name":"pdhprod-appconfig","records":["10.0.5.7"],"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"ttl":60,"zone_name":"privatelink.vaultcore.azure.net"},"sensitive_values":{"records":[false],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.module.app_config_private_endpoint.azurerm_private_endpoint.endpoint","module.network.azurerm_private_dns_zone.zone","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.key_vault.module.app_config_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprod-appconfig.vaultcore.azure.net","ip_addresses":["10.0.5.7"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprod-appconfig-key_vault-7a6de6839","location":"eastus","name":"pdhprod-appconfig-key_vault-7a6de6839","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprod-appconfig-key_vault-7a6de6839.nic.1560d740-12de-41c2-93be-16196f3ee314","name":"pdhprod-appconfig-key_vault-7a6de6839.nic.1560d740-12de-41c2-93be-16196f3ee314"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprod-appconfig-key_vault-7a6de6839","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","private_ip_address":"10.0.5.7","request_message":"","subresource_names":["Vault"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.key_vault.data.azurerm_key_vault.app_config","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.endpoint_subnet"]}],"address":"module.key_vault.module.app_config_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.key_vault.module.application_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprod-keyvault.vaultcore.azure.net","ip_addresses":["172.17.7.68"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprod-keyvault-key_vault-cd4e8d644","location":"eastus","name":"pdhprod-keyvault-key_vault-cd4e8d644","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprod-keyvault-key_vault-cd4e8d644.nic.466ff684-f2d3-4895-be84-019aed989b0d","name":"pdhprod-keyvault-key_vault-cd4e8d644.nic.466ff684-f2d3-4895-be84-019aed989b0d"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprod-keyvault-key_vault-cd4e8d644","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","private_ip_address":"172.17.7.68","request_message":"","subresource_names":["Vault"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.key_vault.data.azurerm_key_vault.application","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet"]}],"address":"module.key_vault.module.application_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.key_vault.module.application_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_dns_a_record.endpoint_dns[\"pdhprod-vnet\"]","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","index":"pdhprod-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"fqdn":"pdhprod-keyvault.privatelink.vaultcore.azure.net.","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net/A/pdhprod-keyvault","name":"pdhprod-keyvault","records":["10.0.5.4"],"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"ttl":60,"zone_name":"privatelink.vaultcore.azure.net"},"sensitive_values":{"records":[false],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_virtual_network.vnet","module.key_vault.data.azurerm_key_vault.application","module.key_vault.module.application_private_endpoint.azurerm_private_endpoint.endpoint","module.network.azurerm_private_dns_zone.zone","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet"]},{"address":"module.key_vault.module.application_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprod-keyvault.vaultcore.azure.net","ip_addresses":["10.0.5.4"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprod-keyvault-key_vault-7a6de6839","location":"eastus","name":"pdhprod-keyvault-key_vault-7a6de6839","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprod-keyvault-key_vault-7a6de6839.nic.aeab6e37-1995-4f0c-a9d7-df085ef3522a","name":"pdhprod-keyvault-key_vault-7a6de6839.nic.aeab6e37-1995-4f0c-a9d7-df085ef3522a"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprod-keyvault-key_vault-7a6de6839","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","private_ip_address":"10.0.5.4","request_message":"","subresource_names":["Vault"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.key_vault.data.azurerm_key_vault.application","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet"]}],"address":"module.key_vault.module.application_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.key_vault.module.client_config_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprod-clientconfig.vaultcore.azure.net","ip_addresses":["172.17.7.69"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprod-clientconfig-key_vault-cd4e8d644","location":"eastus","name":"pdhprod-clientconfig-key_vault-cd4e8d644","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprod-clientconfig-key_vault-cd4e8d644.nic.a69dfe8b-e9fc-492e-ad87-1690f56f209d","name":"pdhprod-clientconfig-key_vault-cd4e8d644.nic.a69dfe8b-e9fc-492e-ad87-1690f56f209d"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprod-clientconfig-key_vault-cd4e8d644","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-clientconfig","private_ip_address":"172.17.7.69","request_message":"","subresource_names":["Vault"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.vnet","module.key_vault.data.azurerm_client_config.current","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.key_vault.azurerm_key_vault.client_config","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.private_subnet"]}],"address":"module.key_vault.module.client_config_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.key_vault.module.client_config_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_dns_a_record.endpoint_dns[\"pdhprod-vnet\"]","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","index":"pdhprod-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"fqdn":"pdhprod-clientconfig.privatelink.vaultcore.azure.net.","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net/A/pdhprod-clientconfig","name":"pdhprod-clientconfig","records":["10.0.5.6"],"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"ttl":60,"zone_name":"privatelink.vaultcore.azure.net"},"sensitive_values":{"records":[false],"tags":{},"timeouts":{}},"depends_on":["module.key_vault.module.client_config_private_endpoint.azurerm_private_endpoint.endpoint","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.network.azurerm_private_dns_zone.zone","module.network.data.azurerm_subnet.container_subnet"]},{"address":"module.key_vault.module.client_config_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprod-clientconfig.vaultcore.azure.net","ip_addresses":["10.0.5.6"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprod-clientconfig-key_vault-7a6de6839","location":"eastus","name":"pdhprod-clientconfig-key_vault-7a6de6839","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprod-clientconfig-key_vault-7a6de6839.nic.d9458947-e8df-4c2b-8d1e-854d367279bc","name":"pdhprod-clientconfig-key_vault-7a6de6839.nic.d9458947-e8df-4c2b-8d1e-854d367279bc"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprod-clientconfig-key_vault-7a6de6839","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-clientconfig","private_ip_address":"10.0.5.6","request_message":"","subresource_names":["Vault"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.key_vault.data.azurerm_client_config.current","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_virtual_network.vnet","module.key_vault.azurerm_key_vault.client_config","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet"]}],"address":"module.key_vault.module.client_config_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"]"}]},{"resources":[{"address":"module.log_analytics_workspace.azurerm_log_analytics_workspace.law","mode":"managed","type":"azurerm_log_analytics_workspace","name":"law","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"daily_quota_gb":-1,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","internet_ingestion_enabled":true,"internet_query_enabled":true,"location":"eastus","name":"pdhprod-law","portal_url":"","primary_shared_key":"FkehvFlLMF43Yz7lSuJJ8EUYKF6kvs/WIBqARzntLJJns3MmorbX/yfj8qS35Fgh8oAFnbMfySHkCBAmGlGpPg==","reservation_capacity_in_gb_per_day":null,"reservation_capcity_in_gb_per_day":null,"resource_group_name":"prime-data-hub-prod","retention_in_days":30,"secondary_shared_key":"vakI9oouiVijCWrJaWce7PtsgKfhnMAK6GpGqnXXzhvtcaRoALarejU+FgJnoCnHTP9MvQQs3Xt1/c4r5ZexXA==","sku":"PerGB2018","tags":{"environment":"prod"},"timeouts":null,"workspace_id":"059ec6c1-498f-48d1-a59a-8df9bfdca183"},"sensitive_values":{"tags":{}}},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"app_config_key_vault\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"app_config_key_vault","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig|pdhprod-app_config_key_vault-diag","log":[{"category":"AuditEvent","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"AzurePolicyEvaluationDetails","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"AllMetrics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-app_config_key_vault-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","timeouts":null},"sensitive_values":{"log":[{"retention_policy":[{}]},{"retention_policy":[{}]}],"metric":[{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"application_key_vault\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"application_key_vault","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault|pdhprod-application_key_vault-diag","log":[{"category":"AuditEvent","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"AzurePolicyEvaluationDetails","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"AllMetrics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-application_key_vault-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","timeouts":null},"sensitive_values":{"log":[{"retention_policy":[{}]},{"retention_policy":[{}]}],"metric":[{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"client_config_key_vault\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"client_config_key_vault","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-clientconfig|pdhprod-client_config_key_vault-diag","log":[{"category":"AuditEvent","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"AzurePolicyEvaluationDetails","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"AllMetrics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-client_config_key_vault-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-clientconfig","timeouts":null},"sensitive_values":{"log":[{"retention_policy":[{}]},{"retention_policy":[{}]}],"metric":[{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"container_registry\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"container_registry","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.ContainerRegistry/registries/pdhprodcontainerregistry|pdhprod-container_registry-diag","log":[{"category":"ContainerRegistryLoginEvents","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"ContainerRegistryRepositoryEvents","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"AllMetrics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-container_registry-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.ContainerRegistry/registries/pdhprodcontainerregistry","timeouts":null},"sensitive_values":{"log":[{"retention_policy":[{}]},{"retention_policy":[{}]}],"metric":[{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"data_factory\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"data_factory","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df|pdhprod-data_factory-diag","log":[{"category":"ActivityRuns","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"PipelineRuns","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"SSISIntegrationRuntimeLogs","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"SSISPackageEventMessageContext","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"SSISPackageEventMessages","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"SSISPackageExecutableStatistics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"SSISPackageExecutionComponentPhases","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"SSISPackageExecutionDataStatistics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"SandboxActivityRuns","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"SandboxPipelineRuns","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"TriggerRuns","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"log_analytics_destination_type":"AzureDiagnostics","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"AllMetrics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-data_factory-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df","timeouts":null},"sensitive_values":{"log":[{"retention_policy":[{}]},{"retention_policy":[{}]},{"retention_policy":[{}]},{"retention_policy":[{}]},{"retention_policy":[{}]},{"retention_policy":[{}]},{"retention_policy":[{}]},{"retention_policy":[{}]},{"retention_policy":[{}]},{"retention_policy":[{}]},{"retention_policy":[{}]}],"metric":[{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"east_vnet\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"east_vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet|pdhprod-east_vnet-diag","log":[{"category":"VMProtectionAlerts","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"AllMetrics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-east_vnet-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet","timeouts":null},"sensitive_values":{"log":[{"retention_policy":[{}]}],"metric":[{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"function_app\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"function_app","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-functionapp|pdhprod-function_app-diag","log":[{"category":"FunctionAppLogs","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"AllMetrics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-function_app-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-functionapp","timeouts":null},"sensitive_values":{"log":[{"retention_policy":[{}]}],"metric":[{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"postgres_server\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"postgres_server","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql|pdhprod-postgres_server-diag","log":[{"category":"PostgreSQLLogs","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"QueryStoreRuntimeStatistics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"QueryStoreWaitStatistics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"AllMetrics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-postgres_server-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql","timeouts":null},"sensitive_values":{"log":[{"retention_policy":[{}]},{"retention_policy":[{}]},{"retention_policy":[{}]}],"metric":[{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"service_plan\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"service_plan","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan|pdhprod-service_plan-diag","log":[],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"AllMetrics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-service_plan-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan","timeouts":null},"sensitive_values":{"log":[],"metric":[{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"sftp_instance_01\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"sftp_instance_01","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.ContainerInstance/containerGroups/pdhprod-sftp01-continst|pdhprod-sftp_instance_01-diag","log":[],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"AllMetrics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-sftp_instance_01-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.ContainerInstance/containerGroups/pdhprod-sftp01-continst","timeouts":null},"sensitive_values":{"log":[],"metric":[{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"storage_account\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"storage_account","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount|pdhprod-storage_account-diag","log":[],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"Capacity","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"Transaction","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-storage_account-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount","timeouts":null},"sensitive_values":{"log":[],"metric":[{"retention_policy":[{}]},{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"storage_account_blob\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"storage_account_blob","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount/blobServices/default|pdhprod-storage_account_blob-diag","log":[{"category":"StorageDelete","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"StorageRead","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"StorageWrite","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"Capacity","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"Transaction","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-storage_account_blob-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount/blobServices/default","timeouts":null},"sensitive_values":{"log":[{"retention_policy":[{}]},{"retention_policy":[{}]},{"retention_policy":[{}]}],"metric":[{"retention_policy":[{}]},{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"storage_partner\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"storage_partner","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpartner|pdhprod-storage_partner-diag","log":[],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"Capacity","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"Transaction","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-storage_partner-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpartner","timeouts":null},"sensitive_values":{"log":[],"metric":[{"retention_policy":[{}]},{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"storage_public\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"storage_public","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpublic|pdhprod-storage_public-diag","log":[],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"Capacity","enabled":true,"retention_policy":[{"days":60,"enabled":true}]},{"category":"Transaction","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-storage_public-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpublic","timeouts":null},"sensitive_values":{"log":[],"metric":[{"retention_policy":[{}]},{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_diagnostic_setting.diagnostics[\"west_vnet\"]","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","index":"west_vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":"","eventhub_name":"","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet|pdhprod-west_vnet-diag","log":[{"category":"VMProtectionAlerts","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"log_analytics_destination_type":"","log_analytics_workspace_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","metric":[{"category":"AllMetrics","enabled":true,"retention_policy":[{"days":60,"enabled":true}]}],"name":"pdhprod-west_vnet-diag","storage_account_id":"","target_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet","timeouts":null},"sensitive_values":{"log":[{"retention_policy":[{}]}],"metric":[{"retention_policy":[{}]}]},"depends_on":["data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.application_insights.azurerm_application_insights.app_insights","module.container_registry.azurerm_container_registry.container_registry","module.data_factory.azurerm_data_factory.primary","module.database.azurerm_postgresql_server.postgres_server","module.function_app.azurerm_function_app.function_app","module.key_vault.azurerm_key_vault.client_config","module.key_vault.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.app_config","module.key_vault.data.azurerm_key_vault.application","module.log_analytics_workspace.azurerm_log_analytics_workspace.law","module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.sftp.azurerm_network_profile.sftp","module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_admin","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.data.azurerm_subnet.container_subnet","module.sftp.module.instance.azurerm_container_group.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query","module.storage.azurerm_storage_account.storage_account","module.storage.azurerm_storage_account.storage_partner","module.storage.azurerm_storage_account.storage_public","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.log_analytics_workspace.azurerm_monitor_scheduled_query_rules_alert.functionapp_fatal","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"functionapp_fatal","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"action":[{"action_group":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/microsoft.insights/actionGroups/pdhprod-actiongroup-businesshours"],"custom_webhook_payload":"","email_subject":""}],"authorized_resource_ids":[],"auto_mitigation_enabled":false,"data_source_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.OperationalInsights/workspaces/pdhprod-law","description":"Found FATAL-ALERT in FunctionApp logs","enabled":true,"frequency":15,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Insights/scheduledQueryRules/pdhprod-alertrule-functionapp-fatal","location":"eastus","name":"pdhprod-alertrule-functionapp-fatal","query":"// 2022-03-31: Exclude co-phd.elr-test -- this is a known error per Rick Hood\nFunctionAppLogs\n| where Message contains 'FATAL-ALERT' and not(Message contains 'co-phd.elr-test')\nand not(Message contains 'IGNORE--')\n","query_type":"ResultCount","resource_group_name":"prime-data-hub-prod","severity":2,"tags":{},"throttling":120,"time_window":30,"timeouts":null,"trigger":[{"metric_trigger":[],"operator":"GreaterThanOrEqual","threshold":1}]},"sensitive_values":{"action":[{"action_group":[false]}],"authorized_resource_ids":[],"tags":{},"trigger":[{"metric_trigger":[]}]},"depends_on":["module.application_insights.azurerm_monitor_action_group.action_group_businesshours","module.application_insights.azurerm_monitor_action_group.action_group_dummy","module.log_analytics_workspace.azurerm_log_analytics_workspace.law"]},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"app_config_key_vault\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"app_config_key_vault","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","logs":["AuditEvent","AzurePolicyEvaluationDetails"],"metrics":["AllMetrics"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-appconfig","timeouts":null},"sensitive_values":{"logs":[false,false],"metrics":[false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"application_key_vault\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"application_key_vault","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","logs":["AuditEvent","AzurePolicyEvaluationDetails"],"metrics":["AllMetrics"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","timeouts":null},"sensitive_values":{"logs":[false,false],"metrics":[false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"client_config_key_vault\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"client_config_key_vault","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-clientconfig","logs":["AuditEvent","AzurePolicyEvaluationDetails"],"metrics":["AllMetrics"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-clientconfig","timeouts":null},"sensitive_values":{"logs":[false,false],"metrics":[false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"container_registry\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"container_registry","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.ContainerRegistry/registries/pdhprodcontainerregistry","logs":["ContainerRegistryLoginEvents","ContainerRegistryRepositoryEvents"],"metrics":["AllMetrics"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.ContainerRegistry/registries/pdhprodcontainerregistry","timeouts":null},"sensitive_values":{"logs":[false,false],"metrics":[false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"data_factory\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"data_factory","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df","logs":["ActivityRuns","PipelineRuns","SSISIntegrationRuntimeLogs","SSISPackageEventMessageContext","SSISPackageEventMessages","SSISPackageExecutableStatistics","SSISPackageExecutionComponentPhases","SSISPackageExecutionDataStatistics","SandboxActivityRuns","SandboxPipelineRuns","TriggerRuns"],"metrics":["AllMetrics"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DataFactory/factories/pdhprod-df","timeouts":null},"sensitive_values":{"logs":[false,false,false,false,false,false,false,false,false,false,false],"metrics":[false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"east_vnet\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"east_vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet","logs":["VMProtectionAlerts"],"metrics":["AllMetrics"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet","timeouts":null},"sensitive_values":{"logs":[false],"metrics":[false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"function_app\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"function_app","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-functionapp","logs":["FunctionAppLogs"],"metrics":["AllMetrics"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-functionapp","timeouts":null},"sensitive_values":{"logs":[false],"metrics":[false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"postgres_server\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"postgres_server","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql","logs":["PostgreSQLLogs","QueryStoreRuntimeStatistics","QueryStoreWaitStatistics"],"metrics":["AllMetrics"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.DBforPostgreSQL/servers/pdhprod-pgsql","timeouts":null},"sensitive_values":{"logs":[false,false,false],"metrics":[false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"service_plan\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"service_plan","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan","logs":[],"metrics":["AllMetrics"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan","timeouts":null},"sensitive_values":{"logs":[],"metrics":[false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"sftp_instance_01\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"sftp_instance_01","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.ContainerInstance/containerGroups/pdhprod-sftp01-continst","logs":[],"metrics":["AllMetrics"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.ContainerInstance/containerGroups/pdhprod-sftp01-continst","timeouts":null},"sensitive_values":{"logs":[],"metrics":[false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"storage_account\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"storage_account","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount","logs":[],"metrics":["Capacity","Transaction"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount","timeouts":null},"sensitive_values":{"logs":[],"metrics":[false,false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"storage_account_blob\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"storage_account_blob","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount/blobServices/default","logs":["StorageDelete","StorageRead","StorageWrite"],"metrics":["Capacity","Transaction"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount/blobServices/default","timeouts":null},"sensitive_values":{"logs":[false,false,false],"metrics":[false,false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"storage_partner\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"storage_partner","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpartner","logs":[],"metrics":["Capacity","Transaction"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpartner","timeouts":null},"sensitive_values":{"logs":[],"metrics":[false,false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"storage_public\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"storage_public","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpublic","logs":[],"metrics":["Capacity","Transaction"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpublic","timeouts":null},"sensitive_values":{"logs":[],"metrics":[false,false]}},{"address":"module.log_analytics_workspace.data.azurerm_monitor_diagnostic_categories.diagnostics[\"west_vnet\"]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","index":"west_vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet","logs":["VMProtectionAlerts"],"metrics":["AllMetrics"],"resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet","timeouts":null},"sensitive_values":{"logs":[false],"metrics":[false]}}],"address":"module.log_analytics_workspace"},{"resources":[{"address":"module.metabase[0].azurerm_app_service.metabase","mode":"managed","type":"azurerm_app_service","name":"metabase","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"app_service_plan_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/serverfarms/pdhprod-serviceplan","app_settings":{"APPINSIGHTS_INSTRUMENTATIONKEY":"1c82c5dd-65d0-4c66-901b-76dbb23dc07c","APPINSIGHTS_PROFILERFEATURE_VERSION":"1.0.0","APPINSIGHTS_SNAPSHOTFEATURE_VERSION":"1.0.0","APPLICATIONINSIGHTS_CONFIGURATION_CONTENT":"","APPLICATIONINSIGHTS_CONNECTION_STRING":"InstrumentationKey=1c82c5dd-65d0-4c66-901b-76dbb23dc07c;IngestionEndpoint=https://eastus-2.in.applicationinsights.azure.com/","ApplicationInsightsAgent_EXTENSION_VERSION":"~3","DiagnosticServices_EXTENSION_VERSION":"~3","InstrumentationEngine_EXTENSION_VERSION":"disabled","MB_DB_CONNECTION_URI":"jdbc:postgresql://pdhprod-pgsql.postgres.database.azure.com:5432/metabase?user=prime%40pdhprod-pgsql\u0026password=V1XBhkcdKgcYyU1EZDF29YiB\u0026sslmode=require\u0026ssl=true\u0026sslfactory=org.postgresql.ssl.NonValidatingFactory","SnapshotDebugger_EXTENSION_VERSION":"disabled","WEBSITES_ENABLE_APP_SERVICE_STORAGE":"false","WEBSITE_DNS_SERVER":"168.63.129.16","WEBSITE_VNET_ROUTE_ALL":"1","XDT_MicrosoftApplicationInsights_BaseExtensions":"disabled","XDT_MicrosoftApplicationInsights_Mode":"recommended","XDT_MicrosoftApplicationInsights_PreemptSdk":"disabled"},"auth_settings":[{"active_directory":[],"additional_login_params":{},"allowed_external_redirect_urls":[],"default_provider":"","enabled":false,"facebook":[],"google":[],"issuer":"","microsoft":[],"runtime_version":"","token_refresh_extension_hours":0,"token_store_enabled":false,"twitter":[],"unauthenticated_client_action":""}],"backup":[],"client_affinity_enabled":false,"client_cert_enabled":false,"client_cert_mode":"Required","connection_string":[],"custom_domain_verification_id":"91927C72FF2A82C9CF5DE913738B0E9D1D3DA5F301D84CA4A9C15E76BE85168F","default_site_hostname":"pdhprod-metabase.azurewebsites.net","enabled":true,"https_only":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-metabase","identity":[{"identity_ids":[],"principal_id":"bc94cb4a-e1b4-4cbc-8350-8fa8bca5e8af","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"key_vault_reference_identity_id":"SystemAssigned","location":"eastus","logs":[{"application_logs":[{"azure_blob_storage":[],"file_system_level":"Off"}],"detailed_error_messages_enabled":false,"failed_request_tracing_enabled":false,"http_logs":[{"azure_blob_storage":[],"file_system":[]}]}],"name":"pdhprod-metabase","outbound_ip_address_list":["20.185.10.41","20.185.15.124","52.142.20.123","52.142.22.161","52.142.23.118","52.147.210.205","20.49.104.17"],"outbound_ip_addresses":"20.185.10.41,20.185.15.124,52.142.20.123,52.142.22.161,52.142.23.118,52.147.210.205,20.49.104.17","possible_outbound_ip_address_list":["52.188.40.144","52.188.42.24","52.188.46.173","52.188.47.47","52.188.47.123","52.188.47.194","20.185.10.41","20.185.15.124","52.142.20.123","52.142.22.161","52.142.23.118","52.147.210.205","52.147.211.152","52.147.214.21","52.149.201.179","52.149.205.26","52.150.48.83","52.150.51.164","20.84.18.66","20.84.19.141","20.84.19.240","20.84.19.245","20.84.20.175","20.84.20.181","20.49.104.17"],"possible_outbound_ip_addresses":"52.188.40.144,52.188.42.24,52.188.46.173,52.188.47.47,52.188.47.123,52.188.47.194,20.185.10.41,20.185.15.124,52.142.20.123,52.142.22.161,52.142.23.118,52.147.210.205,52.147.211.152,52.147.214.21,52.149.201.179,52.149.205.26,52.150.48.83,52.150.51.164,20.84.18.66,20.84.19.141,20.84.19.240,20.84.19.245,20.84.20.175,20.84.20.181,20.49.104.17","resource_group_name":"prime-data-hub-prod","site_config":[{"acr_use_managed_identity_credentials":false,"acr_user_managed_identity_client_id":"","always_on":true,"app_command_line":"","auto_swap_slot_name":"","cors":[{"allowed_origins":[],"support_credentials":false}],"default_documents":[],"dotnet_framework_version":"v4.0","ftps_state":"AllAllowed","health_check_path":"","http2_enabled":false,"ip_restriction":[{"action":"Allow","headers":[],"ip_address":"","name":"AllowVNetTraffic","priority":100,"service_tag":"","virtual_network_subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public"},{"action":"Allow","headers":[],"ip_address":"","name":"AllowVNetEastTraffic","priority":100,"service_tag":"","virtual_network_subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public"},{"action":"Allow","headers":[],"ip_address":"","name":"AllowFrontDoorTraffic","priority":110,"service_tag":"AzureFrontDoor.Backend","virtual_network_subnet_id":""}],"java_container":"","java_container_version":"","java_version":"","linux_fx_version":"DOCKER|metabase/metabase","local_mysql_enabled":false,"managed_pipeline_mode":"Integrated","min_tls_version":"1.2","number_of_workers":1,"php_version":"","python_version":"","remote_debugging_enabled":false,"remote_debugging_version":"VS2019","scm_ip_restriction":[],"scm_type":"None","scm_use_main_ip_restriction":true,"use_32_bit_worker_process":false,"vnet_route_all_enabled":false,"websockets_enabled":false,"windows_fx_version":""}],"site_credential":[{"password":"DeeqbNiNujijK8nhwGzwQMjtdo6n1GfXeSQtMZrGhrb3uZbNtQDAq4ds2mvQ","username":"$pdhprod-metabase"}],"source_control":[{"branch":"master","manual_integration":false,"repo_url":"","rollback_enabled":false,"use_mercurial":false}],"storage_account":[],"tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"app_settings":{},"auth_settings":[{"active_directory":[],"additional_login_params":{},"allowed_external_redirect_urls":[],"facebook":[],"google":[],"microsoft":[],"twitter":[]}],"backup":[],"connection_string":[],"identity":[{"identity_ids":[]}],"logs":[{"application_logs":[{"azure_blob_storage":[]}],"http_logs":[{"azure_blob_storage":[],"file_system":[]}]}],"outbound_ip_address_list":[false,false,false,false,false,false,false],"possible_outbound_ip_address_list":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"site_config":[{"cors":[{"allowed_origins":[]}],"default_documents":[],"ip_restriction":[{"headers":[]},{"headers":[]},{"headers":[]}],"scm_ip_restriction":[]}],"site_credential":[{}],"source_control":[{}],"storage_account":[],"tags":{},"timeouts":{}},"depends_on":["module.application_insights.azurerm_application_insights.metabase_insights","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet","module.database.azurerm_postgresql_server.postgres_server","module.network.data.azurerm_subnet.vnet","data.azurerm_key_vault.app_config","data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.app_service_plan.azurerm_app_service_plan.service_plan","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.metabase[0].azurerm_app_service_virtual_network_swift_connection.metabase_vnet_integration","mode":"managed","type":"azurerm_app_service_virtual_network_swift_connection","name":"metabase_vnet_integration","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"app_service_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-metabase","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Web/sites/pdhprod-metabase/config/virtualNetwork","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"timeouts":{}},"depends_on":["data.azurerm_key_vault_secret.postgres_pass","data.azurerm_key_vault_secret.postgres_user","module.application_insights.azurerm_application_insights.metabase_insights","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","data.azurerm_key_vault.app_config","module.app_service_plan.azurerm_app_service_plan.service_plan","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_virtual_network.vnet","module.database.azurerm_postgresql_server.postgres_server","module.metabase.azurerm_app_service.metabase","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.west_vnet"]}],"address":"module.metabase[0]"},{"resources":[{"address":"module.nat_gateway.azurerm_nat_gateway.nat_gateway","mode":"managed","type":"azurerm_nat_gateway","name":"nat_gateway","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/natGateways/pdhprod-natgateway","idle_timeout_in_minutes":10,"location":"eastus","name":"pdhprod-natgateway","public_ip_address_ids":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/publicIPAddresses/pdhprod-publicip"],"public_ip_prefix_ids":[],"resource_group_name":"prime-data-hub-prod","resource_guid":"fa36dec6-bb49-42d6-9bf3-2f2d815565e6","sku_name":"Standard","tags":{"environment":"prod"},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"zones":[]},"sensitive_values":{"public_ip_address_ids":[false],"public_ip_prefix_ids":[],"tags":{},"timeouts":{},"zones":[]}},{"address":"module.nat_gateway.azurerm_nat_gateway_public_ip_association.nat_gateway_ip_association","mode":"managed","type":"azurerm_nat_gateway_public_ip_association","name":"nat_gateway_ip_association","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/natGateways/pdhprod-natgateway|/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/publicIPAddresses/pdhprod-publicip","nat_gateway_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/natGateways/pdhprod-natgateway","public_ip_address_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/publicIPAddresses/pdhprod-publicip","timeouts":{"create":null,"delete":null,"read":null}},"sensitive_values":{"timeouts":{}},"depends_on":["module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.nat_gateway.azurerm_public_ip.nat_gateway_ip"]},{"address":"module.nat_gateway.azurerm_public_ip.nat_gateway_ip","mode":"managed","type":"azurerm_public_ip","name":"nat_gateway_ip","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"allocation_method":"Static","availability_zone":"Zone-Redundant","domain_name_label":null,"fqdn":null,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/publicIPAddresses/pdhprod-publicip","idle_timeout_in_minutes":4,"ip_address":"20.62.220.78","ip_tags":{},"ip_version":"IPv4","location":"eastus","name":"pdhprod-publicip","public_ip_prefix_id":null,"resource_group_name":"prime-data-hub-prod","reverse_fqdn":null,"sku":"Standard","sku_tier":"Regional","tags":{"environment":"prod"},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"zones":[]},"sensitive_values":{"ip_tags":{},"tags":{},"timeouts":{},"zones":[]}},{"address":"module.nat_gateway.azurerm_subnet_nat_gateway_association.nat_gateway_public_subnet_association","mode":"managed","type":"azurerm_subnet_nat_gateway_association","name":"nat_gateway_public_subnet_association","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public","nat_gateway_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/natGateways/pdhprod-natgateway","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.west_vnet","module.nat_gateway.azurerm_nat_gateway.nat_gateway","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.public_subnet"]}],"address":"module.nat_gateway"},{"resources":[{"address":"module.network.azurerm_private_dns_zone.zone[\"azurewebsites\"]","mode":"managed","type":"azurerm_private_dns_zone","name":"zone","index":"azurewebsites","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.azurewebsites.net","max_number_of_record_sets":25000,"max_number_of_virtual_network_links":1000,"max_number_of_virtual_network_links_with_registration":100,"name":"privatelink.azurewebsites.net","number_of_record_sets":1,"resource_group_name":"prime-data-hub-prod","soa_record":[{"email":"azureprivatedns-host.microsoft.com","expire_time":2419200,"fqdn":"privatelink.azurewebsites.net.","host_name":"azureprivatedns.net","minimum_ttl":10,"refresh_time":3600,"retry_time":300,"serial_number":1,"tags":{},"ttl":3600}],"tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"soa_record":[{"tags":{}}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone.zone[\"blob\"]","mode":"managed","type":"azurerm_private_dns_zone","name":"zone","index":"blob","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net","max_number_of_record_sets":25000,"max_number_of_virtual_network_links":1000,"max_number_of_virtual_network_links_with_registration":100,"name":"privatelink.blob.core.windows.net","number_of_record_sets":5,"resource_group_name":"prime-data-hub-prod","soa_record":[{"email":"azureprivatedns-host.microsoft.com","expire_time":2419200,"fqdn":"privatelink.blob.core.windows.net.","host_name":"azureprivatedns.net","minimum_ttl":10,"refresh_time":3600,"retry_time":300,"serial_number":1,"tags":{},"ttl":3600}],"tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"soa_record":[{"tags":{}}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone.zone[\"file\"]","mode":"managed","type":"azurerm_private_dns_zone","name":"zone","index":"file","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net","max_number_of_record_sets":25000,"max_number_of_virtual_network_links":1000,"max_number_of_virtual_network_links_with_registration":100,"name":"privatelink.file.core.windows.net","number_of_record_sets":3,"resource_group_name":"prime-data-hub-prod","soa_record":[{"email":"azureprivatedns-host.microsoft.com","expire_time":2419200,"fqdn":"privatelink.file.core.windows.net.","host_name":"azureprivatedns.net","minimum_ttl":10,"refresh_time":3600,"retry_time":300,"serial_number":1,"tags":{},"ttl":3600}],"tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"soa_record":[{"tags":{}}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone.zone[\"postgres\"]","mode":"managed","type":"azurerm_private_dns_zone","name":"zone","index":"postgres","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.postgres.database.azure.com","max_number_of_record_sets":25000,"max_number_of_virtual_network_links":1000,"max_number_of_virtual_network_links_with_registration":100,"name":"privatelink.postgres.database.azure.com","number_of_record_sets":3,"resource_group_name":"prime-data-hub-prod","soa_record":[{"email":"azureprivatedns-host.microsoft.com","expire_time":2419200,"fqdn":"privatelink.postgres.database.azure.com.","host_name":"azureprivatedns.net","minimum_ttl":10,"refresh_time":3600,"retry_time":300,"serial_number":1,"tags":{},"ttl":3600}],"tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"soa_record":[{"tags":{}}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone.zone[\"prime\"]","mode":"managed","type":"azurerm_private_dns_zone","name":"zone","index":"prime","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/prime.local","max_number_of_record_sets":25000,"max_number_of_virtual_network_links":1000,"max_number_of_virtual_network_links_with_registration":100,"name":"prime.local","number_of_record_sets":1,"resource_group_name":"prime-data-hub-prod","soa_record":[{"email":"azureprivatedns-host.microsoft.com","expire_time":2419200,"fqdn":"prime.local.","host_name":"azureprivatedns.net","minimum_ttl":10,"refresh_time":3600,"retry_time":300,"serial_number":1,"tags":{},"ttl":3600}],"tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"soa_record":[{"tags":{}}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone.zone[\"queue\"]","mode":"managed","type":"azurerm_private_dns_zone","name":"zone","index":"queue","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.queue.core.windows.net","max_number_of_record_sets":25000,"max_number_of_virtual_network_links":1000,"max_number_of_virtual_network_links_with_registration":100,"name":"privatelink.queue.core.windows.net","number_of_record_sets":3,"resource_group_name":"prime-data-hub-prod","soa_record":[{"email":"azureprivatedns-host.microsoft.com","expire_time":2419200,"fqdn":"privatelink.queue.core.windows.net.","host_name":"azureprivatedns.net","minimum_ttl":10,"refresh_time":3600,"retry_time":300,"serial_number":1,"tags":{},"ttl":3600}],"tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"soa_record":[{"tags":{}}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone.zone[\"servicebus\"]","mode":"managed","type":"azurerm_private_dns_zone","name":"zone","index":"servicebus","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.servicebus.windows.net","max_number_of_record_sets":25000,"max_number_of_virtual_network_links":1000,"max_number_of_virtual_network_links_with_registration":100,"name":"privatelink.servicebus.windows.net","number_of_record_sets":1,"resource_group_name":"prime-data-hub-prod","soa_record":[{"email":"azureprivatedns-host.microsoft.com","expire_time":2419200,"fqdn":"privatelink.servicebus.windows.net.","host_name":"azureprivatedns.net","minimum_ttl":10,"refresh_time":3600,"retry_time":300,"serial_number":1,"tags":{},"ttl":3600}],"tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"soa_record":[{"tags":{}}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone.zone[\"vaultcore\"]","mode":"managed","type":"azurerm_private_dns_zone","name":"zone","index":"vaultcore","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net","max_number_of_record_sets":25000,"max_number_of_virtual_network_links":1000,"max_number_of_virtual_network_links_with_registration":100,"name":"privatelink.vaultcore.azure.net","number_of_record_sets":4,"resource_group_name":"prime-data-hub-prod","soa_record":[{"email":"azureprivatedns-host.microsoft.com","expire_time":2419200,"fqdn":"privatelink.vaultcore.azure.net.","host_name":"azureprivatedns.net","minimum_ttl":10,"refresh_time":3600,"retry_time":300,"serial_number":1,"tags":{},"ttl":3600}],"tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"soa_record":[{"tags":{}}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-East-vnet-prime.local\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-East-vnet-prime.local","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/prime.local/virtualNetworkLinks/pdhprod-pdhprod-East-vnet-prime.local","name":"pdhprod-pdhprod-East-vnet-prime.local","private_dns_zone_name":"prime.local","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-East-vnet-privatelink.azurewebsites.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-East-vnet-privatelink.azurewebsites.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.azurewebsites.net/virtualNetworkLinks/pdhprod-pdhprod-East-vnet-privatelink.azurewebsites.net","name":"pdhprod-pdhprod-East-vnet-privatelink.azurewebsites.net","private_dns_zone_name":"privatelink.azurewebsites.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-East-vnet-privatelink.blob.core.windows.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-East-vnet-privatelink.blob.core.windows.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net/virtualNetworkLinks/pdhprod-pdhprod-East-vnet-privatelink.blob.core.windows.net","name":"pdhprod-pdhprod-East-vnet-privatelink.blob.core.windows.net","private_dns_zone_name":"privatelink.blob.core.windows.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-East-vnet-privatelink.file.core.windows.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-East-vnet-privatelink.file.core.windows.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net/virtualNetworkLinks/pdhprod-pdhprod-East-vnet-privatelink.file.core.windows.net","name":"pdhprod-pdhprod-East-vnet-privatelink.file.core.windows.net","private_dns_zone_name":"privatelink.file.core.windows.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-East-vnet-privatelink.postgres.database.azure.com\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-East-vnet-privatelink.postgres.database.azure.com","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.postgres.database.azure.com/virtualNetworkLinks/pdhprod-pdhprod-East-vnet-privatelink.postgres.database.azure.com","name":"pdhprod-pdhprod-East-vnet-privatelink.postgres.database.azure.com","private_dns_zone_name":"privatelink.postgres.database.azure.com","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-East-vnet-privatelink.queue.core.windows.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-East-vnet-privatelink.queue.core.windows.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.queue.core.windows.net/virtualNetworkLinks/pdhprod-pdhprod-East-vnet-privatelink.queue.core.windows.net","name":"pdhprod-pdhprod-East-vnet-privatelink.queue.core.windows.net","private_dns_zone_name":"privatelink.queue.core.windows.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-East-vnet-privatelink.servicebus.windows.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-East-vnet-privatelink.servicebus.windows.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.servicebus.windows.net/virtualNetworkLinks/pdhprod-pdhprod-East-vnet-privatelink.servicebus.windows.net","name":"pdhprod-pdhprod-East-vnet-privatelink.servicebus.windows.net","private_dns_zone_name":"privatelink.servicebus.windows.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-West-vnet-prime.local\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-West-vnet-prime.local","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/prime.local/virtualNetworkLinks/pdhprod-pdhprod-West-vnet-prime.local","name":"pdhprod-pdhprod-West-vnet-prime.local","private_dns_zone_name":"prime.local","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-West-vnet-privatelink.azurewebsites.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-West-vnet-privatelink.azurewebsites.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.azurewebsites.net/virtualNetworkLinks/pdhprod-pdhprod-West-vnet-privatelink.azurewebsites.net","name":"pdhprod-pdhprod-West-vnet-privatelink.azurewebsites.net","private_dns_zone_name":"privatelink.azurewebsites.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-West-vnet-privatelink.blob.core.windows.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-West-vnet-privatelink.blob.core.windows.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net/virtualNetworkLinks/pdhprod-pdhprod-West-vnet-privatelink.blob.core.windows.net","name":"pdhprod-pdhprod-West-vnet-privatelink.blob.core.windows.net","private_dns_zone_name":"privatelink.blob.core.windows.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-West-vnet-privatelink.file.core.windows.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-West-vnet-privatelink.file.core.windows.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net/virtualNetworkLinks/pdhprod-pdhprod-West-vnet-privatelink.file.core.windows.net","name":"pdhprod-pdhprod-West-vnet-privatelink.file.core.windows.net","private_dns_zone_name":"privatelink.file.core.windows.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-West-vnet-privatelink.postgres.database.azure.com\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-West-vnet-privatelink.postgres.database.azure.com","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.postgres.database.azure.com/virtualNetworkLinks/pdhprod-pdhprod-West-vnet-privatelink.postgres.database.azure.com","name":"pdhprod-pdhprod-West-vnet-privatelink.postgres.database.azure.com","private_dns_zone_name":"privatelink.postgres.database.azure.com","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-West-vnet-privatelink.queue.core.windows.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-West-vnet-privatelink.queue.core.windows.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.queue.core.windows.net/virtualNetworkLinks/pdhprod-pdhprod-West-vnet-privatelink.queue.core.windows.net","name":"pdhprod-pdhprod-West-vnet-privatelink.queue.core.windows.net","private_dns_zone_name":"privatelink.queue.core.windows.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-West-vnet-privatelink.servicebus.windows.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-West-vnet-privatelink.servicebus.windows.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.servicebus.windows.net/virtualNetworkLinks/pdhprod-pdhprod-West-vnet-privatelink.servicebus.windows.net","name":"pdhprod-pdhprod-West-vnet-privatelink.servicebus.windows.net","private_dns_zone_name":"privatelink.servicebus.windows.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-vnet-prime.local\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-vnet-prime.local","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/prime.local/virtualNetworkLinks/prime.local","name":"prime.local","private_dns_zone_name":"prime.local","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-vnet-privatelink.azurewebsites.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-vnet-privatelink.azurewebsites.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.azurewebsites.net/virtualNetworkLinks/privatelink.azurewebsites.net","name":"privatelink.azurewebsites.net","private_dns_zone_name":"privatelink.azurewebsites.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-vnet-privatelink.blob.core.windows.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-vnet-privatelink.blob.core.windows.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net/virtualNetworkLinks/privatelink.blob.core.windows.net","name":"privatelink.blob.core.windows.net","private_dns_zone_name":"privatelink.blob.core.windows.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-vnet-privatelink.file.core.windows.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-vnet-privatelink.file.core.windows.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net/virtualNetworkLinks/privatelink.file.core.windows.net","name":"privatelink.file.core.windows.net","private_dns_zone_name":"privatelink.file.core.windows.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-vnet-privatelink.postgres.database.azure.com\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-vnet-privatelink.postgres.database.azure.com","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.postgres.database.azure.com/virtualNetworkLinks/privatelink.postgres.database.azure.com","name":"privatelink.postgres.database.azure.com","private_dns_zone_name":"privatelink.postgres.database.azure.com","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-vnet-privatelink.queue.core.windows.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-vnet-privatelink.queue.core.windows.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.queue.core.windows.net/virtualNetworkLinks/privatelink.queue.core.windows.net","name":"privatelink.queue.core.windows.net","private_dns_zone_name":"privatelink.queue.core.windows.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-vnet-privatelink.servicebus.windows.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-vnet-privatelink.servicebus.windows.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.servicebus.windows.net/virtualNetworkLinks/privatelink.servicebus.windows.net","name":"privatelink.servicebus.windows.net","private_dns_zone_name":"privatelink.servicebus.windows.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link[\"pdhprod-pdhprod-vnet-privatelink.vaultcore.azure.net\"]","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","index":"pdhprod-pdhprod-vnet-privatelink.vaultcore.azure.net","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net/virtualNetworkLinks/privatelink.vaultcore.azure.net","name":"privatelink.vaultcore.azure.net","private_dns_zone_name":"privatelink.vaultcore.azure.net","registration_enabled":false,"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"virtual_network_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet"},"sensitive_values":{"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.network.data.azurerm_network_security_group.vnet_nsg_private[\"East-vnet\"]","mode":"data","type":"azurerm_network_security_group","name":"vnet_nsg_private","index":"East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-eastus-nsg.private","location":"eastus","name":"pdhprod-eastus-nsg.private","resource_group_name":"prime-data-hub-prod","security_rule":[],"tags":{},"timeouts":null},"sensitive_values":{"security_rule":[],"tags":{}}},{"address":"module.network.data.azurerm_network_security_group.vnet_nsg_private[\"West-vnet\"]","mode":"data","type":"azurerm_network_security_group","name":"vnet_nsg_private","index":"West-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-westus-nsg.private","location":"westus","name":"pdhprod-westus-nsg.private","resource_group_name":"prime-data-hub-prod","security_rule":[],"tags":{},"timeouts":null},"sensitive_values":{"security_rule":[],"tags":{}}},{"address":"module.network.data.azurerm_network_security_group.vnet_nsg_private[\"vnet\"]","mode":"data","type":"azurerm_network_security_group","name":"vnet_nsg_private","index":"vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-nsg.private","location":"eastus","name":"pdhprod-nsg.private","resource_group_name":"prime-data-hub-prod","security_rule":[],"tags":{},"timeouts":null},"sensitive_values":{"security_rule":[],"tags":{}}},{"address":"module.network.data.azurerm_network_security_group.vnet_nsg_public[\"East-vnet\"]","mode":"data","type":"azurerm_network_security_group","name":"vnet_nsg_public","index":"East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-eastus-nsg.public","location":"eastus","name":"pdhprod-eastus-nsg.public","resource_group_name":"prime-data-hub-prod","security_rule":[],"tags":{},"timeouts":null},"sensitive_values":{"security_rule":[],"tags":{}}},{"address":"module.network.data.azurerm_network_security_group.vnet_nsg_public[\"West-vnet\"]","mode":"data","type":"azurerm_network_security_group","name":"vnet_nsg_public","index":"West-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-westus-nsg.public","location":"westus","name":"pdhprod-westus-nsg.public","resource_group_name":"prime-data-hub-prod","security_rule":[],"tags":{},"timeouts":null},"sensitive_values":{"security_rule":[],"tags":{}}},{"address":"module.network.data.azurerm_network_security_group.vnet_nsg_public[\"vnet\"]","mode":"data","type":"azurerm_network_security_group","name":"vnet_nsg_public","index":"vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-nsg.public","location":"eastus","name":"pdhprod-nsg.public","resource_group_name":"prime-data-hub-prod","security_rule":[],"tags":{},"timeouts":null},"sensitive_values":{"security_rule":[],"tags":{}}},{"address":"module.network.data.azurerm_subnet.container_subnet[\"East-vnet\"]","mode":"data","type":"azurerm_subnet","name":"container_subnet","index":"East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.16/28","address_prefixes":["172.17.7.16/28"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/container","name":"container","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-eastus-nsg.public","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/IAM-Prod-1/providers/Microsoft.Network/routeTables/IAM_DMZ-RT","service_endpoints":["Microsoft.Storage","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-East-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false]}},{"address":"module.network.data.azurerm_subnet.container_subnet[\"West-vnet\"]","mode":"data","type":"azurerm_subnet","name":"container_subnet","index":"West-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.144/28","address_prefixes":["172.17.7.144/28"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet/subnets/container","name":"container","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-westus-nsg.public","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-staging/providers/Microsoft.Network/routeTables/pdhstaging-West-vnet-RT","service_endpoints":["Microsoft.Storage","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-West-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false]}},{"address":"module.network.data.azurerm_subnet.container_subnet[\"vnet\"]","mode":"data","type":"azurerm_subnet","name":"container_subnet","index":"vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.0.2.0/24","address_prefixes":["10.0.2.0/24"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/container","name":"container","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-nsg.public","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":["Microsoft.Storage","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false]}},{"address":"module.network.data.azurerm_subnet.east_vnet[\"container\"]","mode":"data","type":"azurerm_subnet","name":"east_vnet","index":"container","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.16/28","address_prefixes":["172.17.7.16/28"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/container","name":"container","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-eastus-nsg.public","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/IAM-Prod-1/providers/Microsoft.Network/routeTables/IAM_DMZ-RT","service_endpoints":["Microsoft.Storage","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-East-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false]}},{"address":"module.network.data.azurerm_subnet.east_vnet[\"endpoint\"]","mode":"data","type":"azurerm_subnet","name":"east_vnet","index":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.64/27","address_prefixes":["172.17.7.64/27"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","name":"endpoint","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-eastus-nsg.private","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":["Microsoft.Storage","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-East-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false]}},{"address":"module.network.data.azurerm_subnet.east_vnet[\"private\"]","mode":"data","type":"azurerm_subnet","name":"east_vnet","index":"private","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.32/28","address_prefixes":["172.17.7.32/28"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/private","name":"private","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-eastus-nsg.private","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/IAM-Prod-1/providers/Microsoft.Network/routeTables/IAM_DMZ-RT","service_endpoints":["Microsoft.Storage","Microsoft.Sql","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-East-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false,false]}},{"address":"module.network.data.azurerm_subnet.east_vnet[\"public\"]","mode":"data","type":"azurerm_subnet","name":"east_vnet","index":"public","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.0/28","address_prefixes":["172.17.7.0/28"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public","name":"public","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-eastus-nsg.public","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/IAM-Prod-1/providers/Microsoft.Network/routeTables/IAM_DMZ-RT","service_endpoints":["Microsoft.ContainerRegistry","Microsoft.Storage","Microsoft.Sql","Microsoft.Web","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-East-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false,false,false,false]}},{"address":"module.network.data.azurerm_subnet.endpoint_subnet[\"East-vnet\"]","mode":"data","type":"azurerm_subnet","name":"endpoint_subnet","index":"East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.64/27","address_prefixes":["172.17.7.64/27"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","name":"endpoint","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-eastus-nsg.private","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":["Microsoft.Storage","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-East-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false]}},{"address":"module.network.data.azurerm_subnet.endpoint_subnet[\"West-vnet\"]","mode":"data","type":"azurerm_subnet","name":"endpoint_subnet","index":"West-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.192/27","address_prefixes":["172.17.7.192/27"],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet/subnets/endpoint","name":"endpoint","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-westus-nsg.private","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-staging/providers/Microsoft.Network/routeTables/pdhstaging-West-vnet-RT","service_endpoints":["Microsoft.Storage","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-West-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false]}},{"address":"module.network.data.azurerm_subnet.endpoint_subnet[\"vnet\"]","mode":"data","type":"azurerm_subnet","name":"endpoint_subnet","index":"vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.0.5.0/24","address_prefixes":["10.0.5.0/24"],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","name":"endpoint","network_security_group_id":"","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":["Microsoft.Storage","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false]}},{"address":"module.network.data.azurerm_subnet.endpoint_subnet[\"vnet-peer\"]","mode":"data","type":"azurerm_subnet","name":"endpoint_subnet","index":"vnet-peer","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.1.5.0/24","address_prefixes":["10.1.5.0/24"],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet-peer/subnets/endpoint","name":"endpoint","network_security_group_id":"","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":[],"timeouts":null,"virtual_network_name":"pdhprod-vnet-peer"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[]}},{"address":"module.network.data.azurerm_subnet.gateway_subnet[\"vnet\"]","mode":"data","type":"azurerm_subnet","name":"gateway_subnet","index":"vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.0.4.0/24","address_prefixes":["10.0.4.0/24"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/GatewaySubnet","name":"GatewaySubnet","network_security_group_id":"","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":[],"timeouts":null,"virtual_network_name":"pdhprod-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[]}},{"address":"module.network.data.azurerm_subnet.peer_vnet[\"endpoint\"]","mode":"data","type":"azurerm_subnet","name":"peer_vnet","index":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.1.5.0/24","address_prefixes":["10.1.5.0/24"],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet-peer/subnets/endpoint","name":"endpoint","network_security_group_id":"","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":[],"timeouts":null,"virtual_network_name":"pdhprod-vnet-peer"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[]}},{"address":"module.network.data.azurerm_subnet.peer_vnet[\"private\"]","mode":"data","type":"azurerm_subnet","name":"peer_vnet","index":"private","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.1.3.0/24","address_prefixes":["10.1.3.0/24"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet-peer/subnets/private","name":"private","network_security_group_id":"","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":["Microsoft.Sql"],"timeouts":null,"virtual_network_name":"pdhprod-vnet-peer"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false]}},{"address":"module.network.data.azurerm_subnet.private_subnet[\"East-vnet\"]","mode":"data","type":"azurerm_subnet","name":"private_subnet","index":"East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.32/28","address_prefixes":["172.17.7.32/28"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/private","name":"private","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-eastus-nsg.private","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/IAM-Prod-1/providers/Microsoft.Network/routeTables/IAM_DMZ-RT","service_endpoints":["Microsoft.Storage","Microsoft.Sql","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-East-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false,false]}},{"address":"module.network.data.azurerm_subnet.private_subnet[\"West-vnet\"]","mode":"data","type":"azurerm_subnet","name":"private_subnet","index":"West-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.160/28","address_prefixes":["172.17.7.160/28"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet/subnets/private","name":"private","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-westus-nsg.private","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-staging/providers/Microsoft.Network/routeTables/pdhstaging-West-vnet-RT","service_endpoints":["Microsoft.Storage","Microsoft.Sql","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-West-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false,false]}},{"address":"module.network.data.azurerm_subnet.private_subnet[\"vnet\"]","mode":"data","type":"azurerm_subnet","name":"private_subnet","index":"vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.0.3.0/24","address_prefixes":["10.0.3.0/24"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/private","name":"private","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-nsg.private","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":["Microsoft.Storage","Microsoft.Sql","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false,false]}},{"address":"module.network.data.azurerm_subnet.private_subnet[\"vnet-peer\"]","mode":"data","type":"azurerm_subnet","name":"private_subnet","index":"vnet-peer","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.1.3.0/24","address_prefixes":["10.1.3.0/24"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet-peer/subnets/private","name":"private","network_security_group_id":"","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":["Microsoft.Sql"],"timeouts":null,"virtual_network_name":"pdhprod-vnet-peer"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false]}},{"address":"module.network.data.azurerm_subnet.public_subnet[\"East-vnet\"]","mode":"data","type":"azurerm_subnet","name":"public_subnet","index":"East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.0/28","address_prefixes":["172.17.7.0/28"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public","name":"public","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-eastus-nsg.public","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/IAM-Prod-1/providers/Microsoft.Network/routeTables/IAM_DMZ-RT","service_endpoints":["Microsoft.ContainerRegistry","Microsoft.Storage","Microsoft.Sql","Microsoft.Web","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-East-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false,false,false,false]}},{"address":"module.network.data.azurerm_subnet.public_subnet[\"West-vnet\"]","mode":"data","type":"azurerm_subnet","name":"public_subnet","index":"West-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.128/28","address_prefixes":["172.17.7.128/28"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet/subnets/public","name":"public","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-westus-nsg.public","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-staging/providers/Microsoft.Network/routeTables/pdhstaging-West-vnet-RT","service_endpoints":["Microsoft.ContainerRegistry","Microsoft.Storage","Microsoft.Sql","Microsoft.Web","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-West-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false,false,false,false]}},{"address":"module.network.data.azurerm_subnet.public_subnet[\"vnet\"]","mode":"data","type":"azurerm_subnet","name":"public_subnet","index":"vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.0.1.0/24","address_prefixes":["10.0.1.0/24"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public","name":"public","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-nsg.public","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":["Microsoft.ContainerRegistry","Microsoft.Storage","Microsoft.Sql","Microsoft.Web","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false,false,false,false]}},{"address":"module.network.data.azurerm_subnet.vnet[\"GatewaySubnet\"]","mode":"data","type":"azurerm_subnet","name":"vnet","index":"GatewaySubnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.0.4.0/24","address_prefixes":["10.0.4.0/24"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/GatewaySubnet","name":"GatewaySubnet","network_security_group_id":"","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":[],"timeouts":null,"virtual_network_name":"pdhprod-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[]}},{"address":"module.network.data.azurerm_subnet.vnet[\"container\"]","mode":"data","type":"azurerm_subnet","name":"vnet","index":"container","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.0.2.0/24","address_prefixes":["10.0.2.0/24"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/container","name":"container","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-nsg.public","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":["Microsoft.Storage","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false]}},{"address":"module.network.data.azurerm_subnet.vnet[\"endpoint\"]","mode":"data","type":"azurerm_subnet","name":"vnet","index":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.0.5.0/24","address_prefixes":["10.0.5.0/24"],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","name":"endpoint","network_security_group_id":"","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":["Microsoft.Storage","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false]}},{"address":"module.network.data.azurerm_subnet.vnet[\"private\"]","mode":"data","type":"azurerm_subnet","name":"vnet","index":"private","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.0.3.0/24","address_prefixes":["10.0.3.0/24"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/private","name":"private","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-nsg.private","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":["Microsoft.Storage","Microsoft.Sql","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false,false]}},{"address":"module.network.data.azurerm_subnet.vnet[\"public\"]","mode":"data","type":"azurerm_subnet","name":"vnet","index":"public","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"10.0.1.0/24","address_prefixes":["10.0.1.0/24"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public","name":"public","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-nsg.public","resource_group_name":"prime-data-hub-prod","route_table_id":"","service_endpoints":["Microsoft.ContainerRegistry","Microsoft.Storage","Microsoft.Sql","Microsoft.Web","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false,false,false,false]}},{"address":"module.network.data.azurerm_subnet.west_vnet[\"container\"]","mode":"data","type":"azurerm_subnet","name":"west_vnet","index":"container","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.144/28","address_prefixes":["172.17.7.144/28"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet/subnets/container","name":"container","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-westus-nsg.public","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-staging/providers/Microsoft.Network/routeTables/pdhstaging-West-vnet-RT","service_endpoints":["Microsoft.Storage","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-West-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false]}},{"address":"module.network.data.azurerm_subnet.west_vnet[\"endpoint\"]","mode":"data","type":"azurerm_subnet","name":"west_vnet","index":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.192/27","address_prefixes":["172.17.7.192/27"],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet/subnets/endpoint","name":"endpoint","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-westus-nsg.private","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-staging/providers/Microsoft.Network/routeTables/pdhstaging-West-vnet-RT","service_endpoints":["Microsoft.Storage","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-West-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false]}},{"address":"module.network.data.azurerm_subnet.west_vnet[\"private\"]","mode":"data","type":"azurerm_subnet","name":"west_vnet","index":"private","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.160/28","address_prefixes":["172.17.7.160/28"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet/subnets/private","name":"private","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-westus-nsg.private","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-staging/providers/Microsoft.Network/routeTables/pdhstaging-West-vnet-RT","service_endpoints":["Microsoft.Storage","Microsoft.Sql","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-West-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false,false]}},{"address":"module.network.data.azurerm_subnet.west_vnet[\"public\"]","mode":"data","type":"azurerm_subnet","name":"west_vnet","index":"public","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.128/28","address_prefixes":["172.17.7.128/28"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet/subnets/public","name":"public","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-westus-nsg.public","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-staging/providers/Microsoft.Network/routeTables/pdhstaging-West-vnet-RT","service_endpoints":["Microsoft.ContainerRegistry","Microsoft.Storage","Microsoft.Sql","Microsoft.Web","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-West-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false,false,false,false]}},{"address":"module.network.data.azurerm_virtual_network.vnet[\"default\"]","mode":"data","type":"azurerm_virtual_network","name":"vnet","index":"default","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["10.0.0.0/16"],"dns_servers":[],"guid":"9b73cdd8-017c-4776-9723-019fa71a44a6","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet","location":"eastus","name":"pdhprod-vnet","resource_group_name":"prime-data-hub-prod","subnets":["public","container","private","GatewaySubnet","endpoint"],"tags":{"environment":"prod"},"timeouts":null,"vnet_peerings":{"pdhprod-peering-001":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet-peer"}},"sensitive_values":{"address_space":[false],"dns_servers":[],"subnets":[false,false,false,false,false],"tags":{},"vnet_peerings":{}}},{"address":"module.network.data.azurerm_virtual_network.vnet[\"east\"]","mode":"data","type":"azurerm_virtual_network","name":"vnet","index":"east","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["172.17.7.0/25"],"dns_servers":["172.17.0.135"],"guid":"f2991fac-ae59-4607-8d53-a4e709b211be","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet","location":"eastus","name":"pdhprod-East-vnet","resource_group_name":"prime-data-hub-prod","subnets":["private","container","public","endpoint"],"tags":{},"timeouts":null,"vnet_peerings":{"pdhprod-East-vnet_to_CSPO-FW-VNet-1":"/subscriptions/311941d0-884e-4e34-a6a0-99b9aba5880f/resourceGroups/OCIO-CSPO-FW-C1/providers/Microsoft.Network/virtualNetworks/CSPO-FW-VNet-1","pdhprod-peer-pdhprod-West-vnet":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet"}},"sensitive_values":{"address_space":[false],"dns_servers":[false],"subnets":[false,false,false,false],"tags":{},"vnet_peerings":{}}},{"address":"module.network.data.azurerm_virtual_network.vnet[\"peer\"]","mode":"data","type":"azurerm_virtual_network","name":"vnet","index":"peer","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["10.1.0.0/16"],"dns_servers":[],"guid":"ee763845-e1ca-482e-afa4-335533a515b8","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet-peer","location":"westus","name":"pdhprod-vnet-peer","resource_group_name":"prime-data-hub-prod","subnets":["private","endpoint"],"tags":{"environment":"prod"},"timeouts":null,"vnet_peerings":{"pdhprod-peering-remote-001":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet"}},"sensitive_values":{"address_space":[false],"dns_servers":[],"subnets":[false,false],"tags":{},"vnet_peerings":{}}},{"address":"module.network.data.azurerm_virtual_network.vnet[\"west\"]","mode":"data","type":"azurerm_virtual_network","name":"vnet","index":"west","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["172.17.7.128/25"],"dns_servers":["172.17.0.135"],"guid":"737479d3-1413-40e5-9bbb-bc90fa056782","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-West-vnet","location":"westus","name":"pdhprod-West-vnet","resource_group_name":"prime-data-hub-prod","subnets":["private","container","public","endpoint"],"tags":{},"timeouts":null,"vnet_peerings":{"pdhprod-West-vnet_to_CSPO-FW-VNet-1":"/subscriptions/311941d0-884e-4e34-a6a0-99b9aba5880f/resourceGroups/OCIO-CSPO-FW-C1/providers/Microsoft.Network/virtualNetworks/CSPO-FW-VNet-1","pdhprod-peer-pdhprod-East-vnet":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet"}},"sensitive_values":{"address_space":[false],"dns_servers":[false],"subnets":[false,false,false,false],"tags":{},"vnet_peerings":{}}}],"address":"module.network"},{"resources":[{"address":"module.sftp.azurerm_network_profile.sftp","mode":"managed","type":"azurerm_network_profile","name":"sftp","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"container_network_interface":[{"ip_configuration":[{"name":"sftp","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/container"}],"name":"sftp"}],"container_network_interface_ids":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkProfiles/sftp","location":"eastus","name":"sftp","resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":null},"sensitive_values":{"container_network_interface":[{"ip_configuration":[{}]}],"container_network_interface_ids":[],"tags":{}},"depends_on":["module.ssh.data.external.sftp_ssh_query","module.sftp.data.azurerm_subnet.container_subnet"]},{"address":"module.sftp.azurerm_storage_account.sftp","mode":"managed","type":"azurerm_storage_account","name":"sftp","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"access_tier":"Hot","account_kind":"StorageV2","account_replication_type":"GRS","account_tier":"Standard","allow_blob_public_access":false,"azure_files_authentication":[],"blob_properties":[{"change_feed_enabled":false,"container_delete_retention_policy":[],"cors_rule":[],"default_service_version":"","delete_retention_policy":[],"last_access_time_enabled":false,"versioning_enabled":false}],"custom_domain":[],"customer_managed_key":[],"enable_https_traffic_only":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodsftp","identity":[],"infrastructure_encryption_enabled":false,"is_hns_enabled":false,"large_file_share_enabled":null,"location":"eastus","min_tls_version":"TLS1_2","name":"pdhprodsftp","network_rules":[{"bypass":["AzureServices"],"default_action":"Allow","ip_rules":["108.48.23.191","162.224.209.174","24.163.118.70","75.191.122.59"],"private_link_access":[],"virtual_network_subnet_ids":[]}],"nfsv3_enabled":false,"primary_access_key":"fF3M2zYQa34JFh+oEdsHvCMUOLsOoWj/shQ5LnDkt1wSOjSLTKCQY2n7SAcJ++mWLAmil3y6tKSH+AStnb6B7w==","primary_blob_connection_string":"DefaultEndpointsProtocol=https;BlobEndpoint=https://pdhprodsftp.blob.core.windows.net/;AccountName=pdhprodsftp;AccountKey=fF3M2zYQa34JFh+oEdsHvCMUOLsOoWj/shQ5LnDkt1wSOjSLTKCQY2n7SAcJ++mWLAmil3y6tKSH+AStnb6B7w==","primary_blob_endpoint":"https://pdhprodsftp.blob.core.windows.net/","primary_blob_host":"pdhprodsftp.blob.core.windows.net","primary_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodsftp;AccountKey=fF3M2zYQa34JFh+oEdsHvCMUOLsOoWj/shQ5LnDkt1wSOjSLTKCQY2n7SAcJ++mWLAmil3y6tKSH+AStnb6B7w==;EndpointSuffix=core.windows.net","primary_dfs_endpoint":"https://pdhprodsftp.dfs.core.windows.net/","primary_dfs_host":"pdhprodsftp.dfs.core.windows.net","primary_file_endpoint":"https://pdhprodsftp.file.core.windows.net/","primary_file_host":"pdhprodsftp.file.core.windows.net","primary_location":"eastus","primary_queue_endpoint":"https://pdhprodsftp.queue.core.windows.net/","primary_queue_host":"pdhprodsftp.queue.core.windows.net","primary_table_endpoint":"https://pdhprodsftp.table.core.windows.net/","primary_table_host":"pdhprodsftp.table.core.windows.net","primary_web_endpoint":"https://pdhprodsftp.z13.web.core.windows.net/","primary_web_host":"pdhprodsftp.z13.web.core.windows.net","queue_encryption_key_type":"Service","queue_properties":[{"cors_rule":[],"hour_metrics":[{"enabled":true,"include_apis":true,"retention_policy_days":7,"version":"1.0"}],"logging":[{"delete":false,"read":false,"retention_policy_days":0,"version":"1.0","write":false}],"minute_metrics":[{"enabled":false,"include_apis":false,"retention_policy_days":0,"version":"1.0"}]}],"resource_group_name":"prime-data-hub-prod","routing":[],"secondary_access_key":"xs86NflGkbEp5nE9C2k8MJPqGMtIL7yPxMQ5BGTepBJaDYPwEhMKEKm+5bsYzjsXzt8xc2c+zL05+AStXehc6g==","secondary_blob_connection_string":"","secondary_blob_endpoint":null,"secondary_blob_host":null,"secondary_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodsftp;AccountKey=xs86NflGkbEp5nE9C2k8MJPqGMtIL7yPxMQ5BGTepBJaDYPwEhMKEKm+5bsYzjsXzt8xc2c+zL05+AStXehc6g==;EndpointSuffix=core.windows.net","secondary_dfs_endpoint":null,"secondary_dfs_host":null,"secondary_file_endpoint":null,"secondary_file_host":null,"secondary_location":"westus","secondary_queue_endpoint":null,"secondary_queue_host":null,"secondary_table_endpoint":null,"secondary_table_host":null,"secondary_web_endpoint":null,"secondary_web_host":null,"share_properties":[{"cors_rule":[],"retention_policy":[{"days":7}],"smb":[]}],"shared_access_key_enabled":true,"static_website":[],"table_encryption_key_type":"Service","tags":{"environment":"prod"},"timeouts":null},"sensitive_values":{"azure_files_authentication":[],"blob_properties":[{"container_delete_retention_policy":[],"cors_rule":[],"delete_retention_policy":[]}],"custom_domain":[],"customer_managed_key":[],"identity":[],"network_rules":[{"bypass":[false],"ip_rules":true,"private_link_access":[],"virtual_network_subnet_ids":[]}],"queue_properties":[{"cors_rule":[],"hour_metrics":[{}],"logging":[{}],"minute_metrics":[{}]}],"routing":[],"share_properties":[{"cors_rule":[],"retention_policy":[{}],"smb":[]}],"static_website":[],"tags":{}},"depends_on":["module.ssh.data.external.sftp_ssh_query"]},{"address":"module.sftp.azurerm_storage_share.sftp_admin","mode":"managed","type":"azurerm_storage_share","name":"sftp_admin","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"acl":[],"enabled_protocol":"SMB","id":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp-admin-share","metadata":{},"name":"pdhprod-sftp-admin-share","quota":1,"resource_manager_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodsftp/fileServices/default/fileshares/pdhprod-sftp-admin-share","storage_account_name":"pdhprodsftp","timeouts":null,"url":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp-admin-share"},"sensitive_values":{"acl":[],"metadata":{}},"depends_on":["module.sftp.azurerm_storage_account.sftp","module.ssh.data.external.sftp_ssh_query"]},{"address":"module.sftp.azurerm_storage_share.sftp_scripts","mode":"managed","type":"azurerm_storage_share","name":"sftp_scripts","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"acl":[],"enabled_protocol":"SMB","id":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp-scripts-share","metadata":{},"name":"pdhprod-sftp-scripts-share","quota":1,"resource_manager_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodsftp/fileServices/default/fileshares/pdhprod-sftp-scripts-share","storage_account_name":"pdhprodsftp","timeouts":null,"url":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp-scripts-share"},"sensitive_values":{"acl":[],"metadata":{}},"depends_on":["module.sftp.azurerm_storage_account.sftp","module.ssh.data.external.sftp_ssh_query"]},{"address":"module.sftp.azurerm_storage_share_file.sftp","mode":"managed","type":"azurerm_storage_share_file","name":"sftp","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"content_disposition":"","content_encoding":"","content_length":209,"content_md5":"","content_type":"application/octet-stream","id":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp-scripts-share//startup.sh","metadata":{},"name":"startup.sh","path":"","source":"../../../../../.environment/sftp/startup.sh","storage_share_id":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp-scripts-share","timeouts":null},"sensitive_values":{"metadata":{}},"depends_on":["module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_scripts","module.ssh.data.external.sftp_ssh_query"]},{"address":"module.sftp.data.azurerm_subnet.container_subnet","mode":"data","type":"azurerm_subnet","name":"container_subnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefix":"172.17.7.16/28","address_prefixes":["172.17.7.16/28"],"enforce_private_link_endpoint_network_policies":false,"enforce_private_link_service_network_policies":false,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/container","name":"container","network_security_group_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkSecurityGroups/pdhprod-eastus-nsg.public","resource_group_name":"prime-data-hub-prod","route_table_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/IAM-Prod-1/providers/Microsoft.Network/routeTables/IAM_DMZ-RT","service_endpoints":["Microsoft.Storage","Microsoft.KeyVault"],"timeouts":null,"virtual_network_name":"pdhprod-East-vnet"},"sensitive_values":{"address_prefixes":[false],"service_endpoints":[false,false]}}],"address":"module.sftp","child_modules":[{"resources":[{"address":"module.sftp.module.instance[\"sftp01\"].azurerm_container_group.sftp","mode":"managed","type":"azurerm_container_group","name":"sftp","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"container":[{"commands":[],"cpu":2,"environment_variables":{"SFTP_USERS":"aegis:::100 mayo:::100 quest:::100 sonic:::100"},"gpu":[],"image":"atmoz/sftp:latest","liveness_probe":[],"memory":4,"name":"sftp-source","ports":[{"port":22,"protocol":"TCP"}],"readiness_probe":[],"secure_environment_variables":{},"volume":[{"empty_dir":false,"git_repo":[],"mount_path":"/etc/sftpadmin","name":"sftpadmin","read_only":false,"secret":{},"share_name":"pdhprod-sftp-admin-share","storage_account_key":"fF3M2zYQa34JFh+oEdsHvCMUOLsOoWj/shQ5LnDkt1wSOjSLTKCQY2n7SAcJ++mWLAmil3y6tKSH+AStnb6B7w==","storage_account_name":"pdhprodsftp"},{"empty_dir":false,"git_repo":[],"mount_path":"/etc/sftp.d","name":"sftpscripts","read_only":false,"secret":{},"share_name":"pdhprod-sftp-scripts-share","storage_account_key":"fF3M2zYQa34JFh+oEdsHvCMUOLsOoWj/shQ5LnDkt1wSOjSLTKCQY2n7SAcJ++mWLAmil3y6tKSH+AStnb6B7w==","storage_account_name":"pdhprodsftp"},{"empty_dir":false,"git_repo":[],"mount_path":"/home/aegis/.ssh/keys","name":"sftpuserauthaegis","read_only":true,"secret":{"ssh":"c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFCZ1FDMW1SaHpEbGJVZGtYMHhRZWJjSmU3Q1pIdTlCMFJFeXRkRmdadDZrdXRxVTJlU01jVmI4UWNic2hubzdEYzdwbWVJVHY4alAxWnVVb3VxTG9QbERuTnpuUzhUN0poOEdzeVRxZzZxakFKWkJVRWd2OHV5WDNOMmdEY2UrdmlPS3A0MXNycTFUeW1rOWV2eS8wclZabHhlTTg5M1Azc0piWENHODVjOG85MkpGejdaOVF5cU5qRjdieWZCRGdkcU9UdmxMR2U1WVhrS01nQXpNOXFqSzRvNXRyV3ZLZHJJZlprNWZiUGFkSkxFM1lrcUFFakVnOXVza1RWd2hGdUZoQVZiOHM0WHgyNzRQRmVvL1NZaXUvZkdRcXBWbDBpTUtrN1o2NG1mS3B3M0JtcmFVVlBOM0VrQ09MajVRV3Y4TUVnc3F3SzZsWDhpMUxUMVp6Y2xTVWhIMS8yTUhrWk55U21BWXBRQXlqdHZwcCtNQ1JhSkRhSy9ldFJsYUxCckZJM0JLOHNYTHE5YkpkRmFZalY2YU9xTFQ5WnpwOTlzL1hZaTcyVW1ZUjJCdGhMTlFYYVRsOEw0QkV0anFMaTZFUm9HenpVK1p4SGZjMi9XN2orRDREejdIbjQwWVVpbGc3Q3B0Tk9NN1VSdm1rdXEyVUtXVDc4OTVpZjdiKzFJd2s9IGdlbmVyYXRlZC1ieS1henVyZQ=="},"share_name":"","storage_account_key":"","storage_account_name":""},{"empty_dir":false,"git_repo":[],"mount_path":"/home/mayo/.ssh/keys","name":"sftpuserauthmayo","read_only":true,"secret":{"ssh":"c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFCZ1FESWprcHlJZWtBc1VTR3NqekI4MEtoWTh0b1dTQmduNXNEZGlQQjZnMDdRamdnVVZacmdrMmFnNGE1M0UrRVluMkhuOG1GV0RETElBRFJpaXgzdGI4UFd5QUxURTVWNjFvdkhwZVNGQ0hVSS9XNWQ3cnhTS1JrVjFXMTFrRTRMV3dnR1FPSE82d09TNXBhSlF3RzZIMHp6UFo1cWdvbmFQbnA0KzlONnR4WThKd1o4eUljMXByZ0l4cTZTN040c01UdWVQd3hUWFZRM282TVE2a2FxV1V3VUFidjBRWHpFalpiMUZ6ZFRLUzdUMXNUVEozR2duOG13YmJFRW1NdHQ5TkFPNTFGOUtRVkhWamlxK1Y5U0c5anJERng0M3JIeStkTVFlTjBDNUZtRGo5OXNXd3U0TWxhL3ltYmM3Z1RtMEJBeWVGNEdWVXAveEdLeUtmWU52TjZhUExVSUZqWmNpeDYwN0ZSZGJHR2hwMXZaRmMxNkU4cTFSNmIxdWdXQW8wOXV0KzM3Tjc2ajJZRUF6dWVXbEljUTBITzhadnFtWC92ZGJWVlBZN1pFU0xaeTZTTHpDVVZkNHRrWVFJMkdQeDNmMDNsM015SWxKYWhhaDJKQzc4M2hVQlNMTkVBV1FnR3dmZkxyVlA5R3pEWFcxSW1sZzdXa2UzU3l6WGVUOTA9IGdlbmVyYXRlZC1ieS1henVyZQ=="},"share_name":"","storage_account_key":"","storage_account_name":""},{"empty_dir":false,"git_repo":[],"mount_path":"/home/quest/.ssh/keys","name":"sftpuserauthquest","read_only":true,"secret":{"ssh":"c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFCZ1FDMGpwZFBIUEhXN1lDdEhVTEtnQzRQNk9ndytOZVZTQnpsZS9zUFN3R1dFZWtkTER3L1Y0dWh5WGNya1FjNU5vMnA5UmsrNkY1YlpmaEV4M1NRbE0vRXVMWUVaWndxSUY5eFF4cHAxYWRvMlhlWXpTbGorU2xjU1VMNHp2MGZ2QjRYNlMyZnFoQS9DU1Z4QmRUMWx1RzBzS1ZwcHRFZlZqZWkyd3h0NTRUb0xiNTluWHVzVkRUQmlhN1hIUVV4S01JV3JIYUdOemIrQTFNbXlWdlZXTXVWb25VYk45andJU0dKOHZOSmYxVlFndUVybmwyZm5ZbUNVa2R6NFNvdDZTTVZlM0NpUElGenFZRFBkOWZsU2ZoUmVUSXgrLzIzSE1uWWpSV05Seko0YjlHbnk1cHRlNEd6bHlsUmY3Y0l3SnRaWXE1V3FFcHFsaUZ3b0ZYbFBjSkxaU28xMUJiRWVQYnJ5amVlaUNJSjNSU28zLzhxNmE0b2kwS2Q4N25rSUtVWmxtVzUzcHZlVnV0T01WS1gvY0txNTNGM1I0eXFOZit5RlFxd0I4aXQ0UmZycFJBS2lwZGJwNXBnd0pPSnRaK2xWYjJydS82Myt3Z2hBTGpoUlRCRUprTnovMy92NG1jc3NOR0lwejhRZVZFaWVJNzMwNzZyZGVzK3FJMlp0bms9IGdlbmVyYXRlZC1ieS1henVyZQ=="},"share_name":"","storage_account_key":"","storage_account_name":""},{"empty_dir":false,"git_repo":[],"mount_path":"/home/sonic/.ssh/keys","name":"sftpuserauthsonic","read_only":true,"secret":{"ssh":"c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFCZ1FDODlSNnFldzVBQ3BwanA1V1E2Y3lybFB2aDI5d1FzbXJaQXpVZ00vdW80UkMrbDQxa3NRaHZQVTFGNUVVZDJxa3VXeUF5ckVNREtxOSsxbzE3dkpyOTJUSC9rUWttZGFNVWpzUlpaL3FKUG9wYm9vWHRYUWtRY1N6TWFKV2YvMWVveWI1YzRSUjNQQjdPL1dKd2RzSmQ0ZUFsd29QUFZ4RDVSWTlqRGJZRE1NWTdCd1JHbC92R2haclpVa2xCcGI1ZnhFWXdzbXQwekJ5VitkYXQyQkYwSFJueko5S3llV0k0NTcvYnFDeFVNVFpFbXdXL1RoeGRwNXlHbU1aWURTWURnWllGTTJLYWp2Qjk2bXlraEVWSkFGZ1l6NUozK0I5a2VwaUdoSmh3ak5OazdDNVBVNDZtTmN5bWY0L0lFSVM2VjZVS2l5bVFBUGgxUm5xK1lXaGRjUldQZHl2UlRxWERTVzdteVFUbUdyeXhKeXo3cXMwbXJYbTVvTU9LNmpuMjFvNkxvU1dIdzU1Rzl5aS9TUnRzb3ltaWQwOXRyYU14UVZINXpFVWRtT1paUHQ2bTNCVGgwcU0rUkREZ2tKOFNTeXVaZFJLMDhkWWZ4VDlXUFBOZ1ZwMVl4b2ZJekhsR1padXBkYkFSd25lQ1lTNDQ2MktJem1RMXRUN1FMRFU9IGdlbmVyYXRlZC1ieS1henVyZQ=="},"share_name":"","storage_account_key":"","storage_account_name":""},{"empty_dir":false,"git_repo":[],"mount_path":"/home/aegis/uploads","name":"sftpvolumeaegis","read_only":false,"secret":{},"share_name":"pdhprod-sftp01-share-aegis","storage_account_key":"fF3M2zYQa34JFh+oEdsHvCMUOLsOoWj/shQ5LnDkt1wSOjSLTKCQY2n7SAcJ++mWLAmil3y6tKSH+AStnb6B7w==","storage_account_name":"pdhprodsftp"},{"empty_dir":false,"git_repo":[],"mount_path":"/home/mayo/uploads","name":"sftpvolumemayo","read_only":false,"secret":{},"share_name":"pdhprod-sftp01-share-mayo","storage_account_key":"fF3M2zYQa34JFh+oEdsHvCMUOLsOoWj/shQ5LnDkt1wSOjSLTKCQY2n7SAcJ++mWLAmil3y6tKSH+AStnb6B7w==","storage_account_name":"pdhprodsftp"},{"empty_dir":false,"git_repo":[],"mount_path":"/home/quest/uploads","name":"sftpvolumequest","read_only":false,"secret":{},"share_name":"pdhprod-sftp01-share-quest","storage_account_key":"fF3M2zYQa34JFh+oEdsHvCMUOLsOoWj/shQ5LnDkt1wSOjSLTKCQY2n7SAcJ++mWLAmil3y6tKSH+AStnb6B7w==","storage_account_name":"pdhprodsftp"},{"empty_dir":false,"git_repo":[],"mount_path":"/home/sonic/uploads","name":"sftpvolumesonic","read_only":false,"secret":{},"share_name":"pdhprod-sftp01-share-sonic","storage_account_key":"fF3M2zYQa34JFh+oEdsHvCMUOLsOoWj/shQ5LnDkt1wSOjSLTKCQY2n7SAcJ++mWLAmil3y6tKSH+AStnb6B7w==","storage_account_name":"pdhprodsftp"}]}],"diagnostics":[],"dns_config":[],"dns_name_label":"pdhprod-sftp01","exposed_port":[{"port":22,"protocol":"TCP"}],"fqdn":"pdhprod-sftp01.eastus.azurecontainer.io","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.ContainerInstance/containerGroups/pdhprod-sftp01-continst","identity":[{"identity_ids":[],"principal_id":"39cf1093-2e06-40b1-99ef-39f7201ef98b","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"image_registry_credential":[],"ip_address":"52.191.22.255","ip_address_type":"Public","location":"eastus","name":"pdhprod-sftp01-continst","network_profile_id":null,"os_type":"Linux","resource_group_name":"prime-data-hub-prod","restart_policy":"Always","tags":{"environment":"prod"},"timeouts":null},"sensitive_values":{"container":[{"commands":[],"environment_variables":{},"gpu":[],"liveness_probe":[],"ports":[{}],"readiness_probe":[],"secure_environment_variables":{},"volume":[{"git_repo":[],"secret":{},"storage_account_key":true},{"git_repo":[],"secret":{},"storage_account_key":true},{"git_repo":[],"secret":{}},{"git_repo":[],"secret":{}},{"git_repo":[],"secret":{}},{"git_repo":[],"secret":{}},{"git_repo":[],"secret":{},"storage_account_key":true},{"git_repo":[],"secret":{},"storage_account_key":true},{"git_repo":[],"secret":{},"storage_account_key":true},{"git_repo":[],"secret":{},"storage_account_key":true}]}],"diagnostics":[],"dns_config":[],"exposed_port":[{}],"identity":[{"identity_ids":[]}],"image_registry_credential":[],"tags":{}},"depends_on":["module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.sftp.module.instance.azurerm_storage_share.sftp","module.sftp.module.instance.data.azurerm_ssh_public_key.sftp","module.ssh.data.external.sftp_ssh_query"]},{"address":"module.sftp.module.instance[\"sftp01\"].azurerm_storage_share.sftp[\"aegis\"]","mode":"managed","type":"azurerm_storage_share","name":"sftp","index":"aegis","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"acl":[],"enabled_protocol":"SMB","id":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp01-share-aegis","metadata":{},"name":"pdhprod-sftp01-share-aegis","quota":50,"resource_manager_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodsftp/fileServices/default/fileshares/pdhprod-sftp01-share-aegis","storage_account_name":"pdhprodsftp","timeouts":null,"url":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp01-share-aegis"},"sensitive_values":{"acl":[],"metadata":{}},"depends_on":["module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.ssh.data.external.sftp_ssh_query"]},{"address":"module.sftp.module.instance[\"sftp01\"].azurerm_storage_share.sftp[\"mayo\"]","mode":"managed","type":"azurerm_storage_share","name":"sftp","index":"mayo","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"acl":[],"enabled_protocol":"SMB","id":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp01-share-mayo","metadata":{},"name":"pdhprod-sftp01-share-mayo","quota":50,"resource_manager_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodsftp/fileServices/default/fileshares/pdhprod-sftp01-share-mayo","storage_account_name":"pdhprodsftp","timeouts":null,"url":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp01-share-mayo"},"sensitive_values":{"acl":[],"metadata":{}},"depends_on":["module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.ssh.data.external.sftp_ssh_query"]},{"address":"module.sftp.module.instance[\"sftp01\"].azurerm_storage_share.sftp[\"quest\"]","mode":"managed","type":"azurerm_storage_share","name":"sftp","index":"quest","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"acl":[],"enabled_protocol":"SMB","id":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp01-share-quest","metadata":{},"name":"pdhprod-sftp01-share-quest","quota":50,"resource_manager_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodsftp/fileServices/default/fileshares/pdhprod-sftp01-share-quest","storage_account_name":"pdhprodsftp","timeouts":null,"url":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp01-share-quest"},"sensitive_values":{"acl":[],"metadata":{}},"depends_on":["module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.ssh.data.external.sftp_ssh_query"]},{"address":"module.sftp.module.instance[\"sftp01\"].azurerm_storage_share.sftp[\"sonic\"]","mode":"managed","type":"azurerm_storage_share","name":"sftp","index":"sonic","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"acl":[],"enabled_protocol":"SMB","id":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp01-share-sonic","metadata":{},"name":"pdhprod-sftp01-share-sonic","quota":50,"resource_manager_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodsftp/fileServices/default/fileshares/pdhprod-sftp01-share-sonic","storage_account_name":"pdhprodsftp","timeouts":null,"url":"https://pdhprodsftp.file.core.windows.net/pdhprod-sftp01-share-sonic"},"sensitive_values":{"acl":[],"metadata":{}},"depends_on":["module.sftp.azurerm_storage_account.sftp","module.sftp.azurerm_storage_share.sftp_scripts","module.sftp.azurerm_storage_share_file.sftp","module.ssh.data.external.sftp_ssh_query"]},{"address":"module.sftp.module.instance[\"sftp01\"].data.azurerm_ssh_public_key.sftp[\"sftp01-aegis\"]","mode":"data","type":"azurerm_ssh_public_key","name":"sftp","index":"sftp01-aegis","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Compute/sshPublicKeys/pdhprod-sftp01-aegis","name":"pdhprod-sftp01-aegis","public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC1mRhzDlbUdkX0xQebcJe7CZHu9B0REytdFgZt6kutqU2eSMcVb8Qcbshno7Dc7pmeITv8jP1ZuUouqLoPlDnNznS8T7Jh8GsyTqg6qjAJZBUEgv8uyX3N2gDce+viOKp41srq1Tymk9evy/0rVZlxeM893P3sJbXCG85c8o92JFz7Z9QyqNjF7byfBDgdqOTvlLGe5YXkKMgAzM9qjK4o5trWvKdrIfZk5fbPadJLE3YkqAEjEg9uskTVwhFuFhAVb8s4Xx274PFeo/SYiu/fGQqpVl0iMKk7Z64mfKpw3BmraUVPN3EkCOLj5QWv8MEgsqwK6lX8i1LT1ZzclSUhH1/2MHkZNySmAYpQAyjtvpp+MCRaJDaK/etRlaLBrFI3BK8sXLq9bJdFaYjV6aOqLT9Zzp99s/XYi72UmYR2BthLNQXaTl8L4BEtjqLi6ERoGzzU+ZxHfc2/W7j+D4Dz7Hn40YUilg7CptNOM7URvmkuq2UKWT7895if7b+1Iwk= generated-by-azure","resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":null},"sensitive_values":{"tags":{}}},{"address":"module.sftp.module.instance[\"sftp01\"].data.azurerm_ssh_public_key.sftp[\"sftp01-mayo\"]","mode":"data","type":"azurerm_ssh_public_key","name":"sftp","index":"sftp01-mayo","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Compute/sshPublicKeys/pdhprod-sftp01-mayo","name":"pdhprod-sftp01-mayo","public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDIjkpyIekAsUSGsjzB80KhY8toWSBgn5sDdiPB6g07QjggUVZrgk2ag4a53E+EYn2Hn8mFWDDLIADRiix3tb8PWyALTE5V61ovHpeSFCHUI/W5d7rxSKRkV1W11kE4LWwgGQOHO6wOS5paJQwG6H0zzPZ5qgonaPnp4+9N6txY8JwZ8yIc1prgIxq6S7N4sMTuePwxTXVQ3o6MQ6kaqWUwUAbv0QXzEjZb1FzdTKS7T1sTTJ3Ggn8mwbbEEmMtt9NAO51F9KQVHVjiq+V9SG9jrDFx43rHy+dMQeN0C5FmDj99sWwu4Mla/ymbc7gTm0BAyeF4GVUp/xGKyKfYNvN6aPLUIFjZcix607FRdbGGhp1vZFc16E8q1R6b1ugWAo09ut+37N76j2YEAzueWlIcQ0HO8ZvqmX/vdbVVPY7ZESLZy6SLzCUVd4tkYQI2GPx3f03l3MyIlJahah2JC783hUBSLNEAWQgGwffLrVP9GzDXW1Imlg7Wke3SyzXeT90= generated-by-azure","resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":null},"sensitive_values":{"tags":{}}},{"address":"module.sftp.module.instance[\"sftp01\"].data.azurerm_ssh_public_key.sftp[\"sftp01-quest\"]","mode":"data","type":"azurerm_ssh_public_key","name":"sftp","index":"sftp01-quest","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Compute/sshPublicKeys/pdhprod-sftp01-quest","name":"pdhprod-sftp01-quest","public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC0jpdPHPHW7YCtHULKgC4P6Ogw+NeVSBzle/sPSwGWEekdLDw/V4uhyXcrkQc5No2p9Rk+6F5bZfhEx3SQlM/EuLYEZZwqIF9xQxpp1ado2XeYzSlj+SlcSUL4zv0fvB4X6S2fqhA/CSVxBdT1luG0sKVpptEfVjei2wxt54ToLb59nXusVDTBia7XHQUxKMIWrHaGNzb+A1MmyVvVWMuVonUbN9jwISGJ8vNJf1VQguErnl2fnYmCUkdz4Sot6SMVe3CiPIFzqYDPd9flSfhReTIx+/23HMnYjRWNRzJ4b9Gny5pte4GzlylRf7cIwJtZYq5WqEpqliFwoFXlPcJLZSo11BbEePbryjeeiCIJ3RSo3/8q6a4oi0Kd87nkIKUZlmW53pveVutOMVKX/cKq53F3R4yqNf+yFQqwB8it4RfrpRAKipdbp5pgwJOJtZ+lVb2ru/63+wghALjhRTBEJkNz/3/v4mcssNGIpz8QeVEieI73076rdes+qI2Ztnk= generated-by-azure","resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":null},"sensitive_values":{"tags":{}}},{"address":"module.sftp.module.instance[\"sftp01\"].data.azurerm_ssh_public_key.sftp[\"sftp01-sonic\"]","mode":"data","type":"azurerm_ssh_public_key","name":"sftp","index":"sftp01-sonic","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Compute/sshPublicKeys/pdhprod-sftp01-sonic","name":"pdhprod-sftp01-sonic","public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC89R6qew5ACppjp5WQ6cyrlPvh29wQsmrZAzUgM/uo4RC+l41ksQhvPU1F5EUd2qkuWyAyrEMDKq9+1o17vJr92TH/kQkmdaMUjsRZZ/qJPopbooXtXQkQcSzMaJWf/1eoyb5c4RR3PB7O/WJwdsJd4eAlwoPPVxD5RY9jDbYDMMY7BwRGl/vGhZrZUklBpb5fxEYwsmt0zByV+dat2BF0HRnzJ9KyeWI457/bqCxUMTZEmwW/Thxdp5yGmMZYDSYDgZYFM2KajvB96mykhEVJAFgYz5J3+B9kepiGhJhwjNNk7C5PU46mNcymf4/IEIS6V6UKiymQAPh1Rnq+YWhdcRWPdyvRTqXDSW7myQTmGryxJyz7qs0mrXm5oMOK6jn21o6LoSWHw55G9yi/SRtsoymid09traMxQVH5zEUdmOZZPt6m3BTh0qM+RDDgkJ8SSyuZdRK08dYfxT9WPPNgVp1YxofIzHlGZZupdbARwneCYS4462KIzmQ1tT7QLDU= generated-by-azure","resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":null},"sensitive_values":{"tags":{}}}],"address":"module.sftp.module.instance[\"sftp01\"]"}]},{"resources":[{"address":"module.ssh.data.external.sftp_ssh_query","mode":"data","type":"external","name":"sftp_ssh_query","provider_name":"registry.terraform.io/hashicorp/external","schema_version":0,"values":{"id":"-","program":["bash","../../../../../.environment/sftp/get_ssh_list.sh"],"query":{"environment":"prod"},"result":{"instances":"[\"sftp01\"]","ssh":"[{\"instance\":\"sftp01\",\"user\":\"sonic\"},{\"instance\":\"sftp01\",\"user\":\"quest\"},{\"instance\":\"sftp01\",\"user\":\"mayo\"},{\"instance\":\"sftp01\",\"user\":\"aegis\"}]","sshgroups":"[{\"sftp01\":[\"sonic\",\"quest\",\"mayo\",\"aegis\"]}]","sshnames":"[\"pdhprod-sftp01-aegis\",\"pdhprod-sftp01-mayo\",\"pdhprod-sftp01-quest\",\"pdhprod-sftp01-sonic\"]"},"working_dir":null},"sensitive_values":{"program":[false,false],"query":{},"result":{}}}],"address":"module.ssh"},{"resources":[{"address":"module.storage.azurerm_key_vault_access_policy.storage_candidate_partner_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"storage_candidate_partner_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault/objectId/0d457d84-45ac-41a6-b01e-c575c09a0bd4","key_permissions":["Get","UnwrapKey","WrapKey"],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","object_id":"0d457d84-45ac-41a6-b01e-c575c09a0bd4","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[],"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_partner_candidate","module.storage.data.azurerm_client_config.current","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.key_vault.data.azurerm_key_vault.application","module.network.data.azurerm_subnet.container_subnet"]},{"address":"module.storage.azurerm_key_vault_access_policy.storage_partner_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"storage_partner_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault/objectId/aeb452e8-8896-42b4-900a-5e8697bc6b42","key_permissions":["Get","UnwrapKey","WrapKey"],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","object_id":"aeb452e8-8896-42b4-900a-5e8697bc6b42","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[],"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.west_vnet","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.key_vault.data.azurerm_key_vault.application","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_partner","module.storage.data.azurerm_client_config.current","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.storage.data.azurerm_key_vault.application"]},{"address":"module.storage.azurerm_key_vault_access_policy.storage_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"storage_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault/objectId/ee41164d-ee3a-441d-ab5c-66d38aeec5ea","key_permissions":["Get","UnwrapKey","WrapKey"],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","object_id":"ee41164d-ee3a-441d-ab5c-66d38aeec5ea","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[],"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account","module.network.data.azurerm_subnet.west_vnet","module.storage.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.application","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.vnet"]},{"address":"module.storage.azurerm_key_vault_access_policy.storage_policy_candidate","mode":"managed","type":"azurerm_key_vault_access_policy","name":"storage_policy_candidate","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"application_id":null,"certificate_permissions":[],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault/objectId/d8180f03-ad15-46dc-9595-4fa0fdce9544","key_permissions":["Get","UnwrapKey","WrapKey"],"key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","object_id":"d8180f03-ad15-46dc-9595-4fa0fdce9544","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[],"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.storage.data.azurerm_client_config.current","module.key_vault.data.azurerm_key_vault.application","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account_candidate"]},{"address":"module.storage.azurerm_storage_account.storage_account","mode":"managed","type":"azurerm_storage_account","name":"storage_account","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"access_tier":"Hot","account_kind":"StorageV2","account_replication_type":"GRS","account_tier":"Standard","allow_blob_public_access":false,"azure_files_authentication":[],"blob_properties":[{"change_feed_enabled":true,"container_delete_retention_policy":[{"days":7}],"cors_rule":[],"default_service_version":"","delete_retention_policy":[{"days":7}],"last_access_time_enabled":false,"versioning_enabled":true}],"custom_domain":[],"customer_managed_key":[{"key_vault_key_id":"https://pdhprod-keyvault.vault.azure.net/keys/pdhprod-4096-key","user_assigned_identity_id":""}],"enable_https_traffic_only":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount","identity":[{"identity_ids":[],"principal_id":"ee41164d-ee3a-441d-ab5c-66d38aeec5ea","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"infrastructure_encryption_enabled":false,"is_hns_enabled":false,"large_file_share_enabled":null,"location":"eastus","min_tls_version":"TLS1_2","name":"pdhprodstorageaccount","network_rules":[{"bypass":["AzureServices"],"default_action":"Deny","ip_rules":["136.226.19.84","152.208.24.245","158.111.123.0/25","158.111.149.25","158.111.21.0/24","173.66.222.21","208.38.230.5","24.163.118.70","45.26.16.41","45.37.194.58","71.255.242.62","72.83.56.161","75.191.122.59"],"private_link_access":[],"virtual_network_subnet_ids":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public"]}],"nfsv3_enabled":false,"primary_access_key":"f/DHVl973PpCVbefY5mdfuUxUZQsb7y/Zmz7AZo5INS6rCH5lG3wpqYKV2u3LyFV8mNgoUtVulh631dE1+M7HQ==","primary_blob_connection_string":"DefaultEndpointsProtocol=https;BlobEndpoint=https://pdhprodstorageaccount.blob.core.windows.net/;AccountName=pdhprodstorageaccount;AccountKey=f/DHVl973PpCVbefY5mdfuUxUZQsb7y/Zmz7AZo5INS6rCH5lG3wpqYKV2u3LyFV8mNgoUtVulh631dE1+M7HQ==","primary_blob_endpoint":"https://pdhprodstorageaccount.blob.core.windows.net/","primary_blob_host":"pdhprodstorageaccount.blob.core.windows.net","primary_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodstorageaccount;AccountKey=f/DHVl973PpCVbefY5mdfuUxUZQsb7y/Zmz7AZo5INS6rCH5lG3wpqYKV2u3LyFV8mNgoUtVulh631dE1+M7HQ==;EndpointSuffix=core.windows.net","primary_dfs_endpoint":"https://pdhprodstorageaccount.dfs.core.windows.net/","primary_dfs_host":"pdhprodstorageaccount.dfs.core.windows.net","primary_file_endpoint":"https://pdhprodstorageaccount.file.core.windows.net/","primary_file_host":"pdhprodstorageaccount.file.core.windows.net","primary_location":"eastus","primary_queue_endpoint":"https://pdhprodstorageaccount.queue.core.windows.net/","primary_queue_host":"pdhprodstorageaccount.queue.core.windows.net","primary_table_endpoint":"https://pdhprodstorageaccount.table.core.windows.net/","primary_table_host":"pdhprodstorageaccount.table.core.windows.net","primary_web_endpoint":"https://pdhprodstorageaccount.z13.web.core.windows.net/","primary_web_host":"pdhprodstorageaccount.z13.web.core.windows.net","queue_encryption_key_type":"Service","queue_properties":[{"cors_rule":[],"hour_metrics":[{"enabled":true,"include_apis":true,"retention_policy_days":7,"version":"1.0"}],"logging":[{"delete":false,"read":false,"retention_policy_days":0,"version":"1.0","write":false}],"minute_metrics":[{"enabled":false,"include_apis":false,"retention_policy_days":0,"version":"1.0"}]}],"resource_group_name":"prime-data-hub-prod","routing":[],"secondary_access_key":"aaAf4KnS1ct9fjC5wTaplVtyL/lS3OJrcTjavkH8sDFFO3Sxyl25mdu0YHw9A7py+2SNa9o/v7VzsLKgUzsRFQ==","secondary_blob_connection_string":"","secondary_blob_endpoint":null,"secondary_blob_host":null,"secondary_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodstorageaccount;AccountKey=aaAf4KnS1ct9fjC5wTaplVtyL/lS3OJrcTjavkH8sDFFO3Sxyl25mdu0YHw9A7py+2SNa9o/v7VzsLKgUzsRFQ==;EndpointSuffix=core.windows.net","secondary_dfs_endpoint":null,"secondary_dfs_host":null,"secondary_file_endpoint":null,"secondary_file_host":null,"secondary_location":"westus","secondary_queue_endpoint":null,"secondary_queue_host":null,"secondary_table_endpoint":null,"secondary_table_host":null,"secondary_web_endpoint":null,"secondary_web_host":null,"share_properties":[],"shared_access_key_enabled":true,"static_website":[],"table_encryption_key_type":"Service","tags":{"environment":"prod"},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"azure_files_authentication":[],"blob_properties":[{"container_delete_retention_policy":[{}],"cors_rule":[],"delete_retention_policy":[{}]}],"custom_domain":[],"customer_managed_key":[{}],"identity":[{"identity_ids":[]}],"network_rules":[{"bypass":[false],"ip_rules":[false,false,false,false,false,false,false,false,false,false,false,false,false],"private_link_access":[],"virtual_network_subnet_ids":[false,false,false,false,false,false]}],"queue_properties":[{"cors_rule":[],"hour_metrics":[{}],"logging":[{}],"minute_metrics":[{}]}],"routing":[],"share_properties":[],"static_website":[],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.postgres_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet"]},{"address":"module.storage.azurerm_storage_account.storage_account_candidate","mode":"managed","type":"azurerm_storage_account","name":"storage_account_candidate","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"access_tier":"Hot","account_kind":"StorageV2","account_replication_type":"GRS","account_tier":"Standard","allow_blob_public_access":false,"azure_files_authentication":[],"blob_properties":[{"change_feed_enabled":false,"container_delete_retention_policy":[],"cors_rule":[],"default_service_version":"","delete_retention_policy":[],"last_access_time_enabled":false,"versioning_enabled":false}],"custom_domain":[],"customer_managed_key":[{"key_vault_key_id":"https://pdhprod-keyvault.vault.azure.net/keys/pdhprod-4096-key","user_assigned_identity_id":""}],"enable_https_traffic_only":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandidate","identity":[{"identity_ids":[],"principal_id":"d8180f03-ad15-46dc-9595-4fa0fdce9544","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"infrastructure_encryption_enabled":false,"is_hns_enabled":false,"large_file_share_enabled":null,"location":"eastus","min_tls_version":"TLS1_2","name":"pdhprodcandidate","network_rules":[{"bypass":["None"],"default_action":"Deny","ip_rules":["158.111.123.0/25","158.111.21.0/24"],"private_link_access":[],"virtual_network_subnet_ids":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public"]}],"nfsv3_enabled":false,"primary_access_key":"cRGqrkKhci0+8S0ihDRXqwC/5BUSMt6oyzdYmVfokJDYT7JiN1NK6Ivrl8Xrww5ZbKbRzUP1V+AM3gdjwhKVYw==","primary_blob_connection_string":"DefaultEndpointsProtocol=https;BlobEndpoint=https://pdhprodcandidate.blob.core.windows.net/;AccountName=pdhprodcandidate;AccountKey=cRGqrkKhci0+8S0ihDRXqwC/5BUSMt6oyzdYmVfokJDYT7JiN1NK6Ivrl8Xrww5ZbKbRzUP1V+AM3gdjwhKVYw==","primary_blob_endpoint":"https://pdhprodcandidate.blob.core.windows.net/","primary_blob_host":"pdhprodcandidate.blob.core.windows.net","primary_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodcandidate;AccountKey=cRGqrkKhci0+8S0ihDRXqwC/5BUSMt6oyzdYmVfokJDYT7JiN1NK6Ivrl8Xrww5ZbKbRzUP1V+AM3gdjwhKVYw==;EndpointSuffix=core.windows.net","primary_dfs_endpoint":"https://pdhprodcandidate.dfs.core.windows.net/","primary_dfs_host":"pdhprodcandidate.dfs.core.windows.net","primary_file_endpoint":"https://pdhprodcandidate.file.core.windows.net/","primary_file_host":"pdhprodcandidate.file.core.windows.net","primary_location":"eastus","primary_queue_endpoint":"https://pdhprodcandidate.queue.core.windows.net/","primary_queue_host":"pdhprodcandidate.queue.core.windows.net","primary_table_endpoint":"https://pdhprodcandidate.table.core.windows.net/","primary_table_host":"pdhprodcandidate.table.core.windows.net","primary_web_endpoint":"https://pdhprodcandidate.z13.web.core.windows.net/","primary_web_host":"pdhprodcandidate.z13.web.core.windows.net","queue_encryption_key_type":"Service","queue_properties":[{"cors_rule":[],"hour_metrics":[{"enabled":true,"include_apis":true,"retention_policy_days":7,"version":"1.0"}],"logging":[{"delete":false,"read":false,"retention_policy_days":0,"version":"1.0","write":false}],"minute_metrics":[{"enabled":false,"include_apis":false,"retention_policy_days":0,"version":"1.0"}]}],"resource_group_name":"prime-data-hub-prod","routing":[],"secondary_access_key":"ftmGc1Q3igJI+3qOsqKFzEjUJdoD8cjfHu6UM42PlsmJkoR3WSemfP46GI6vZcz1NBQZdVrM+LqJE6Z4LuaWPQ==","secondary_blob_connection_string":"","secondary_blob_endpoint":null,"secondary_blob_host":null,"secondary_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodcandidate;AccountKey=ftmGc1Q3igJI+3qOsqKFzEjUJdoD8cjfHu6UM42PlsmJkoR3WSemfP46GI6vZcz1NBQZdVrM+LqJE6Z4LuaWPQ==;EndpointSuffix=core.windows.net","secondary_dfs_endpoint":null,"secondary_dfs_host":null,"secondary_file_endpoint":null,"secondary_file_host":null,"secondary_location":"westus","secondary_queue_endpoint":null,"secondary_queue_host":null,"secondary_table_endpoint":null,"secondary_table_host":null,"secondary_web_endpoint":null,"secondary_web_host":null,"share_properties":[{"cors_rule":[],"retention_policy":[{"days":7}],"smb":[]}],"shared_access_key_enabled":true,"static_website":[],"table_encryption_key_type":"Service","tags":{"environment":"prod"},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"azure_files_authentication":[],"blob_properties":[{"container_delete_retention_policy":[],"cors_rule":[],"delete_retention_policy":[]}],"custom_domain":[],"customer_managed_key":[{}],"identity":[{"identity_ids":[]}],"network_rules":[{"bypass":[false],"ip_rules":[false,false],"private_link_access":[],"virtual_network_subnet_ids":[false,false,false]}],"queue_properties":[{"cors_rule":[],"hour_metrics":[{}],"logging":[{}],"minute_metrics":[{}]}],"routing":[],"share_properties":[{"cors_rule":[],"retention_policy":[{}],"smb":[]}],"static_website":[],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet"]},{"address":"module.storage.azurerm_storage_account.storage_partner","mode":"managed","type":"azurerm_storage_account","name":"storage_partner","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"access_tier":"Hot","account_kind":"StorageV2","account_replication_type":"GRS","account_tier":"Standard","allow_blob_public_access":false,"azure_files_authentication":[],"blob_properties":[{"change_feed_enabled":false,"container_delete_retention_policy":[],"cors_rule":[],"default_service_version":"","delete_retention_policy":[],"last_access_time_enabled":false,"versioning_enabled":false}],"custom_domain":[],"customer_managed_key":[{"key_vault_key_id":"https://pdhprod-keyvault.vault.azure.net/keys/pdhprod-4096-key","user_assigned_identity_id":""}],"enable_https_traffic_only":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpartner","identity":[{"identity_ids":[],"principal_id":"aeb452e8-8896-42b4-900a-5e8697bc6b42","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"infrastructure_encryption_enabled":false,"is_hns_enabled":true,"large_file_share_enabled":null,"location":"eastus","min_tls_version":"TLS1_2","name":"pdhprodpartner","network_rules":[{"bypass":["None"],"default_action":"Deny","ip_rules":["100.6.165.133","158.111.123.0/25","158.111.21.0/24","198.97.14.0/24","198.97.14.67","198.97.14.87","24.163.118.70","3.222.111.0/24","45.37.194.58","52.2.78.0/24","54.145.176.199","54.211.46.158","54.90.165.0/24"],"private_link_access":[],"virtual_network_subnet_ids":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public"]}],"nfsv3_enabled":false,"primary_access_key":"E3wQYAGlQOv4wL3Dj5yp1Oi2BADsDLPZ19N7f6GDCJ+0pJBzAt+GUpFn3kAlD/nQfabJiR/jcGBXEPevM8qF1Q==","primary_blob_connection_string":"DefaultEndpointsProtocol=https;BlobEndpoint=https://pdhprodpartner.blob.core.windows.net/;AccountName=pdhprodpartner;AccountKey=E3wQYAGlQOv4wL3Dj5yp1Oi2BADsDLPZ19N7f6GDCJ+0pJBzAt+GUpFn3kAlD/nQfabJiR/jcGBXEPevM8qF1Q==","primary_blob_endpoint":"https://pdhprodpartner.blob.core.windows.net/","primary_blob_host":"pdhprodpartner.blob.core.windows.net","primary_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodpartner;AccountKey=E3wQYAGlQOv4wL3Dj5yp1Oi2BADsDLPZ19N7f6GDCJ+0pJBzAt+GUpFn3kAlD/nQfabJiR/jcGBXEPevM8qF1Q==;EndpointSuffix=core.windows.net","primary_dfs_endpoint":"https://pdhprodpartner.dfs.core.windows.net/","primary_dfs_host":"pdhprodpartner.dfs.core.windows.net","primary_file_endpoint":"https://pdhprodpartner.file.core.windows.net/","primary_file_host":"pdhprodpartner.file.core.windows.net","primary_location":"eastus","primary_queue_endpoint":"https://pdhprodpartner.queue.core.windows.net/","primary_queue_host":"pdhprodpartner.queue.core.windows.net","primary_table_endpoint":"https://pdhprodpartner.table.core.windows.net/","primary_table_host":"pdhprodpartner.table.core.windows.net","primary_web_endpoint":"https://pdhprodpartner.z13.web.core.windows.net/","primary_web_host":"pdhprodpartner.z13.web.core.windows.net","queue_encryption_key_type":"Service","queue_properties":[{"cors_rule":[],"hour_metrics":[{"enabled":true,"include_apis":true,"retention_policy_days":7,"version":"1.0"}],"logging":[{"delete":false,"read":false,"retention_policy_days":0,"version":"1.0","write":false}],"minute_metrics":[{"enabled":false,"include_apis":false,"retention_policy_days":0,"version":"1.0"}]}],"resource_group_name":"prime-data-hub-prod","routing":[],"secondary_access_key":"L/S6aN7Et9pkDnQtOuL2OGKJjrfMxL0zSmVhaSGi3Lyy2unplctrITOv8BAEn7aumRO+GJlVswWZwPls+K+pJg==","secondary_blob_connection_string":"","secondary_blob_endpoint":null,"secondary_blob_host":null,"secondary_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodpartner;AccountKey=L/S6aN7Et9pkDnQtOuL2OGKJjrfMxL0zSmVhaSGi3Lyy2unplctrITOv8BAEn7aumRO+GJlVswWZwPls+K+pJg==;EndpointSuffix=core.windows.net","secondary_dfs_endpoint":null,"secondary_dfs_host":null,"secondary_file_endpoint":null,"secondary_file_host":null,"secondary_location":"westus","secondary_queue_endpoint":null,"secondary_queue_host":null,"secondary_table_endpoint":null,"secondary_table_host":null,"secondary_web_endpoint":null,"secondary_web_host":null,"share_properties":[{"cors_rule":[],"retention_policy":[{"days":7}],"smb":[]}],"shared_access_key_enabled":true,"static_website":[],"table_encryption_key_type":"Service","tags":{"environment":"prod"},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"azure_files_authentication":[],"blob_properties":[{"container_delete_retention_policy":[],"cors_rule":[],"delete_retention_policy":[]}],"custom_domain":[],"customer_managed_key":[{}],"identity":[{"identity_ids":[]}],"network_rules":[{"bypass":[false],"ip_rules":[false,false,false,false,false,false,false,false,false,false,false,false,false],"private_link_access":[],"virtual_network_subnet_ids":[false,false,false,false]}],"queue_properties":[{"cors_rule":[],"hour_metrics":[{}],"logging":[{}],"minute_metrics":[{}]}],"routing":[],"share_properties":[{"cors_rule":[],"retention_policy":[{}],"smb":[]}],"static_website":[],"tags":{},"timeouts":{}},"depends_on":["module.key_vault.data.azurerm_key_vault.application","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.postgres_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.storage.azurerm_storage_account.storage_partner_candidate","mode":"managed","type":"azurerm_storage_account","name":"storage_partner_candidate","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"access_tier":"Hot","account_kind":"StorageV2","account_replication_type":"GRS","account_tier":"Standard","allow_blob_public_access":false,"azure_files_authentication":[],"blob_properties":[{"change_feed_enabled":false,"container_delete_retention_policy":[],"cors_rule":[],"default_service_version":"","delete_retention_policy":[],"last_access_time_enabled":false,"versioning_enabled":false}],"custom_domain":[],"customer_managed_key":[{"key_vault_key_id":"https://pdhprod-keyvault.vault.azure.net/keys/pdhprod-4096-key","user_assigned_identity_id":""}],"enable_https_traffic_only":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandpartner","identity":[{"identity_ids":[],"principal_id":"0d457d84-45ac-41a6-b01e-c575c09a0bd4","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"infrastructure_encryption_enabled":false,"is_hns_enabled":true,"large_file_share_enabled":null,"location":"eastus","min_tls_version":"TLS1_2","name":"pdhprodcandpartner","network_rules":[{"bypass":["None"],"default_action":"Deny","ip_rules":["158.111.123.0/25","158.111.21.0/24","24.163.118.70","45.37.194.58","54.145.176.199","54.211.46.158"],"private_link_access":[],"virtual_network_subnet_ids":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/public","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/public"]}],"nfsv3_enabled":false,"primary_access_key":"l9LVMHO7Dxote0wIFS4gsvKvGfqy2LdEhmYny3k4EmiMKEMXx46I+yPDHCI6dUSd0B218DaRjilqYO2k5FFZSA==","primary_blob_connection_string":"DefaultEndpointsProtocol=https;BlobEndpoint=https://pdhprodcandpartner.blob.core.windows.net/;AccountName=pdhprodcandpartner;AccountKey=l9LVMHO7Dxote0wIFS4gsvKvGfqy2LdEhmYny3k4EmiMKEMXx46I+yPDHCI6dUSd0B218DaRjilqYO2k5FFZSA==","primary_blob_endpoint":"https://pdhprodcandpartner.blob.core.windows.net/","primary_blob_host":"pdhprodcandpartner.blob.core.windows.net","primary_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodcandpartner;AccountKey=l9LVMHO7Dxote0wIFS4gsvKvGfqy2LdEhmYny3k4EmiMKEMXx46I+yPDHCI6dUSd0B218DaRjilqYO2k5FFZSA==;EndpointSuffix=core.windows.net","primary_dfs_endpoint":"https://pdhprodcandpartner.dfs.core.windows.net/","primary_dfs_host":"pdhprodcandpartner.dfs.core.windows.net","primary_file_endpoint":"https://pdhprodcandpartner.file.core.windows.net/","primary_file_host":"pdhprodcandpartner.file.core.windows.net","primary_location":"eastus","primary_queue_endpoint":"https://pdhprodcandpartner.queue.core.windows.net/","primary_queue_host":"pdhprodcandpartner.queue.core.windows.net","primary_table_endpoint":"https://pdhprodcandpartner.table.core.windows.net/","primary_table_host":"pdhprodcandpartner.table.core.windows.net","primary_web_endpoint":"https://pdhprodcandpartner.z13.web.core.windows.net/","primary_web_host":"pdhprodcandpartner.z13.web.core.windows.net","queue_encryption_key_type":"Service","queue_properties":[{"cors_rule":[],"hour_metrics":[{"enabled":true,"include_apis":true,"retention_policy_days":7,"version":"1.0"}],"logging":[{"delete":false,"read":false,"retention_policy_days":0,"version":"1.0","write":false}],"minute_metrics":[{"enabled":false,"include_apis":false,"retention_policy_days":0,"version":"1.0"}]}],"resource_group_name":"prime-data-hub-prod","routing":[],"secondary_access_key":"9HqmWcD9hXAmvXPEGb+UAOw9NNDkyO9Tz/fP6pH5hNiSFPahgdTGbJkJd6YY7jwLUkGHHxhT+YBRY90/5KPwBQ==","secondary_blob_connection_string":"","secondary_blob_endpoint":null,"secondary_blob_host":null,"secondary_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodcandpartner;AccountKey=9HqmWcD9hXAmvXPEGb+UAOw9NNDkyO9Tz/fP6pH5hNiSFPahgdTGbJkJd6YY7jwLUkGHHxhT+YBRY90/5KPwBQ==;EndpointSuffix=core.windows.net","secondary_dfs_endpoint":null,"secondary_dfs_host":null,"secondary_file_endpoint":null,"secondary_file_host":null,"secondary_location":"westus","secondary_queue_endpoint":null,"secondary_queue_host":null,"secondary_table_endpoint":null,"secondary_table_host":null,"secondary_web_endpoint":null,"secondary_web_host":null,"share_properties":[{"cors_rule":[],"retention_policy":[{"days":7}],"smb":[]}],"shared_access_key_enabled":true,"static_website":[],"table_encryption_key_type":"Service","tags":{"environment":"prod"},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"azure_files_authentication":[],"blob_properties":[{"container_delete_retention_policy":[],"cors_rule":[],"delete_retention_policy":[]}],"custom_domain":[],"customer_managed_key":[{}],"identity":[{"identity_ids":[]}],"network_rules":[{"bypass":[false],"ip_rules":[false,false,false,false,false,false],"private_link_access":[],"virtual_network_subnet_ids":[false,false,false,false]}],"queue_properties":[{"cors_rule":[],"hour_metrics":[{}],"logging":[{}],"minute_metrics":[{}]}],"routing":[],"share_properties":[{"cors_rule":[],"retention_policy":[{}],"smb":[]}],"static_website":[],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.vnet"]},{"address":"module.storage.azurerm_storage_account.storage_public","mode":"managed","type":"azurerm_storage_account","name":"storage_public","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"access_tier":"Hot","account_kind":"StorageV2","account_replication_type":"GRS","account_tier":"Standard","allow_blob_public_access":false,"azure_files_authentication":[],"blob_properties":[{"change_feed_enabled":false,"container_delete_retention_policy":[],"cors_rule":[],"default_service_version":"","delete_retention_policy":[],"last_access_time_enabled":false,"versioning_enabled":false}],"custom_domain":[],"customer_managed_key":[],"enable_https_traffic_only":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpublic","identity":[{"identity_ids":[],"principal_id":"c5c654bd-c9ac-4f09-80e5-f45eb5c29202","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","type":"SystemAssigned"}],"infrastructure_encryption_enabled":false,"is_hns_enabled":false,"large_file_share_enabled":null,"location":"eastus","min_tls_version":"TLS1_2","name":"pdhprodpublic","network_rules":[{"bypass":["AzureServices"],"default_action":"Allow","ip_rules":[],"private_link_access":[],"virtual_network_subnet_ids":[]}],"nfsv3_enabled":false,"primary_access_key":"k6c7BQlmKxOrm0osjOlpq+B4FYCWdsBwDmo66bPx/eKUZFX4Du80C66eUs++c8futHAfmktjyas0T4wm/FfP+A==","primary_blob_connection_string":"DefaultEndpointsProtocol=https;BlobEndpoint=https://pdhprodpublic.blob.core.windows.net/;AccountName=pdhprodpublic;AccountKey=k6c7BQlmKxOrm0osjOlpq+B4FYCWdsBwDmo66bPx/eKUZFX4Du80C66eUs++c8futHAfmktjyas0T4wm/FfP+A==","primary_blob_endpoint":"https://pdhprodpublic.blob.core.windows.net/","primary_blob_host":"pdhprodpublic.blob.core.windows.net","primary_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodpublic;AccountKey=k6c7BQlmKxOrm0osjOlpq+B4FYCWdsBwDmo66bPx/eKUZFX4Du80C66eUs++c8futHAfmktjyas0T4wm/FfP+A==;EndpointSuffix=core.windows.net","primary_dfs_endpoint":"https://pdhprodpublic.dfs.core.windows.net/","primary_dfs_host":"pdhprodpublic.dfs.core.windows.net","primary_file_endpoint":"https://pdhprodpublic.file.core.windows.net/","primary_file_host":"pdhprodpublic.file.core.windows.net","primary_location":"eastus","primary_queue_endpoint":"https://pdhprodpublic.queue.core.windows.net/","primary_queue_host":"pdhprodpublic.queue.core.windows.net","primary_table_endpoint":"https://pdhprodpublic.table.core.windows.net/","primary_table_host":"pdhprodpublic.table.core.windows.net","primary_web_endpoint":"https://pdhprodpublic.z13.web.core.windows.net/","primary_web_host":"pdhprodpublic.z13.web.core.windows.net","queue_encryption_key_type":"Service","queue_properties":[{"cors_rule":[],"hour_metrics":[{"enabled":true,"include_apis":true,"retention_policy_days":7,"version":"1.0"}],"logging":[{"delete":false,"read":false,"retention_policy_days":0,"version":"1.0","write":false}],"minute_metrics":[{"enabled":false,"include_apis":false,"retention_policy_days":0,"version":"1.0"}]}],"resource_group_name":"prime-data-hub-prod","routing":[],"secondary_access_key":"i0wEWUJNq3ih6o2kt/xH6lmybPNhyPCBzaEhDueA8vbWNfdkTJL8wVtE5wW/aFbpZplnnNKD43kHeCkwtZQnhA==","secondary_blob_connection_string":"","secondary_blob_endpoint":null,"secondary_blob_host":null,"secondary_connection_string":"DefaultEndpointsProtocol=https;AccountName=pdhprodpublic;AccountKey=i0wEWUJNq3ih6o2kt/xH6lmybPNhyPCBzaEhDueA8vbWNfdkTJL8wVtE5wW/aFbpZplnnNKD43kHeCkwtZQnhA==;EndpointSuffix=core.windows.net","secondary_dfs_endpoint":null,"secondary_dfs_host":null,"secondary_file_endpoint":null,"secondary_file_host":null,"secondary_location":"westus","secondary_queue_endpoint":null,"secondary_queue_host":null,"secondary_table_endpoint":null,"secondary_table_host":null,"secondary_web_endpoint":null,"secondary_web_host":null,"share_properties":[{"cors_rule":[],"retention_policy":[{"days":7}],"smb":[]}],"shared_access_key_enabled":true,"static_website":[{"error_404_document":"404.html","index_document":"index.html"}],"table_encryption_key_type":"Service","tags":{"environment":"prod"},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"azure_files_authentication":[],"blob_properties":[{"container_delete_retention_policy":[],"cors_rule":[],"delete_retention_policy":[]}],"custom_domain":[],"customer_managed_key":[],"identity":[{"identity_ids":[]}],"network_rules":[{"bypass":[false],"ip_rules":[],"private_link_access":[],"virtual_network_subnet_ids":[]}],"queue_properties":[{"cors_rule":[],"hour_metrics":[{}],"logging":[{}],"minute_metrics":[{}]}],"routing":[],"share_properties":[{"cors_rule":[],"retention_policy":[{}],"smb":[]}],"static_website":[{}],"tags":{},"timeouts":{}}},{"address":"module.storage.azurerm_storage_container.storage_candidate_container_hhsprotect","mode":"managed","type":"azurerm_storage_container","name":"storage_candidate_container_hhsprotect","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"container_access_type":"private","has_immutability_policy":false,"has_legal_hold":false,"id":"https://pdhprodcandpartner.blob.core.windows.net/hhsprotect","metadata":{},"name":"hhsprotect","resource_manager_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandpartner/blobServices/default/containers/hhsprotect","storage_account_name":"pdhprodcandpartner","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"metadata":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.storage.azurerm_storage_account.storage_partner_candidate","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet"]},{"address":"module.storage.azurerm_storage_container.storage_container_dcipher","mode":"managed","type":"azurerm_storage_container","name":"storage_container_dcipher","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"container_access_type":"private","has_immutability_policy":false,"has_legal_hold":false,"id":"https://pdhprodpartner.blob.core.windows.net/dcipher","metadata":{},"name":"dcipher","resource_manager_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpartner/blobServices/default/containers/dcipher","storage_account_name":"pdhprodpartner","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"metadata":{},"timeouts":{}},"depends_on":["module.storage.azurerm_storage_account.storage_partner","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.container_subnet","module.storage.data.azurerm_key_vault.application"]},{"address":"module.storage.azurerm_storage_container.storage_container_hhsprotect","mode":"managed","type":"azurerm_storage_container","name":"storage_container_hhsprotect","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"container_access_type":"private","has_immutability_policy":false,"has_legal_hold":false,"id":"https://pdhprodpartner.blob.core.windows.net/hhsprotect","metadata":{},"name":"hhsprotect","resource_manager_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpartner/blobServices/default/containers/hhsprotect","storage_account_name":"pdhprodpartner","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"metadata":{},"timeouts":{}},"depends_on":["module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_partner","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.storage.azurerm_storage_management_policy.retention_policy","mode":"managed","type":"azurerm_storage_management_policy","name":"retention_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount/managementPolicies/default","rule":[{"actions":[{"base_blob":[{"delete_after_days_since_last_access_time_greater_than":-1,"delete_after_days_since_modification_greater_than":60,"tier_to_archive_after_days_since_last_access_time_greater_than":-1,"tier_to_archive_after_days_since_modification_greater_than":0,"tier_to_cool_after_days_since_last_access_time_greater_than":-1,"tier_to_cool_after_days_since_modification_greater_than":0}],"snapshot":[{"change_tier_to_archive_after_days_since_creation":-1,"change_tier_to_cool_after_days_since_creation":-1,"delete_after_days_since_creation_greater_than":60}],"version":[]}],"enabled":true,"filters":[{"blob_types":["appendBlob","blockBlob"],"match_blob_index_tag":[],"prefix_match":["reports/"]}],"name":"piiretention"}],"storage_account_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"rule":[{"actions":[{"base_blob":[{}],"snapshot":[{}],"version":[]}],"filters":[{"blob_types":[false,false],"match_blob_index_tag":[],"prefix_match":[false]}]}],"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.storage.azurerm_storage_account.storage_account"]},{"address":"module.storage.azurerm_storage_management_policy.retention_policy_candidate","mode":"managed","type":"azurerm_storage_management_policy","name":"retention_policy_candidate","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandidate/managementPolicies/default","rule":[{"actions":[{"base_blob":[{"delete_after_days_since_last_access_time_greater_than":-1,"delete_after_days_since_modification_greater_than":60,"tier_to_archive_after_days_since_last_access_time_greater_than":-1,"tier_to_archive_after_days_since_modification_greater_than":0,"tier_to_cool_after_days_since_last_access_time_greater_than":-1,"tier_to_cool_after_days_since_modification_greater_than":0}],"snapshot":[{"change_tier_to_archive_after_days_since_creation":-1,"change_tier_to_cool_after_days_since_creation":-1,"delete_after_days_since_creation_greater_than":60}],"version":[]}],"enabled":true,"filters":[{"blob_types":["appendBlob","blockBlob"],"match_blob_index_tag":[],"prefix_match":["reports/"]}],"name":"piiretention"}],"storage_account_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandidate","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"rule":[{"actions":[{"base_blob":[{}],"snapshot":[{}],"version":[]}],"filters":[{"blob_types":[false,false],"match_blob_index_tag":[],"prefix_match":[false]}]}],"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account_candidate","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.vnet"]},{"address":"module.storage.azurerm_storage_management_policy.storage_candidate_partner_retention_policy","mode":"managed","type":"azurerm_storage_management_policy","name":"storage_candidate_partner_retention_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandpartner/managementPolicies/default","rule":[{"actions":[{"base_blob":[{"delete_after_days_since_last_access_time_greater_than":-1,"delete_after_days_since_modification_greater_than":30,"tier_to_archive_after_days_since_last_access_time_greater_than":-1,"tier_to_archive_after_days_since_modification_greater_than":0,"tier_to_cool_after_days_since_last_access_time_greater_than":-1,"tier_to_cool_after_days_since_modification_greater_than":0}],"snapshot":[{"change_tier_to_archive_after_days_since_creation":-1,"change_tier_to_cool_after_days_since_creation":-1,"delete_after_days_since_creation_greater_than":30}],"version":[]}],"enabled":true,"filters":[{"blob_types":["appendBlob","blockBlob"],"match_blob_index_tag":[],"prefix_match":["hhsprotect/"]}],"name":"30dayretention"}],"storage_account_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandpartner","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"rule":[{"actions":[{"base_blob":[{}],"snapshot":[{}],"version":[]}],"filters":[{"blob_types":[false,false],"match_blob_index_tag":[],"prefix_match":[false]}]}],"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_partner_candidate"]},{"address":"module.storage.azurerm_storage_management_policy.storage_partner_retention_policy","mode":"managed","type":"azurerm_storage_management_policy","name":"storage_partner_retention_policy","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpartner/managementPolicies/default","rule":[{"actions":[{"base_blob":[{"delete_after_days_since_last_access_time_greater_than":-1,"delete_after_days_since_modification_greater_than":30,"tier_to_archive_after_days_since_last_access_time_greater_than":-1,"tier_to_archive_after_days_since_modification_greater_than":0,"tier_to_cool_after_days_since_last_access_time_greater_than":-1,"tier_to_cool_after_days_since_modification_greater_than":0}],"snapshot":[{"change_tier_to_archive_after_days_since_creation":-1,"change_tier_to_cool_after_days_since_creation":-1,"delete_after_days_since_creation_greater_than":30}],"version":[]}],"enabled":true,"filters":[{"blob_types":["appendBlob","blockBlob"],"match_blob_index_tag":[],"prefix_match":["hhsprotect/"]}],"name":"30dayretention"}],"storage_account_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpartner","timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"rule":[{"actions":[{"base_blob":[{}],"snapshot":[{}],"version":[]}],"filters":[{"blob_types":[false,false],"match_blob_index_tag":[],"prefix_match":[false]}]}],"timeouts":{}},"depends_on":["module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_partner","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]},{"address":"module.storage.data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"client_id":"04b07795-8ddb-461a-bbee-02f9e1bf7b46","id":"2022-09-12 18:05:38.8691598 +0000 UTC","object_id":"","subscription_id":"7d1e3999-6577-4cd5-b296-f518e5c8e677","tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":null},"sensitive_values":{}},{"address":"module.storage.data.azurerm_key_vault.application","mode":"data","type":"azurerm_key_vault","name":"application","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"access_policy":[{"application_id":"","certificate_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore","ManageContacts","ManageIssuers","GetIssuers","ListIssuers","SetIssuers","DeleteIssuers"],"key_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore","GetRotationPolicy","SetRotationPolicy","Rotate"],"object_id":"d5c7630a-e2c1-4901-8d29-43ec93159611","secret_permissions":["Get","List","Set","Delete","Recover","Backup","Restore"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":["Get"],"key_permissions":[],"object_id":"270e4d1a-12bd-4564-8a4b-c9de1bbdbe95","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"191cd5e9-207a-4ff2-8e04-cabb3cde9feb","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"ee41164d-ee3a-441d-ab5c-66d38aeec5ea","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"2e5ce118-6171-4874-a249-37ec0621ed76","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"aeb452e8-8896-42b4-900a-5e8697bc6b42","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get"],"object_id":"4d81288c-27a3-4df8-b776-c9da8e688bc7","secret_permissions":["Get"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"0d457d84-45ac-41a6-b01e-c575c09a0bd4","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":["Get","UnwrapKey","WrapKey"],"object_id":"d8180f03-ad15-46dc-9595-4fa0fdce9544","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore","ManageContacts","ManageIssuers","GetIssuers","ListIssuers","SetIssuers","DeleteIssuers"],"key_permissions":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore"],"object_id":"5c6a951e-a4c2-4890-b62c-0ed8179501bb","secret_permissions":["Get","List","Set","Delete","Recover","Backup","Restore"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":[],"key_permissions":[],"object_id":"7bb113b7-ed43-4ecf-bb2d-0a1b9fe714ef","secret_permissions":["List"],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"},{"application_id":"","certificate_permissions":["List","Get"],"key_permissions":[],"object_id":"5c5c157c-b30d-4d55-a59d-75d82367d516","secret_permissions":[],"storage_permissions":[],"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f"}],"enable_rbac_authorization":false,"enabled_for_deployment":true,"enabled_for_disk_encryption":true,"enabled_for_template_deployment":true,"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","location":"eastus","name":"pdhprod-keyvault","network_acls":[{"bypass":"AzureServices","default_action":"Deny","ip_rules":["100.6.165.133/32","108.48.23.191/32","24.163.118.70/32","45.37.194.58/32","75.191.122.59/32"],"virtual_network_subnet_ids":["/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-east-vnet/subnets/public","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/container","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/endpoint","/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourcegroups/prime-data-hub-prod/providers/microsoft.network/virtualnetworks/pdhprod-vnet/subnets/public"]}],"purge_protection_enabled":true,"resource_group_name":"prime-data-hub-prod","sku_name":"premium","soft_delete_enabled":true,"tags":{"environment":"prod"},"tenant_id":"9ce70869-60db-44fd-abe8-d2767077fc8f","timeouts":null,"vault_uri":"https://pdhprod-keyvault.vault.azure.net/"},"sensitive_values":{"access_policy":[{"certificate_permissions":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"key_permissions":[false,false,false,false,false,false,false,false,false,false,false,false],"secret_permissions":[false,false,false,false,false,false,false],"storage_permissions":[]},{"certificate_permissions":[false],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[false,false,false],"secret_permissions":[],"storage_permissions":[]},{"certificate_permissions":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"key_permissions":[false,false,false,false,false,false,false,false,false],"secret_permissions":[false,false,false,false,false,false,false],"storage_permissions":[]},{"certificate_permissions":[],"key_permissions":[],"secret_permissions":[false],"storage_permissions":[]},{"certificate_permissions":[false,false],"key_permissions":[],"secret_permissions":[],"storage_permissions":[]}],"network_acls":[{"ip_rules":[false,false,false,false,false],"virtual_network_subnet_ids":[false,false,false,false,false,false]}],"tags":{}}},{"address":"module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","mode":"data","type":"azurerm_key_vault_secret","name":"cyberark_ip_ingress","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"content_type":"","id":"https://pdhprod-keyvault.vault.azure.net/secrets/cyberark-ip-ingress/9c02b391f19d4f1583a35d45cc7a9039","key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","name":"cyberark-ip-ingress","tags":{},"timeouts":null,"value":"158.111.21.0/24,158.111.123.0/25","version":"9c02b391f19d4f1583a35d45cc7a9039","versionless_id":"https://pdhprod-keyvault.vault.azure.net/secrets/cyberark-ip-ingress"},"sensitive_values":{"tags":{}}},{"address":"module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress","mode":"data","type":"azurerm_key_vault_secret","name":"hhsprotect_ip_ingress","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"content_type":"","id":"https://pdhprod-keyvault.vault.azure.net/secrets/hhsprotect-ip-ingress/4bbf0d57ecf441edab44622e51199439","key_vault_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.KeyVault/vaults/pdhprod-keyvault","name":"hhsprotect-ip-ingress","tags":{},"timeouts":null,"value":"54.211.46.158,54.145.176.199","version":"4bbf0d57ecf441edab44622e51199439","versionless_id":"https://pdhprod-keyvault.vault.azure.net/secrets/hhsprotect-ip-ingress"},"sensitive_values":{"tags":{}}}],"address":"module.storage","child_modules":[{"resources":[{"address":"module.storage.module.storageaccount_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_dns_a_record.endpoint_dns[\"pdhprod-East-vnet\"]","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","index":"pdhprod-East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"fqdn":"pdhprodstorageaccount.privatelink.blob.core.windows.net.","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net/A/pdhprodstorageaccount","name":"pdhprodstorageaccount","records":["172.17.7.78"],"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"ttl":60,"zone_name":"privatelink.blob.core.windows.net"},"sensitive_values":{"records":[false],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account","module.storage.module.storageaccount_blob_private_endpoint.azurerm_private_endpoint.endpoint","module.network.azurerm_private_dns_zone.zone","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.public_subnet"]},{"address":"module.storage.module.storageaccount_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodstorageaccount.blob.core.windows.net","ip_addresses":["172.17.7.78"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodstorageaccount-storage_account_blob-cd4e8d644","location":"eastus","name":"pdhprodstorageaccount-storage_account_blob-cd4e8d644","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodstorageaccount-storage_account_blob-.nic.0967cded-c366-449c-9866-6ffeed59f2fd","name":"pdhprodstorageaccount-storage_account_blob-.nic.0967cded-c366-449c-9866-6ffeed59f2fd"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodstorageaccount-storage_account_blob-cd4e8d644","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount","private_ip_address":"172.17.7.78","request_message":"","subresource_names":["blob"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet"]}],"address":"module.storage.module.storageaccount_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccount_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodstorageaccount.blob.core.windows.net","ip_addresses":["10.0.5.15"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodstorageaccount-storage_account_blob-7a6de6839","location":"eastus","name":"pdhprodstorageaccount-storage_account_blob-7a6de6839","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodstorageaccount-storage_account_blob-.nic.0c104cfd-c0c0-4cc7-a3dd-ef6066a9b535","name":"pdhprodstorageaccount-storage_account_blob-.nic.0c104cfd-c0c0-4cc7-a3dd-ef6066a9b535"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodstorageaccount-storage_account_blob-7a6de6839","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount","private_ip_address":"10.0.5.15","request_message":"","subresource_names":["blob"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.west_vnet","module.storage.azurerm_storage_account.storage_account"]}],"address":"module.storage.module.storageaccount_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccount_candidate_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_dns_a_record.endpoint_dns[\"pdhprod-East-vnet\"]","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","index":"pdhprod-East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"fqdn":"pdhprodcandidate.privatelink.blob.core.windows.net.","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net/A/pdhprodcandidate","name":"pdhprodcandidate","records":["172.17.7.74"],"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"ttl":60,"zone_name":"privatelink.blob.core.windows.net"},"sensitive_values":{"records":[false],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.west_vnet","module.storage.azurerm_storage_account.storage_account_candidate","module.storage.module.storageaccount_candidate_blob_private_endpoint.azurerm_private_endpoint.endpoint","module.network.azurerm_private_dns_zone.zone","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.gateway_subnet"]},{"address":"module.storage.module.storageaccount_candidate_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodcandidate.blob.core.windows.net","ip_addresses":["172.17.7.74"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodcandidate-storage_account_blob-cd4e8d644","location":"eastus","name":"pdhprodcandidate-storage_account_blob-cd4e8d644","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodcandidate-storage_account_blob-cd4e8.nic.dfd046d6-424a-4683-b586-5027624abdaf","name":"pdhprodcandidate-storage_account_blob-cd4e8.nic.dfd046d6-424a-4683-b586-5027624abdaf"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodcandidate-storage_account_blob-cd4e8d644","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandidate","private_ip_address":"172.17.7.74","request_message":"","subresource_names":["blob"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account_candidate","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet"]}],"address":"module.storage.module.storageaccount_candidate_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccount_candidate_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodcandidate.blob.core.windows.net","ip_addresses":["10.0.5.10"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodcandidate-storage_account_blob-7a6de6839","location":"eastus","name":"pdhprodcandidate-storage_account_blob-7a6de6839","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodcandidate-storage_account_blob-7a6de.nic.8885356a-dfa3-45f4-9c0d-a04c6cec4445","name":"pdhprodcandidate-storage_account_blob-7a6de.nic.8885356a-dfa3-45f4-9c0d-a04c6cec4445"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodcandidate-storage_account_blob-7a6de6839","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandidate","private_ip_address":"10.0.5.10","request_message":"","subresource_names":["blob"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.storage.azurerm_storage_account.storage_account_candidate","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_virtual_network.vnet"]}],"address":"module.storage.module.storageaccount_candidate_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccount_candidate_file_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_dns_a_record.endpoint_dns[\"pdhprod-East-vnet\"]","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","index":"pdhprod-East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"fqdn":"pdhprodcandidate.privatelink.file.core.windows.net.","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net/A/pdhprodcandidate","name":"pdhprodcandidate","records":["172.17.7.73"],"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"ttl":60,"zone_name":"privatelink.file.core.windows.net"},"sensitive_values":{"records":[false],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.storage.azurerm_storage_account.storage_account_candidate","module.network.azurerm_private_dns_zone.zone","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.module.storageaccount_candidate_file_private_endpoint.azurerm_private_endpoint.endpoint","module.network.data.azurerm_subnet.container_subnet"]},{"address":"module.storage.module.storageaccount_candidate_file_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodcandidate.file.core.windows.net","ip_addresses":["172.17.7.73"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodcandidate-storage_account_file-cd4e8d644","location":"eastus","name":"pdhprodcandidate-storage_account_file-cd4e8d644","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodcandidate-storage_account_file-cd4e8.nic.922461da-d5f6-4c20-aab3-0324c1501be3","name":"pdhprodcandidate-storage_account_file-cd4e8.nic.922461da-d5f6-4c20-aab3-0324c1501be3"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodcandidate-storage_account_file-cd4e8d644","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandidate","private_ip_address":"172.17.7.73","request_message":"","subresource_names":["file"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.storage.azurerm_storage_account.storage_account_candidate"]}],"address":"module.storage.module.storageaccount_candidate_file_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccount_candidate_file_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodcandidate.file.core.windows.net","ip_addresses":["10.0.5.9"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodcandidate-storage_account_file-7a6de6839","location":"eastus","name":"pdhprodcandidate-storage_account_file-7a6de6839","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodcandidate-storage_account_file-7a6de.nic.6b734b5d-c3bb-4235-9d16-bc26d0c2bb90","name":"pdhprodcandidate-storage_account_file-7a6de.nic.6b734b5d-c3bb-4235-9d16-bc26d0c2bb90"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodcandidate-storage_account_file-7a6de6839","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandidate","private_ip_address":"10.0.5.9","request_message":"","subresource_names":["file"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.west_vnet","module.storage.azurerm_storage_account.storage_account_candidate","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet"]}],"address":"module.storage.module.storageaccount_candidate_file_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccount_candidate_queue_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_dns_a_record.endpoint_dns[\"pdhprod-East-vnet\"]","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","index":"pdhprod-East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"fqdn":"pdhprodcandidate.privatelink.queue.core.windows.net.","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.queue.core.windows.net/A/pdhprodcandidate","name":"pdhprodcandidate","records":["172.17.7.72"],"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"ttl":60,"zone_name":"privatelink.queue.core.windows.net"},"sensitive_values":{"records":[false],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.west_vnet","module.network.azurerm_private_dns_zone.zone","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.vnet","module.storage.module.storageaccount_candidate_queue_private_endpoint.azurerm_private_endpoint.endpoint","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account_candidate"]},{"address":"module.storage.module.storageaccount_candidate_queue_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodcandidate.queue.core.windows.net","ip_addresses":["172.17.7.72"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodcandidate-storage_account_queue-cd4e8d644","location":"eastus","name":"pdhprodcandidate-storage_account_queue-cd4e8d644","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodcandidate-storage_account_queue-cd4e.nic.ae25009e-6e1d-4c41-905f-566e1895fba0","name":"pdhprodcandidate-storage_account_queue-cd4e.nic.ae25009e-6e1d-4c41-905f-566e1895fba0"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodcandidate-storage_account_queue-cd4e8d644","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandidate","private_ip_address":"172.17.7.72","request_message":"","subresource_names":["queue"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.storage.azurerm_storage_account.storage_account_candidate","module.network.data.azurerm_subnet.container_subnet"]}],"address":"module.storage.module.storageaccount_candidate_queue_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccount_candidate_queue_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodcandidate.queue.core.windows.net","ip_addresses":["10.0.5.8"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodcandidate-storage_account_queue-7a6de6839","location":"eastus","name":"pdhprodcandidate-storage_account_queue-7a6de6839","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodcandidate-storage_account_queue-7a6d.nic.449fa986-1f97-4155-b03a-98ce4b9d3e07","name":"pdhprodcandidate-storage_account_queue-7a6d.nic.449fa986-1f97-4155-b03a-98ce4b9d3e07"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodcandidate-storage_account_queue-7a6de6839","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandidate","private_ip_address":"10.0.5.8","request_message":"","subresource_names":["queue"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.storage.azurerm_storage_account.storage_account_candidate","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet"]}],"address":"module.storage.module.storageaccount_candidate_queue_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccount_file_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_dns_a_record.endpoint_dns[\"pdhprod-East-vnet\"]","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","index":"pdhprod-East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"fqdn":"pdhprodstorageaccount.privatelink.file.core.windows.net.","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net/A/pdhprodstorageaccount","name":"pdhprodstorageaccount","records":["172.17.7.79"],"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"ttl":60,"zone_name":"privatelink.file.core.windows.net"},"sensitive_values":{"records":[false],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.storage.module.storageaccount_file_private_endpoint.azurerm_private_endpoint.endpoint","module.network.azurerm_private_dns_zone.zone","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account"]},{"address":"module.storage.module.storageaccount_file_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodstorageaccount.file.core.windows.net","ip_addresses":["172.17.7.79"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodstorageaccount-storage_account_file-cd4e8d644","location":"eastus","name":"pdhprodstorageaccount-storage_account_file-cd4e8d644","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodstorageaccount-storage_account_file-.nic.ac532b16-f137-4a35-92ee-d195e34eb158","name":"pdhprodstorageaccount-storage_account_file-.nic.ac532b16-f137-4a35-92ee-d195e34eb158"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodstorageaccount-storage_account_file-cd4e8d644","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount","private_ip_address":"172.17.7.79","request_message":"","subresource_names":["file"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet"]}],"address":"module.storage.module.storageaccount_file_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccount_file_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodstorageaccount.file.core.windows.net","ip_addresses":["10.0.5.14"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodstorageaccount-storage_account_file-7a6de6839","location":"eastus","name":"pdhprodstorageaccount-storage_account_file-7a6de6839","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodstorageaccount-storage_account_file-.nic.730b4d00-5305-4816-9038-a1dfdb98c0ef","name":"pdhprodstorageaccount-storage_account_file-.nic.730b4d00-5305-4816-9038-a1dfdb98c0ef"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodstorageaccount-storage_account_file-7a6de6839","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount","private_ip_address":"10.0.5.14","request_message":"","subresource_names":["file"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.container_subnet"]}],"address":"module.storage.module.storageaccount_file_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccount_queue_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_dns_a_record.endpoint_dns[\"pdhprod-East-vnet\"]","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","index":"pdhprod-East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"fqdn":"pdhprodstorageaccount.privatelink.queue.core.windows.net.","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.queue.core.windows.net/A/pdhprodstorageaccount","name":"pdhprodstorageaccount","records":["172.17.7.77"],"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"ttl":60,"zone_name":"privatelink.queue.core.windows.net"},"sensitive_values":{"records":[false],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.network.azurerm_private_dns_zone.zone","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.storage.azurerm_storage_account.storage_account","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.west_vnet","module.storage.module.storageaccount_queue_private_endpoint.azurerm_private_endpoint.endpoint"]},{"address":"module.storage.module.storageaccount_queue_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodstorageaccount.queue.core.windows.net","ip_addresses":["172.17.7.77"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodstorageaccount-storage_account_queue-cd4e8d644","location":"eastus","name":"pdhprodstorageaccount-storage_account_queue-cd4e8d644","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodstorageaccount-storage_account_queue.nic.788d6a28-d652-4329-9621-96e1a22355a0","name":"pdhprodstorageaccount-storage_account_queue.nic.788d6a28-d652-4329-9621-96e1a22355a0"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodstorageaccount-storage_account_queue-cd4e8d644","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount","private_ip_address":"172.17.7.77","request_message":"","subresource_names":["queue"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.west_vnet","module.storage.azurerm_storage_account.storage_account"]}],"address":"module.storage.module.storageaccount_queue_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccount_queue_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodstorageaccount.queue.core.windows.net","ip_addresses":["10.0.5.13"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodstorageaccount-storage_account_queue-7a6de6839","location":"eastus","name":"pdhprodstorageaccount-storage_account_queue-7a6de6839","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodstorageaccount-storage_account_queue.nic.ed570c0c-b632-43eb-bf69-fc0674844e51","name":"pdhprodstorageaccount-storage_account_queue.nic.ed570c0c-b632-43eb-bf69-fc0674844e51"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodstorageaccount-storage_account_queue-7a6de6839","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodstorageaccount","private_ip_address":"10.0.5.13","request_message":"","subresource_names":["queue"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_account","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet"]}],"address":"module.storage.module.storageaccount_queue_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccountcandidatepartner_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_dns_a_record.endpoint_dns[\"pdhprod-East-vnet\"]","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","index":"pdhprod-East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"fqdn":"pdhprodcandpartner.privatelink.blob.core.windows.net.","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net/A/pdhprodcandpartner","name":"pdhprodcandpartner","records":["172.17.7.75"],"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"ttl":60,"zone_name":"privatelink.blob.core.windows.net"},"sensitive_values":{"records":[false],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.network.azurerm_private_dns_zone.zone","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.storage.azurerm_storage_account.storage_partner_candidate","module.storage.module.storageaccountcandidatepartner_blob_private_endpoint.azurerm_private_endpoint.endpoint"]},{"address":"module.storage.module.storageaccountcandidatepartner_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodcandpartner.blob.core.windows.net","ip_addresses":["172.17.7.75"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodcandpartner-storage_account_blob-cd4e8d644","location":"eastus","name":"pdhprodcandpartner-storage_account_blob-cd4e8d644","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodcandpartner-storage_account_blob-cd4.nic.a98fac72-8ad1-4d0a-9cfc-81140a7fdcc0","name":"pdhprodcandpartner-storage_account_blob-cd4.nic.a98fac72-8ad1-4d0a-9cfc-81140a7fdcc0"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodcandpartner-storage_account_blob-cd4e8d644","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandpartner","private_ip_address":"172.17.7.75","request_message":"","subresource_names":["blob"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.storage.azurerm_storage_account.storage_partner_candidate","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_virtual_network.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet"]}],"address":"module.storage.module.storageaccountcandidatepartner_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccountcandidatepartner_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodcandpartner.blob.core.windows.net","ip_addresses":["10.0.5.11"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodcandpartner-storage_account_blob-7a6de6839","location":"eastus","name":"pdhprodcandpartner-storage_account_blob-7a6de6839","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodcandpartner-storage_account_blob-7a6.nic.9c19fd74-3dcd-4818-8e03-3b79b2027efc","name":"pdhprodcandpartner-storage_account_blob-7a6.nic.9c19fd74-3dcd-4818-8e03-3b79b2027efc"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodcandpartner-storage_account_blob-7a6de6839","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodcandpartner","private_ip_address":"10.0.5.11","request_message":"","subresource_names":["blob"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_virtual_network.vnet","module.storage.azurerm_storage_account.storage_partner_candidate","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet"]}],"address":"module.storage.module.storageaccountcandidatepartner_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccountpartner_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_dns_a_record.endpoint_dns[\"pdhprod-East-vnet\"]","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","index":"pdhprod-East-vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"fqdn":"pdhprodpartner.privatelink.blob.core.windows.net.","id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net/A/pdhprodpartner","name":"pdhprodpartner","records":["172.17.7.76"],"resource_group_name":"prime-data-hub-prod","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null},"ttl":60,"zone_name":"privatelink.blob.core.windows.net"},"sensitive_values":{"records":[false],"tags":{},"timeouts":{}},"depends_on":["module.storage.azurerm_storage_account.storage_partner","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.public_subnet","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress","module.network.azurerm_private_dns_zone.zone","module.network.data.azurerm_subnet.peer_vnet","module.storage.data.azurerm_key_vault.application","module.network.data.azurerm_virtual_network.vnet","module.storage.module.storageaccountpartner_blob_private_endpoint.azurerm_private_endpoint.endpoint","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.west_vnet"]},{"address":"module.storage.module.storageaccountpartner_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodpartner.blob.core.windows.net","ip_addresses":["172.17.7.76"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodpartner-storage_account_blob-cd4e8d644","location":"eastus","name":"pdhprodpartner-storage_account_blob-cd4e8d644","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodpartner-storage_account_blob-cd4e8d6.nic.a13c50f2-8784-42ff-81bc-7abf8b2f1010","name":"pdhprodpartner-storage_account_blob-cd4e8d6.nic.a13c50f2-8784-42ff-81bc-7abf8b2f1010"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodpartner-storage_account_blob-cd4e8d644","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpartner","private_ip_address":"172.17.7.76","request_message":"","subresource_names":["blob"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.data.azurerm_key_vault.application","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.public_subnet","module.storage.azurerm_storage_account.storage_partner","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress","module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.peer_vnet","module.network.data.azurerm_subnet.private_subnet"]}],"address":"module.storage.module.storageaccountpartner_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-East-vnet/subnets/endpoint\"]"},{"resources":[{"address":"module.storage.module.storageaccountpartner_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"].azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"custom_dns_configs":[{"fqdn":"pdhprodpartner.blob.core.windows.net","ip_addresses":["10.0.5.12"]}],"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/privateEndpoints/pdhprodpartner-storage_account_blob-7a6de6839","location":"eastus","name":"pdhprodpartner-storage_account_blob-7a6de6839","network_interface":[{"id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/networkInterfaces/pdhprodpartner-storage_account_blob-7a6de68.nic.1cd225a2-0e09-4037-ac5e-86bcd71ae564","name":"pdhprodpartner-storage_account_blob-7a6de68.nic.1cd225a2-0e09-4037-ac5e-86bcd71ae564"}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"is_manual_connection":false,"name":"pdhprodpartner-storage_account_blob-7a6de6839","private_connection_resource_alias":"","private_connection_resource_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Storage/storageAccounts/pdhprodpartner","private_ip_address":"10.0.5.12","request_message":"","subresource_names":["blob"]}],"resource_group_name":"prime-data-hub-prod","subnet_id":"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint","tags":{},"timeouts":{"create":null,"delete":null,"read":null,"update":null}},"sensitive_values":{"custom_dns_configs":[{"ip_addresses":[false]}],"network_interface":[{}],"private_dns_zone_configs":[],"private_dns_zone_group":[],"private_service_connection":[{"subresource_names":[false]}],"tags":{},"timeouts":{}},"depends_on":["module.network.data.azurerm_subnet.endpoint_subnet","module.network.data.azurerm_subnet.gateway_subnet","module.network.data.azurerm_subnet.private_subnet","module.network.data.azurerm_subnet.public_subnet","module.network.data.azurerm_subnet.vnet","module.network.data.azurerm_subnet.west_vnet","module.network.data.azurerm_virtual_network.vnet","module.storage.data.azurerm_key_vault.application","module.storage.data.azurerm_key_vault_secret.cyberark_ip_ingress","module.network.data.azurerm_subnet.container_subnet","module.network.data.azurerm_subnet.peer_vnet","module.storage.azurerm_storage_account.storage_partner","module.storage.data.azurerm_key_vault_secret.hhsprotect_ip_ingress"]}],"address":"module.storage.module.storageaccountpartner_blob_private_endpoint[\"/subscriptions/7d1e3999-6577-4cd5-b296-f518e5c8e677/resourceGroups/prime-data-hub-prod/providers/Microsoft.Network/virtualNetworks/pdhprod-vnet/subnets/endpoint\"]"}]}]}}},"configuration":{"provider_config":{"azurerm":{"name":"azurerm","full_name":"registry.terraform.io/hashicorp/azurerm","version_constraint":"\u003e= 2.61.0, \u003c 3.0.0","expressions":{"features":[{"template_deployment":[{"delete_nested_items_during_deletion":{"constant_value":false}}]}],"skip_provider_registration":{"constant_value":true},"subscription_id":{"constant_value":"7d1e3999-6577-4cd5-b296-f518e5c8e677"}}},"module.database:http":{"name":"http","full_name":"registry.terraform.io/hashicorp/http","module_address":"module.database"},"module.database:null":{"name":"null","full_name":"registry.terraform.io/hashicorp/null","module_address":"module.database"},"module.function_app:archive":{"name":"archive","full_name":"registry.terraform.io/hashicorp/archive","module_address":"module.function_app"},"module.function_app:null":{"name":"null","full_name":"registry.terraform.io/hashicorp/null","module_address":"module.function_app"},"module.function_app:time":{"name":"time","full_name":"registry.terraform.io/hashicorp/time","module_address":"module.function_app"},"module.network:time":{"name":"time","full_name":"registry.terraform.io/hashicorp/time","module_address":"module.network"},"module.ssh:external":{"name":"external","full_name":"registry.terraform.io/hashicorp/external","module_address":"module.ssh"}},"root_module":{"resources":[{"address":"data.azurerm_key_vault.app_config","mode":"data","type":"azurerm_key_vault","name":"app_config","provider_config_key":"azurerm","expressions":{"name":{"references":["local.key_vault.app_config_kv_name","local.key_vault"]},"resource_group_name":{"references":["local.init.resource_group_name","local.init"]}},"schema_version":0},{"address":"data.azurerm_key_vault.tf-secrets","mode":"data","type":"azurerm_key_vault","name":"tf-secrets","provider_config_key":"azurerm","expressions":{"name":{"references":["local.key_vault.tf_secrets_vault","local.key_vault"]},"resource_group_name":{"references":["local.init.resource_group_name","local.init"]}},"schema_version":0},{"address":"data.azurerm_key_vault_key.pdh-2048-key","mode":"data","type":"azurerm_key_vault_key","name":"pdh-2048-key","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["data.azurerm_key_vault.tf-secrets.id","data.azurerm_key_vault.tf-secrets"]},"name":{"references":["local.init.environment","local.init"]}},"schema_version":0},{"address":"data.azurerm_key_vault_secret.pagerduty_businesshours_url","mode":"data","type":"azurerm_key_vault_secret","name":"pagerduty_businesshours_url","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["data.azurerm_key_vault.tf-secrets.id","data.azurerm_key_vault.tf-secrets"]},"name":{"constant_value":"pagerduty-businesshours-url"}},"schema_version":0},{"address":"data.azurerm_key_vault_secret.pagerduty_url","mode":"data","type":"azurerm_key_vault_secret","name":"pagerduty_url","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["data.azurerm_key_vault.tf-secrets.id","data.azurerm_key_vault.tf-secrets"]},"name":{"constant_value":"pagerduty-integration-url"}},"schema_version":0},{"address":"data.azurerm_key_vault_secret.postgres_pass","mode":"data","type":"azurerm_key_vault_secret","name":"postgres_pass","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["data.azurerm_key_vault.app_config.id","data.azurerm_key_vault.app_config"]},"name":{"constant_value":"functionapp-postgres-pass"}},"schema_version":0},{"address":"data.azurerm_key_vault_secret.postgres_readonly_pass","mode":"data","type":"azurerm_key_vault_secret","name":"postgres_readonly_pass","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["data.azurerm_key_vault.app_config.id","data.azurerm_key_vault.app_config"]},"name":{"constant_value":"functionapp-postgres-readonly-pass"}},"schema_version":0},{"address":"data.azurerm_key_vault_secret.postgres_readonly_user","mode":"data","type":"azurerm_key_vault_secret","name":"postgres_readonly_user","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["data.azurerm_key_vault.app_config.id","data.azurerm_key_vault.app_config"]},"name":{"constant_value":"functionapp-postgres-readonly-user"}},"schema_version":0},{"address":"data.azurerm_key_vault_secret.postgres_user","mode":"data","type":"azurerm_key_vault_secret","name":"postgres_user","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["data.azurerm_key_vault.app_config.id","data.azurerm_key_vault.app_config"]},"name":{"constant_value":"functionapp-postgres-user"}},"schema_version":0}],"module_calls":{"app_service_plan":{"source":"../../modules/app_service_plan","expressions":{"app_size":{"references":["local.app.app_size","local.app"]},"app_tier":{"references":["local.app.app_tier","local.app"]},"environment":{"references":["local.init.environment","local.init"]},"location":{"references":["local.init.location","local.init"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]}},"module":{"outputs":{"service_plan_id":{"expression":{"references":["azurerm_app_service_plan.service_plan.id","azurerm_app_service_plan.service_plan"]}}},"resources":[{"address":"azurerm_app_service_plan.service_plan","mode":"managed","type":"azurerm_app_service_plan","name":"service_plan","provider_config_key":"azurerm","expressions":{"kind":{"constant_value":"Linux"},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"reserved":{"constant_value":true},"resource_group_name":{"references":["var.resource_group"]},"sku":[{"size":{"references":["var.app_size"]},"tier":{"references":["var.app_tier"]}}],"tags":{"references":["var.environment"]}},"schema_version":0}],"variables":{"app_size":{},"app_tier":{},"environment":{},"location":{},"resource_group":{},"resource_prefix":{}}}},"application_insights":{"source":"../../modules/application_insights","expressions":{"environment":{"references":["local.init.environment","local.init"]},"is_metabase_env":{"references":["local.init.is_metabase_env","local.init"]},"location":{"references":["local.init.location","local.init"]},"pagerduty_businesshours_url":{"references":["data.azurerm_key_vault_secret.pagerduty_businesshours_url.value","data.azurerm_key_vault_secret.pagerduty_businesshours_url"]},"pagerduty_url":{"references":["data.azurerm_key_vault_secret.pagerduty_url.value","data.azurerm_key_vault_secret.pagerduty_url"]},"postgres_server_id":{"references":["module.database.postgres_server_id","module.database"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]},"service_plan_id":{"references":["module.app_service_plan.service_plan_id","module.app_service_plan"]},"workspace_id":{"references":["module.log_analytics_workspace.law_id","module.log_analytics_workspace"]}},"module":{"outputs":{"action_group_businesshours_id":{"expression":{"references":["local.action_group_businesshours_id"]}},"app_id":{"expression":{"references":["azurerm_application_insights.app_insights.app_id","azurerm_application_insights.app_insights"]}},"connection_string":{"expression":{"references":["azurerm_application_insights.app_insights.connection_string","azurerm_application_insights.app_insights"]}},"instrumentation_key":{"expression":{"references":["azurerm_application_insights.app_insights.instrumentation_key","azurerm_application_insights.app_insights"]}},"metabase_app_id":{"expression":{"references":["var.is_metabase_env","azurerm_application_insights.metabase_insights[0].app_id","azurerm_application_insights.metabase_insights[0]","azurerm_application_insights.metabase_insights"]}},"metabase_connection_string":{"expression":{"references":["var.is_metabase_env","azurerm_application_insights.metabase_insights[0].connection_string","azurerm_application_insights.metabase_insights[0]","azurerm_application_insights.metabase_insights"]}},"metabase_instrumentation_key":{"expression":{"references":["var.is_metabase_env","azurerm_application_insights.metabase_insights[0].instrumentation_key","azurerm_application_insights.metabase_insights[0]","azurerm_application_insights.metabase_insights"]}}},"resources":[{"address":"azurerm_application_insights.app_insights","mode":"managed","type":"azurerm_application_insights","name":"app_insights","provider_config_key":"azurerm","expressions":{"application_type":{"constant_value":"web"},"internet_ingestion_enabled":{"constant_value":true},"internet_query_enabled":{"constant_value":true},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"tags":{"references":["var.environment"]},"workspace_id":{"references":["var.workspace_id"]}},"schema_version":1},{"address":"azurerm_application_insights.metabase_insights","mode":"managed","type":"azurerm_application_insights","name":"metabase_insights","provider_config_key":"azurerm","expressions":{"application_type":{"constant_value":"web"},"internet_ingestion_enabled":{"constant_value":true},"internet_query_enabled":{"constant_value":true},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"tags":{"references":["var.environment"]}},"schema_version":1,"count_expression":{"references":["var.is_metabase_env"]}},{"address":"azurerm_application_insights_web_test.metabase_test","mode":"managed","type":"azurerm_application_insights_web_test","name":"metabase_test","provider_config_key":"azurerm","expressions":{"application_insights_id":{"references":["azurerm_application_insights.app_insights.id","azurerm_application_insights.app_insights"]},"configuration":{"references":["var.environment"]},"enabled":{"constant_value":true},"frequency":{"constant_value":300},"geo_locations":{"constant_value":["us-va-ash-azr","us-ca-sjc-azr","us-fl-mia-edge"]},"kind":{"constant_value":"ping"},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"retry_enabled":{"constant_value":true},"tags":{"references":["var.environment","var.resource_group","var.resource_prefix"]},"timeout":{"constant_value":60}},"schema_version":1},{"address":"azurerm_application_insights_web_test.ping_test","mode":"managed","type":"azurerm_application_insights_web_test","name":"ping_test","provider_config_key":"azurerm","expressions":{"application_insights_id":{"references":["azurerm_application_insights.app_insights.id","azurerm_application_insights.app_insights"]},"configuration":{"references":["local.ping_url"]},"enabled":{"constant_value":true},"frequency":{"constant_value":300},"geo_locations":{"constant_value":["us-va-ash-azr"]},"kind":{"constant_value":"ping"},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"retry_enabled":{"constant_value":true},"tags":{"references":["var.environment","var.resource_group","var.resource_prefix"]},"timeout":{"constant_value":60}},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_action_group.action_group","mode":"managed","type":"azurerm_monitor_action_group","name":"action_group","provider_config_key":"azurerm","expressions":{"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"short_name":{"constant_value":"ReportStream"},"tags":{"references":["var.environment"]},"webhook_receiver":[{"name":{"constant_value":"PagerDuty"},"service_uri":{"references":["var.pagerduty_url"]},"use_common_alert_schema":{"constant_value":true}}]},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_action_group.action_group_businesshours","mode":"managed","type":"azurerm_monitor_action_group","name":"action_group_businesshours","provider_config_key":"azurerm","expressions":{"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"short_name":{"constant_value":"PD Day Hours"},"tags":{"references":["var.environment"]},"webhook_receiver":[{"name":{"constant_value":"PagerDuty Business Hours"},"service_uri":{"references":["var.pagerduty_businesshours_url"]},"use_common_alert_schema":{"constant_value":true}}]},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_action_group.action_group_dummy","mode":"managed","type":"azurerm_monitor_action_group","name":"action_group_dummy","provider_config_key":"azurerm","expressions":{"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"short_name":{"constant_value":"Dummy AG"},"tags":{"references":["var.environment"]},"webhook_receiver":[{"name":{"constant_value":"Dummy URL"},"service_uri":{"constant_value":"https://foo.local"},"use_common_alert_schema":{"constant_value":false}}]},"schema_version":1},{"address":"azurerm_monitor_action_group.action_group_mbhealthcheck","mode":"managed","type":"azurerm_monitor_action_group","name":"action_group_mbhealthcheck","provider_config_key":"azurerm","expressions":{"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"short_name":{"constant_value":"mb-check"},"tags":{"references":["var.environment"]},"webhook_receiver":[{"name":{"constant_value":"PagerDuty-mbhealthcheck"},"service_uri":{"references":["var.pagerduty_url"]},"use_common_alert_schema":{"constant_value":true}}]},"schema_version":1},{"address":"azurerm_monitor_metric_alert.app_service_cpu_util","mode":"managed","type":"azurerm_monitor_metric_alert","name":"app_service_cpu_util","provider_config_key":"azurerm","expressions":{"action":[{"action_group_id":{"references":["azurerm_monitor_action_group.action_group[0].id","azurerm_monitor_action_group.action_group[0]","azurerm_monitor_action_group.action_group"]}}],"criteria":[{"aggregation":{"constant_value":"Average"},"metric_name":{"constant_value":"CpuPercentage"},"metric_namespace":{"constant_value":"Microsoft.Web/serverfarms"},"operator":{"constant_value":"GreaterThanOrEqual"},"threshold":{"references":["local.app_service_cpu_threshold"]}}],"description":{"references":["var.environment","local.app_service_cpu_threshold"]},"frequency":{"constant_value":"PT1M"},"name":{"references":["var.environment"]},"resource_group_name":{"references":["var.resource_group"]},"scopes":{"references":["var.service_plan_id"]},"severity":{"constant_value":1},"window_size":{"constant_value":"PT5M"}},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_metric_alert.app_service_mem_util","mode":"managed","type":"azurerm_monitor_metric_alert","name":"app_service_mem_util","provider_config_key":"azurerm","expressions":{"action":[{"action_group_id":{"references":["azurerm_monitor_action_group.action_group[0].id","azurerm_monitor_action_group.action_group[0]","azurerm_monitor_action_group.action_group"]}}],"criteria":[{"aggregation":{"constant_value":"Average"},"metric_name":{"constant_value":"MemoryPercentage"},"metric_namespace":{"constant_value":"Microsoft.Web/serverfarms"},"operator":{"constant_value":"GreaterThanOrEqual"},"threshold":{"references":["local.app_service_mem_threshold"]}}],"description":{"references":["var.environment","local.app_service_mem_threshold"]},"frequency":{"constant_value":"PT1M"},"name":{"references":["var.environment"]},"resource_group_name":{"references":["var.resource_group"]},"scopes":{"references":["var.service_plan_id"]},"severity":{"constant_value":1},"window_size":{"constant_value":"PT5M"}},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_metric_alert.availability_alert","mode":"managed","type":"azurerm_monitor_metric_alert","name":"availability_alert","provider_config_key":"azurerm","expressions":{"action":[{"action_group_id":{"references":["azurerm_monitor_action_group.action_group[0].id","azurerm_monitor_action_group.action_group[0]","azurerm_monitor_action_group.action_group"]}}],"criteria":[{"aggregation":{"constant_value":"Average"},"metric_name":{"constant_value":"availabilityResults/availabilityPercentage"},"metric_namespace":{"constant_value":"microsoft.insights/components"},"operator":{"constant_value":"LessThan"},"threshold":{"constant_value":95}}],"description":{"constant_value":"Degraded Availability"},"frequency":{"constant_value":"PT15M"},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"scopes":{"references":["azurerm_application_insights.app_insights.id","azurerm_application_insights.app_insights"]},"severity":{"constant_value":0},"tags":{"references":["var.environment"]},"window_size":{"constant_value":"PT1H"}},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_metric_alert.availability_alert_warning","mode":"managed","type":"azurerm_monitor_metric_alert","name":"availability_alert_warning","provider_config_key":"azurerm","expressions":{"action":[{"action_group_id":{"references":["azurerm_monitor_action_group.action_group[0].id","azurerm_monitor_action_group.action_group[0]","azurerm_monitor_action_group.action_group"]}}],"criteria":[{"aggregation":{"constant_value":"Average"},"metric_name":{"constant_value":"availabilityResults/availabilityPercentage"},"metric_namespace":{"constant_value":"microsoft.insights/components"},"operator":{"constant_value":"LessThan"},"threshold":{"constant_value":100}}],"description":{"constant_value":"Degraded Availability"},"frequency":{"constant_value":"PT15M"},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"scopes":{"references":["azurerm_application_insights.app_insights.id","azurerm_application_insights.app_insights"]},"severity":{"constant_value":2},"tags":{"references":["var.environment"]},"window_size":{"constant_value":"PT1H"}},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_metric_alert.db_cpu_util","mode":"managed","type":"azurerm_monitor_metric_alert","name":"db_cpu_util","provider_config_key":"azurerm","expressions":{"action":[{"action_group_id":{"references":["azurerm_monitor_action_group.action_group[0].id","azurerm_monitor_action_group.action_group[0]","azurerm_monitor_action_group.action_group"]}}],"criteria":[{"aggregation":{"constant_value":"Average"},"metric_name":{"constant_value":"cpu_percent"},"metric_namespace":{"constant_value":"Microsoft.DBforPostgreSQL/servers"},"operator":{"constant_value":"GreaterThanOrEqual"},"threshold":{"references":["local.database_cpu_threshold"]}}],"description":{"references":["var.environment","local.database_cpu_threshold"]},"frequency":{"constant_value":"PT1M"},"name":{"references":["var.environment"]},"resource_group_name":{"references":["var.resource_group"]},"scopes":{"references":["var.postgres_server_id"]},"severity":{"constant_value":1},"window_size":{"constant_value":"PT5M"}},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_metric_alert.db_mem_util","mode":"managed","type":"azurerm_monitor_metric_alert","name":"db_mem_util","provider_config_key":"azurerm","expressions":{"action":[{"action_group_id":{"references":["azurerm_monitor_action_group.action_group[0].id","azurerm_monitor_action_group.action_group[0]","azurerm_monitor_action_group.action_group"]}}],"criteria":[{"aggregation":{"constant_value":"Average"},"metric_name":{"constant_value":"memory_percent"},"metric_namespace":{"constant_value":"Microsoft.DBforPostgreSQL/servers"},"operator":{"constant_value":"GreaterThanOrEqual"},"threshold":{"references":["local.database_mem_threshold"]}}],"description":{"references":["var.environment","local.database_mem_threshold"]},"frequency":{"constant_value":"PT1M"},"name":{"references":["var.environment"]},"resource_group_name":{"references":["var.resource_group"]},"scopes":{"references":["var.postgres_server_id"]},"severity":{"constant_value":1},"window_size":{"constant_value":"PT5M"}},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_metric_alert.exception_alert_critical","mode":"managed","type":"azurerm_monitor_metric_alert","name":"exception_alert_critical","provider_config_key":"azurerm","expressions":{"action":[{"action_group_id":{"references":["azurerm_monitor_action_group.action_group[0].id","azurerm_monitor_action_group.action_group[0]","azurerm_monitor_action_group.action_group"]}}],"criteria":[{"aggregation":{"constant_value":"Count"},"metric_name":{"constant_value":"exceptions/count"},"metric_namespace":{"constant_value":"microsoft.insights/components"},"operator":{"constant_value":"GreaterThan"},"threshold":{"constant_value":99}}],"description":{"constant_value":"Over 100 Exceptions Raised in the Last Hour"},"frequency":{"constant_value":"PT1M"},"name":{"constant_value":"Over 100 Exceptions Raised in the Last Hour"},"resource_group_name":{"references":["var.resource_group"]},"scopes":{"references":["azurerm_application_insights.app_insights.id","azurerm_application_insights.app_insights"]},"severity":{"constant_value":0},"tags":{"references":["var.environment"]},"window_size":{"constant_value":"PT1H"}},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_metric_alert.exception_alert_error","mode":"managed","type":"azurerm_monitor_metric_alert","name":"exception_alert_error","provider_config_key":"azurerm","expressions":{"action":[{"action_group_id":{"references":["azurerm_monitor_action_group.action_group[0].id","azurerm_monitor_action_group.action_group[0]","azurerm_monitor_action_group.action_group"]}}],"criteria":[{"aggregation":{"constant_value":"Count"},"metric_name":{"constant_value":"exceptions/count"},"metric_namespace":{"constant_value":"microsoft.insights/components"},"operator":{"constant_value":"GreaterThan"},"threshold":{"constant_value":9}}],"description":{"constant_value":"Over 10 Exceptions Raised in the Last Hour"},"frequency":{"constant_value":"PT1M"},"name":{"constant_value":"Over 10 Exceptions Raised in the Last Hour"},"resource_group_name":{"references":["var.resource_group"]},"scopes":{"references":["azurerm_application_insights.app_insights.id","azurerm_application_insights.app_insights"]},"severity":{"constant_value":1},"tags":{"references":["var.environment"]},"window_size":{"constant_value":"PT1H"}},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_metric_alert.exception_alert_warn","mode":"managed","type":"azurerm_monitor_metric_alert","name":"exception_alert_warn","provider_config_key":"azurerm","expressions":{"action":[{"action_group_id":{"references":["azurerm_monitor_action_group.action_group[0].id","azurerm_monitor_action_group.action_group[0]","azurerm_monitor_action_group.action_group"]}}],"criteria":[{"aggregation":{"constant_value":"Count"},"metric_name":{"constant_value":"exceptions/count"},"metric_namespace":{"constant_value":"microsoft.insights/components"},"operator":{"constant_value":"GreaterThan"},"threshold":{"constant_value":0}}],"description":{"constant_value":"One or More Exceptions Raised in the Last Hour"},"frequency":{"constant_value":"PT1M"},"name":{"constant_value":"One or More Exceptions Raised in the Last Hour"},"resource_group_name":{"references":["var.resource_group"]},"scopes":{"references":["azurerm_application_insights.app_insights.id","azurerm_application_insights.app_insights"]},"severity":{"constant_value":2},"tags":{"references":["var.environment"]},"window_size":{"constant_value":"PT1H"}},"schema_version":1,"count_expression":{"references":["local.prod_exclusive_alerting"]}},{"address":"azurerm_monitor_scheduled_query_rules_alert.db_query_duration","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"db_query_duration","provider_config_key":"azurerm","expressions":{"action":[{"action_group":{"references":["local.action_group_id"]}}],"data_source_id":{"references":["local.app_insights_id"]},"description":{"references":["var.environment"]},"frequency":{"constant_value":5},"location":{"references":["var.location"]},"name":{"references":["var.environment"]},"query":{"constant_value":"dependencies\n| where timestamp \u003e= ago(5m) and name has \"SQL:\" and duration \u003e= 10000\n"},"resource_group_name":{"references":["var.resource_group"]},"severity":{"constant_value":2},"time_window":{"constant_value":5},"trigger":[{"operator":{"constant_value":"GreaterThan"},"threshold":{"constant_value":0}}]},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_scheduled_query_rules_alert.db_query_duration_over_time_window","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"db_query_duration_over_time_window","provider_config_key":"azurerm","expressions":{"action":[{"action_group":{"references":["local.action_group_id"]}}],"data_source_id":{"references":["local.app_insights_id"]},"description":{"constant_value":"10+ DB queries with durations over 1.25s in the past 5 minutes"},"frequency":{"constant_value":5},"location":{"references":["var.location"]},"name":{"references":["var.environment"]},"query":{"constant_value":"dependencies\n| where timestamp \u003e= ago(5m) and name has \"SQL:\" and duration \u003e 1250\n"},"resource_group_name":{"references":["var.resource_group"]},"severity":{"constant_value":1},"time_window":{"constant_value":5},"trigger":[{"operator":{"constant_value":"GreaterThan"},"threshold":{"constant_value":10}}]},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_scheduled_query_rules_alert.http_2xx_failed_requests","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"http_2xx_failed_requests","provider_config_key":"azurerm","expressions":{"action":[{"action_group":{"references":["local.action_group_id"]}}],"data_source_id":{"references":["local.app_insights_id"]},"description":{"references":["var.environment"]},"frequency":{"constant_value":5},"location":{"references":["var.location"]},"name":{"references":["var.environment"]},"query":{"constant_value":"requests\n| where toint(resultCode) between (200 .. 299) and success == false and timestamp \u003e= ago(5m)\n"},"resource_group_name":{"references":["var.resource_group"]},"severity":{"constant_value":1},"time_window":{"constant_value":5},"trigger":[{"operator":{"constant_value":"GreaterThan"},"threshold":{"constant_value":14}}]},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_scheduled_query_rules_alert.http_4xx_errors","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"http_4xx_errors","provider_config_key":"azurerm","expressions":{"action":[{"action_group":{"references":["local.action_group_id"]}}],"data_source_id":{"references":["local.app_insights_id"]},"description":{"references":["var.environment"]},"frequency":{"constant_value":5},"location":{"references":["var.location"]},"name":{"references":["var.environment"]},"query":{"constant_value":"requests\n| where toint(resultCode) \u003e= 400 and toint(resultCode) \u003c 500 and toint(resultCode) != 401 and timestamp \u003e= ago(5m)\n"},"resource_group_name":{"references":["var.resource_group"]},"severity":{"constant_value":1},"time_window":{"constant_value":5},"trigger":[{"operator":{"constant_value":"GreaterThan"},"threshold":{"constant_value":99}}]},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_scheduled_query_rules_alert.http_5xx_errors","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"http_5xx_errors","provider_config_key":"azurerm","expressions":{"action":[{"action_group":{"references":["local.action_group_id"]}}],"data_source_id":{"references":["local.app_insights_id"]},"description":{"references":["var.environment"]},"frequency":{"constant_value":5},"location":{"references":["var.location"]},"name":{"references":["var.environment"]},"query":{"constant_value":"requests\n| where toint(resultCode) \u003e= 500 and timestamp \u003e= ago(5m)\n"},"resource_group_name":{"references":["var.resource_group"]},"severity":{"constant_value":0},"time_window":{"constant_value":5},"trigger":[{"operator":{"constant_value":"GreaterThan"},"threshold":{"constant_value":9}}]},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_scheduled_query_rules_alert.http_response_time","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"http_response_time","provider_config_key":"azurerm","expressions":{"action":[{"action_group":{"references":["local.action_group_id"]}}],"data_source_id":{"references":["local.app_insights_id"]},"description":{"constant_value":"Median duration \u003e 10 seconds"},"frequency":{"constant_value":5},"location":{"references":["var.location"]},"name":{"references":["var.environment"]},"query":{"constant_value":"requests\n| summarize AggregatedValue = (percentile(duration, 50)) by bin(timestamp, 5m)\n"},"resource_group_name":{"references":["var.resource_group"]},"severity":{"constant_value":2},"time_window":{"constant_value":5},"trigger":[{"metric_trigger":[{"metric_column":{"constant_value":"timestamp"},"metric_trigger_type":{"constant_value":"Consecutive"},"operator":{"constant_value":"GreaterThan"},"threshold":{"constant_value":1}}],"operator":{"constant_value":"GreaterThanOrEqual"},"threshold":{"constant_value":10000}}]},"schema_version":1,"count_expression":{"references":["local.alerting_enabled"]}},{"address":"azurerm_monitor_smart_detector_alert_rule.failure_anomalies","mode":"managed","type":"azurerm_monitor_smart_detector_alert_rule","name":"failure_anomalies","provider_config_key":"azurerm","expressions":{"action_group":[{"ids":{"references":["local.action_group_id"]}}],"description":{"references":["var.environment"]},"detector_type":{"constant_value":"FailureAnomaliesDetector"},"frequency":{"constant_value":"PT1M"},"name":{"references":["var.environment"]},"resource_group_name":{"references":["var.resource_group"]},"scope_resource_ids":{"references":["azurerm_application_insights.app_insights.id","azurerm_application_insights.app_insights"]},"severity":{"constant_value":"Sev1"}},"schema_version":0,"count_expression":{"references":["local.alerting_enabled"]}}],"variables":{"environment":{"description":"Target Environment"},"is_metabase_env":{"description":"Should Metabase be deployed in this environment"},"location":{"description":"Function App Location"},"pagerduty_businesshours_url":{},"pagerduty_url":{},"postgres_server_id":{},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"},"service_plan_id":{},"workspace_id":{"description":"Log Analytics Workspace resource id"}}}},"azure_dashboard":{"source":"../../modules/azure_dashboard","expressions":{"environment":{"references":["local.init.environment","local.init"]},"location":{"references":["local.init.location","local.init"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]}},"module":{"outputs":{"dashboard_id":{"expression":{"references":["azurerm_dashboard.az_dashboard.id","azurerm_dashboard.az_dashboard"]},"description":"The resource ID of the Dashboard"}},"resources":[{"address":"azurerm_dashboard.az_dashboard","mode":"managed","type":"azurerm_dashboard","name":"az_dashboard","provider_config_key":"azurerm","expressions":{"dashboard_properties":{"references":["data.azurerm_subscription.current.subscription_id","data.azurerm_subscription.current","var.resource_prefix","var.resource_group"]},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"tags":{"references":["var.environment"]}},"schema_version":0},{"address":"data.azurerm_subscription.current","mode":"data","type":"azurerm_subscription","name":"current","provider_config_key":"azurerm","schema_version":0}],"variables":{"environment":{"description":"Target Environment"},"location":{"description":"Function App Location"},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"}}}},"azure_dashboard-copy":{"source":"../../modules/azure_dashboard-copy","expressions":{"environment":{"references":["local.init.environment","local.init"]},"location":{"references":["local.init.location","local.init"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]}},"module":{"outputs":{"dashboard_id":{"expression":{"references":["azurerm_dashboard.az_dashboard.id","azurerm_dashboard.az_dashboard"]},"description":"The resource ID of the Dashboard"}},"resources":[{"address":"azurerm_dashboard.az_dashboard","mode":"managed","type":"azurerm_dashboard","name":"az_dashboard","provider_config_key":"azurerm","expressions":{"dashboard_properties":{"references":["data.azurerm_subscription.current.subscription_id","data.azurerm_subscription.current","var.resource_prefix","var.resource_group"]},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"tags":{"references":["var.environment"]}},"schema_version":0},{"address":"data.azurerm_subscription.current","mode":"data","type":"azurerm_subscription","name":"current","provider_config_key":"azurerm","schema_version":0}],"variables":{"environment":{"description":"Target Environment"},"location":{"description":"Function App Location"},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"}}}},"container_registry":{"source":"../../modules/container_registry","expressions":{"enable_content_trust":{"constant_value":false},"environment":{"references":["local.init.environment","local.init"]},"location":{"references":["local.init.location","local.init"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]},"subnets":{"references":["module.network.subnets","module.network"]}},"module":{"outputs":{"container_registry_admin_password":{"sensitive":true,"expression":{"references":["azurerm_container_registry.container_registry.admin_password","azurerm_container_registry.container_registry"]}},"container_registry_admin_username":{"expression":{"references":["azurerm_container_registry.container_registry.admin_username","azurerm_container_registry.container_registry"]}},"container_registry_id":{"expression":{"references":["azurerm_container_registry.container_registry.id","azurerm_container_registry.container_registry"]}},"container_registry_login_server":{"expression":{"references":["azurerm_container_registry.container_registry.login_server","azurerm_container_registry.container_registry"]}}},"resources":[{"address":"azurerm_container_registry.container_registry","mode":"managed","type":"azurerm_container_registry","name":"container_registry","provider_config_key":"azurerm","expressions":{"admin_enabled":{"constant_value":true},"georeplications":{"constant_value":[{"location":"westus","regional_endpoint_enabled":null,"tags":null,"zone_redundancy_enabled":null}]},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"public_network_access_enabled":{"constant_value":true},"resource_group_name":{"references":["var.resource_group"]},"retention_policy":{"constant_value":[{"days":365,"enabled":true}]},"sku":{"constant_value":"Premium"},"tags":{"references":["var.environment"]},"trust_policy":{"constant_value":[{"enabled":true}]}},"schema_version":2}],"variables":{"enable_content_trust":{"description":"Boolean value indicating enabledness of Content Trust"},"environment":{"description":"Target Environment"},"location":{"description":"Container Registry Location"},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"},"subnets":{"description":"A set of all available subnet combinations"}}}},"data_factory":{"source":"../../modules/data_factory","expressions":{"environment":{"references":["local.init.environment","local.init"]},"key_vault_id":{"references":["module.key_vault.application_key_vault_id","module.key_vault"]},"location":{"references":["local.init.location","local.init"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]},"sa_primary_connection_string":{"references":["module.storage.sa_primary_connection_string","module.storage"]},"sftp_shares":{"references":["module.sftp.sftp_shares","module.sftp"]},"sftp_storage":{"references":["module.sftp.sftp_storage","module.sftp"]},"storage_account_id":{"references":["module.storage.storage_account_id","module.storage"]},"terraform_caller_ip_address":{"references":["local.network.terraform_caller_ip_address","local.network"]}},"module":{"outputs":{"data_factory_id":{"expression":{"references":["azurerm_data_factory.primary.id","azurerm_data_factory.primary"]}}},"resources":[{"address":"azurerm_data_factory.primary","mode":"managed","type":"azurerm_data_factory","name":"primary","provider_config_key":"azurerm","expressions":{"identity":[{"type":{"constant_value":"SystemAssigned"}}],"location":{"references":["var.location"]},"managed_virtual_network_enabled":{"constant_value":true},"name":{"references":["var.resource_prefix"]},"public_network_enabled":{"constant_value":true},"resource_group_name":{"references":["var.resource_group"]},"timeouts":{}},"schema_version":2,"depends_on":["var.sftp_shares"]},{"address":"azurerm_data_factory_dataset_binary.sftp_archive","mode":"managed","type":"azurerm_data_factory_dataset_binary","name":"sftp_archive","provider_config_key":"azurerm","expressions":{"additional_properties":{"constant_value":{}},"annotations":{"constant_value":[]},"azure_blob_storage_location":[{"container":{"constant_value":"sftparchive"},"dynamic_filename_enabled":{"constant_value":false},"dynamic_path_enabled":{"constant_value":true},"path":{"constant_value":"@concat(dataset().sharename,'/',string(formatDateTime(utcNow(),'yyyyMMddHH')))"}}],"data_factory_id":{"references":["azurerm_data_factory.primary.id","azurerm_data_factory.primary"]},"folder":{"constant_value":"SFTP-share-to-archive"},"linked_service_name":{"references":["azurerm_data_factory_linked_service_azure_blob_storage.sftp_archive.name","azurerm_data_factory_linked_service_azure_blob_storage.sftp_archive"]},"name":{"constant_value":"SFTPArchive"},"parameters":{"constant_value":{"sharename":"testshare"}},"resource_group_name":{"references":["var.resource_group"]},"timeouts":{}},"schema_version":0},{"address":"azurerm_data_factory_dataset_binary.sftp_share","mode":"managed","type":"azurerm_data_factory_dataset_binary","name":"sftp_share","provider_config_key":"azurerm","expressions":{"additional_properties":{"constant_value":{}},"annotations":{"constant_value":[]},"data_factory_id":{"references":["azurerm_data_factory.primary.id","azurerm_data_factory.primary"]},"folder":{"constant_value":"SFTP-share-to-archive"},"linked_service_name":{"references":["azurerm_data_factory_linked_service_azure_file_storage.sftp_share.name","azurerm_data_factory_linked_service_azure_file_storage.sftp_share"]},"name":{"constant_value":"SFTPShare"},"parameters":{"constant_value":{"sharename":"testshare"}},"resource_group_name":{"references":["var.resource_group"]},"sftp_server_location":[{"dynamic_filename_enabled":{"constant_value":true},"dynamic_path_enabled":{"constant_value":true},"filename":{"constant_value":""},"path":{"constant_value":"/"}}],"timeouts":{}},"schema_version":0},{"address":"azurerm_data_factory_integration_runtime_azure.vnet","mode":"managed","type":"azurerm_data_factory_integration_runtime_azure","name":"vnet","provider_config_key":"azurerm","expressions":{"cleanup_enabled":{"constant_value":false},"compute_type":{"constant_value":"General"},"core_count":{"constant_value":8},"data_factory_id":{"references":["azurerm_data_factory.primary.id","azurerm_data_factory.primary"]},"location":{"references":["var.location"]},"name":{"constant_value":"VnetIR"},"resource_group_name":{"references":["var.resource_group"]},"time_to_live_min":{"constant_value":10},"timeouts":{},"virtual_network_enabled":{"constant_value":true}},"schema_version":0},{"address":"azurerm_data_factory_linked_service_azure_blob_storage.sftp_archive","mode":"managed","type":"azurerm_data_factory_linked_service_azure_blob_storage","name":"sftp_archive","provider_config_key":"azurerm","expressions":{"additional_properties":{"constant_value":{}},"annotations":{"constant_value":[]},"connection_string":{"references":["var.sa_primary_connection_string"]},"data_factory_id":{"references":["azurerm_data_factory.primary.id","azurerm_data_factory.primary"]},"integration_runtime_name":{"references":["azurerm_data_factory_integration_runtime_azure.vnet.name","azurerm_data_factory_integration_runtime_azure.vnet"]},"name":{"constant_value":"SFTPArchive"},"parameters":{"constant_value":{}},"resource_group_name":{"references":["var.resource_group"]},"timeouts":{},"use_managed_identity":{"constant_value":true}},"schema_version":0},{"address":"azurerm_data_factory_linked_service_azure_file_storage.sftp_share","mode":"managed","type":"azurerm_data_factory_linked_service_azure_file_storage","name":"sftp_share","provider_config_key":"azurerm","expressions":{"additional_properties":{"constant_value":{}},"annotations":{"constant_value":[]},"connection_string":{"references":["var.sftp_storage.primary_connection_string","var.sftp_storage"]},"data_factory_id":{"references":["azurerm_data_factory.primary.id","azurerm_data_factory.primary"]},"file_share":{"constant_value":"@{linkedService().sharename}"},"integration_runtime_name":{"references":["azurerm_data_factory_integration_runtime_azure.vnet.name","azurerm_data_factory_integration_runtime_azure.vnet"]},"name":{"constant_value":"SFTPShare"},"parameters":{"constant_value":{"sharename":""}},"resource_group_name":{"references":["var.resource_group"]},"timeouts":{}},"schema_version":0},{"address":"azurerm_data_factory_managed_private_endpoint.sftp_archive","mode":"managed","type":"azurerm_data_factory_managed_private_endpoint","name":"sftp_archive","provider_config_key":"azurerm","expressions":{"data_factory_id":{"references":["azurerm_data_factory.primary.id","azurerm_data_factory.primary"]},"name":{"constant_value":"StorageAccountPrivate"},"subresource_name":{"constant_value":"blob"},"target_resource_id":{"references":["var.storage_account_id"]},"timeouts":{}},"schema_version":0},{"address":"azurerm_data_factory_managed_private_endpoint.sftp_share","mode":"managed","type":"azurerm_data_factory_managed_private_endpoint","name":"sftp_share","provider_config_key":"azurerm","expressions":{"data_factory_id":{"references":["azurerm_data_factory.primary.id","azurerm_data_factory.primary"]},"name":{"constant_value":"SFTPShare"},"subresource_name":{"constant_value":"file"},"target_resource_id":{"references":["var.sftp_storage.id","var.sftp_storage"]},"timeouts":{}},"schema_version":0},{"address":"azurerm_data_factory_pipeline.sftp_share_to_archive","mode":"managed","type":"azurerm_data_factory_pipeline","name":"sftp_share_to_archive","provider_config_key":"azurerm","expressions":{"activities_json":{"references":["var.sftp_shares"]},"annotations":{"constant_value":[]},"concurrency":{"constant_value":1},"data_factory_id":{"references":["azurerm_data_factory.primary.id","azurerm_data_factory.primary"]},"folder":{"constant_value":"SFTP-share-to-archive"},"name":{"constant_value":"SFTP-share-to-archive"},"parameters":{"constant_value":{}},"resource_group_name":{"references":["var.resource_group"]},"timeouts":{},"variables":{"constant_value":{"SFTPShareNames":""}}},"schema_version":0,"depends_on":["azurerm_data_factory_dataset_binary.sftp_share","azurerm_data_factory_dataset_binary.sftp_archive"]},{"address":"azurerm_data_factory_trigger_schedule.sftp_share_to_archive","mode":"managed","type":"azurerm_data_factory_trigger_schedule","name":"sftp_share_to_archive","provider_config_key":"azurerm","expressions":{"activated":{"constant_value":true},"annotations":{"constant_value":[]},"data_factory_id":{"references":["azurerm_data_factory.primary.id","azurerm_data_factory.primary"]},"frequency":{"constant_value":"Hour"},"interval":{"constant_value":1},"name":{"constant_value":"SFTPtoArchive"},"pipeline_name":{"references":["azurerm_data_factory_pipeline.sftp_share_to_archive.name","azurerm_data_factory_pipeline.sftp_share_to_archive"]},"resource_group_name":{"references":["var.resource_group"]},"start_time":{"constant_value":"2022-07-18T15:05:00Z"},"timeouts":{}},"schema_version":0}],"variables":{"environment":{"description":"Target Environment"},"key_vault_id":{"description":"Key Vault resource id"},"location":{"description":"Function App Location"},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"},"sa_primary_connection_string":{"sensitive":true},"sftp_shares":{},"sftp_storage":{},"storage_account_id":{},"terraform_caller_ip_address":{"description":"The IP address of the Terraform script caller. This IP will have already been whitelisted; it's inclusion is to prevent its removal during terraform apply calls.","sensitive":true}}}},"database":{"source":"../../modules/database","expressions":{"aad_group_postgres_admin":{"references":["local.ad.aad_group_postgres_admin","local.ad"]},"application_key_vault_id":{"references":["module.key_vault.application_key_vault_id","module.key_vault"]},"db_auto_grow":{"references":["local.database.db_auto_grow","local.database"]},"db_prevent_destroy":{"references":["local.database.db_prevent_destroy","local.database"]},"db_replica":{"references":["local.database.db_replica","local.database"]},"db_sku_name":{"references":["local.database.db_sku_name","local.database"]},"db_storage_mb":{"references":["local.database.db_storage_mb","local.database"]},"db_threat_detection":{"references":["local.database.db_threat_detection","local.database"]},"db_version":{"references":["local.database.db_version","local.database"]},"dns_vnet":{"references":["local.network.dns_vnet","local.network"]},"dns_zones":{"references":["module.network.dns_zones","module.network"]},"environment":{"references":["local.init.environment","local.init"]},"is_metabase_env":{"references":["local.init.is_metabase_env","local.init"]},"location":{"references":["local.init.location","local.init"]},"postgres_pass":{"references":["data.azurerm_key_vault_secret.postgres_pass.value","data.azurerm_key_vault_secret.postgres_pass"]},"postgres_readonly_pass":{"references":["data.azurerm_key_vault_secret.postgres_readonly_pass.value","data.azurerm_key_vault_secret.postgres_readonly_pass"]},"postgres_readonly_user":{"references":["data.azurerm_key_vault_secret.postgres_readonly_user.value","data.azurerm_key_vault_secret.postgres_readonly_user"]},"postgres_user":{"references":["data.azurerm_key_vault_secret.postgres_user.value","data.azurerm_key_vault_secret.postgres_user"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]},"rsa_key_2048":{"references":["data.azurerm_key_vault_key.pdh-2048-key.id","data.azurerm_key_vault_key.pdh-2048-key"]},"subnets":{"references":["module.network.subnets","module.network"]},"use_cdc_managed_vnet":{"references":["local.network.use_cdc_managed_vnet","local.network"]}},"module":{"outputs":{"postgres_server_id":{"expression":{"references":["azurerm_postgresql_server.postgres_server.id","azurerm_postgresql_server.postgres_server"]}},"postgres_server_name":{"expression":{"references":["azurerm_postgresql_server.postgres_server.name","azurerm_postgresql_server.postgres_server"]}}},"resources":[{"address":"azurerm_postgresql_active_directory_administrator.postgres_aad_admin","mode":"managed","type":"azurerm_postgresql_active_directory_administrator","name":"postgres_aad_admin","provider_config_key":"azurerm","expressions":{"login":{"constant_value":"reportstream_pgsql_admin"},"object_id":{"references":["var.aad_group_postgres_admin"]},"resource_group_name":{"references":["var.resource_group"]},"server_name":{"references":["azurerm_postgresql_server.postgres_server.name","azurerm_postgresql_server.postgres_server"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"schema_version":0},{"address":"azurerm_postgresql_database.metabase_db","mode":"managed","type":"azurerm_postgresql_database","name":"metabase_db","provider_config_key":"azurerm","expressions":{"charset":{"constant_value":"UTF8"},"collation":{"constant_value":"English_United States.1252"},"name":{"constant_value":"metabase"},"resource_group_name":{"references":["var.resource_group"]},"server_name":{"references":["azurerm_postgresql_server.postgres_server.name","azurerm_postgresql_server.postgres_server"]}},"schema_version":0,"count_expression":{"references":["var.is_metabase_env"]}},{"address":"azurerm_postgresql_database.prime_data_hub_candidate_db","mode":"managed","type":"azurerm_postgresql_database","name":"prime_data_hub_candidate_db","provider_config_key":"azurerm","expressions":{"charset":{"constant_value":"UTF8"},"collation":{"constant_value":"English_United States.1252"},"name":{"constant_value":"prime_data_hub_candidate"},"resource_group_name":{"references":["var.resource_group"]},"server_name":{"references":["azurerm_postgresql_server.postgres_server.name","azurerm_postgresql_server.postgres_server"]}},"schema_version":0},{"address":"azurerm_postgresql_database.prime_data_hub_db","mode":"managed","type":"azurerm_postgresql_database","name":"prime_data_hub_db","provider_config_key":"azurerm","expressions":{"charset":{"constant_value":"UTF8"},"collation":{"constant_value":"English_United States.1252"},"name":{"constant_value":"prime_data_hub"},"resource_group_name":{"references":["var.resource_group"]},"server_name":{"references":["azurerm_postgresql_server.postgres_server.name","azurerm_postgresql_server.postgres_server"]}},"schema_version":0},{"address":"azurerm_postgresql_flexible_server.flex_server","mode":"managed","type":"azurerm_postgresql_flexible_server","name":"flex_server","provider_config_key":"azurerm","expressions":{"administrator_login":{"references":["var.postgres_user"]},"administrator_password":{"references":["var.postgres_pass"]},"delegated_subnet_id":{"references":["var.subnets.postgres_subnets[0]","var.subnets.postgres_subnets","var.subnets"]},"geo_redundant_backup_enabled":{"constant_value":true},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"private_dns_zone_id":{"references":["var.dns_zones[\"postgres\"].id","var.dns_zones[\"postgres\"]","var.dns_zones"]},"resource_group_name":{"references":["var.resource_group"]},"sku_name":{"references":["var.flex_sku_name"]},"storage_mb":{"constant_value":32768},"version":{"constant_value":"13"},"zone":{"constant_value":"1"}},"schema_version":0,"for_each_expression":{"references":["var.flex_instances"]}},{"address":"azurerm_postgresql_server.postgres_server","mode":"managed","type":"azurerm_postgresql_server","name":"postgres_server","provider_config_key":"azurerm","expressions":{"administrator_login":{"references":["var.postgres_user"]},"administrator_login_password":{"references":["var.postgres_pass"]},"auto_grow_enabled":{"references":["var.db_auto_grow"]},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"public_network_access_enabled":{"constant_value":false},"resource_group_name":{"references":["var.resource_group"]},"sku_name":{"references":["var.db_sku_name"]},"ssl_enforcement_enabled":{"constant_value":true},"ssl_minimal_tls_version_enforced":{"constant_value":"TLS1_2"},"storage_mb":{"references":["var.db_storage_mb"]},"tags":{"references":["var.environment"]},"threat_detection_policy":[{"email_account_admins":{"constant_value":true},"enabled":{"references":["var.db_threat_detection"]}}],"version":{"references":["var.db_version"]}},"schema_version":0},{"address":"azurerm_postgresql_server.postgres_server_replica","mode":"managed","type":"azurerm_postgresql_server","name":"postgres_server_replica","provider_config_key":"azurerm","expressions":{"administrator_login":{"references":["var.postgres_user"]},"administrator_login_password":{"references":["var.postgres_pass"]},"auto_grow_enabled":{"references":["var.db_auto_grow"]},"create_mode":{"constant_value":"Replica"},"creation_source_server_id":{"references":["azurerm_postgresql_server.postgres_server.id","azurerm_postgresql_server.postgres_server"]},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"location":{"constant_value":"westus"},"name":{"references":["azurerm_postgresql_server.postgres_server.name","azurerm_postgresql_server.postgres_server"]},"public_network_access_enabled":{"constant_value":false},"resource_group_name":{"references":["var.resource_group"]},"sku_name":{"references":["var.db_sku_name"]},"ssl_enforcement_enabled":{"constant_value":true},"ssl_minimal_tls_version_enforced":{"constant_value":"TLS1_2"},"storage_mb":{"references":["var.db_storage_mb"]},"tags":{"references":["var.environment"]},"threat_detection_policy":[{"email_account_admins":{"constant_value":true},"enabled":{"references":["var.db_threat_detection"]}}],"timeouts":{"create":{"constant_value":"3h"},"delete":{"constant_value":"2h"}},"version":{"references":["var.db_version"]}},"schema_version":0,"count_expression":{"references":["var.db_replica"]}},{"address":"null_resource.postgres_readonly_role","mode":"managed","type":"null_resource","name":"postgres_readonly_role","provider_config_key":"module.database:null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["local.postgres_readonly_cmd"]}}}],"schema_version":0,"depends_on":["azurerm_postgresql_server.postgres_server","data.http.icanhazip"]},{"address":"data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_config_key":"azurerm","schema_version":0},{"address":"data.http.icanhazip","mode":"data","type":"http","name":"icanhazip","provider_config_key":"module.database:http","expressions":{"url":{"constant_value":"http://icanhazip.com"}},"schema_version":0}],"module_calls":{"postgres_private_endpoint":{"source":"../common/private_endpoint","expressions":{"dns_vnet":{"references":["var.dns_vnet"]},"dns_zone":{"references":["var.dns_zones[\"postgres\"].name","var.dns_zones[\"postgres\"]","var.dns_zones"]},"endpoint_subnet_ids":{"references":["each.value"]},"location":{"references":["var.location"]},"name":{"references":["azurerm_postgresql_server.postgres_server.name","azurerm_postgresql_server.postgres_server"]},"resource_group":{"references":["var.resource_group"]},"resource_id":{"references":["azurerm_postgresql_server.postgres_server.id","azurerm_postgresql_server.postgres_server"]},"resource_prefix":{"references":["var.resource_prefix"]},"type":{"constant_value":"postgres_server"}},"for_each_expression":{"references":["var.subnets.primary_endpoint_subnets","var.subnets"]},"module":{"resources":[{"address":"azurerm_private_dns_a_record.endpoint_dns","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","provider_config_key":"azurerm","expressions":{"name":{"references":["var.name"]},"records":{"references":["azurerm_private_endpoint.endpoint.private_service_connection[0].private_ip_address","azurerm_private_endpoint.endpoint.private_service_connection[0]","azurerm_private_endpoint.endpoint.private_service_connection","azurerm_private_endpoint.endpoint"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zone"]}},"schema_version":0,"for_each_expression":{"references":["var.resource_prefix","var.dns_vnet","var.endpoint_subnet_ids"]}},{"address":"azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_connection_resource_id":{"references":["var.resource_id"]},"subresource_names":{"references":["local.option.subresource_names","local.option"]}}],"resource_group_name":{"references":["var.resource_group"]},"subnet_id":{"references":["var.endpoint_subnet_ids"]}},"schema_version":0}],"variables":{"dns_vnet":{},"dns_zone":{},"endpoint_subnet_id_for_dns":{"default":"","description":"The endpoint the DNS record should point to"},"endpoint_subnet_ids":{"description":"Private Endpoint Subnet ID(s)"},"location":{"description":"Network Location"},"name":{"description":"The name of the resource for which an endpoint will be created"},"resource_group":{"description":"Resource Group Name"},"resource_id":{"description":"ID of the resource for which an endpoint will be created"},"resource_prefix":{},"type":{"description":"Type of private endpoint to create. Options include: key_vault"}}}},"postgres_private_endpoint_replica":{"source":"../common/private_endpoint","expressions":{"dns_vnet":{"references":["var.dns_vnet","var.dns_vnet"]},"dns_zone":{"references":["var.dns_zones[\"postgres\"].name","var.dns_zones[\"postgres\"]","var.dns_zones"]},"endpoint_subnet_ids":{"references":["each.value"]},"location":{"references":["azurerm_postgresql_server.postgres_server_replica[0].location","azurerm_postgresql_server.postgres_server_replica[0]","azurerm_postgresql_server.postgres_server_replica"]},"name":{"references":["azurerm_postgresql_server.postgres_server_replica[0].name","azurerm_postgresql_server.postgres_server_replica[0]","azurerm_postgresql_server.postgres_server_replica"]},"resource_group":{"references":["var.resource_group"]},"resource_id":{"references":["azurerm_postgresql_server.postgres_server_replica[0].id","azurerm_postgresql_server.postgres_server_replica[0]","azurerm_postgresql_server.postgres_server_replica"]},"resource_prefix":{"references":["var.resource_prefix"]},"type":{"constant_value":"postgres_server"}},"for_each_expression":{"references":["var.db_replica","var.subnets.replica_endpoint_subnets","var.subnets"]},"module":{"resources":[{"address":"azurerm_private_dns_a_record.endpoint_dns","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","provider_config_key":"azurerm","expressions":{"name":{"references":["var.name"]},"records":{"references":["azurerm_private_endpoint.endpoint.private_service_connection[0].private_ip_address","azurerm_private_endpoint.endpoint.private_service_connection[0]","azurerm_private_endpoint.endpoint.private_service_connection","azurerm_private_endpoint.endpoint"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zone"]}},"schema_version":0,"for_each_expression":{"references":["var.resource_prefix","var.dns_vnet","var.endpoint_subnet_ids"]}},{"address":"azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_connection_resource_id":{"references":["var.resource_id"]},"subresource_names":{"references":["local.option.subresource_names","local.option"]}}],"resource_group_name":{"references":["var.resource_group"]},"subnet_id":{"references":["var.endpoint_subnet_ids"]}},"schema_version":0}],"variables":{"dns_vnet":{},"dns_zone":{},"endpoint_subnet_id_for_dns":{"default":"","description":"The endpoint the DNS record should point to"},"endpoint_subnet_ids":{"description":"Private Endpoint Subnet ID(s)"},"location":{"description":"Network Location"},"name":{"description":"The name of the resource for which an endpoint will be created"},"resource_group":{"description":"Resource Group Name"},"resource_id":{"description":"ID of the resource for which an endpoint will be created"},"resource_prefix":{},"type":{"description":"Type of private endpoint to create. Options include: key_vault"}}}}},"variables":{"aad_group_postgres_admin":{"description":"Azure Active Directory Group ID for postgres_admin"},"application_key_vault_id":{},"db_auto_grow":{},"db_prevent_destroy":{},"db_replica":{},"db_sku_name":{},"db_storage_mb":{},"db_threat_detection":{},"db_version":{},"dns_vnet":{},"dns_zones":{"description":"A set of all available dns zones"},"environment":{"description":"Target Environment"},"flex_instances":{"default":[]},"flex_sku_name":{"default":"GP_Standard_D4ds_v4"},"is_metabase_env":{"description":"Should Metabase be deployed in this environment"},"location":{"description":"Database Server Location"},"postgres_pass":{"sensitive":true},"postgres_readonly_pass":{"sensitive":true},"postgres_readonly_user":{},"postgres_user":{},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"},"rsa_key_2048":{"description":"Name of the 2048 length RSA key in the Key Vault. Omitting will use Azure-managed key instead of a customer-key."},"subnets":{"description":"A set of all available subnet combinations"},"use_cdc_managed_vnet":{"description":"If the environment should be deployed to the CDC managed VNET"}}}},"front_door":{"source":"../../modules/front_door","expressions":{"application_key_vault_id":{"references":["module.key_vault.application_key_vault_id","module.key_vault"]},"environment":{"references":["local.init.environment","local.init"]},"https_cert_names":{"references":["local.security.https_cert_names","local.security"]},"is_metabase_env":{"references":["local.init.is_metabase_env","local.init"]},"location":{"references":["local.init.location","local.init"]},"public_primary_web_endpoint":{"references":["module.storage.sa_public_primary_web_endpoint","module.storage"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]}},"module":{"outputs":{"front_door_id":{"expression":{"references":["azurerm_frontdoor.front_door.id","azurerm_frontdoor.front_door"]}}},"resources":[{"address":"azurerm_frontdoor.front_door","mode":"managed","type":"azurerm_frontdoor","name":"front_door","provider_config_key":"azurerm","expressions":{"backend_pool":[{"backend":[{"address":{"references":["local.functionapp_address"]},"host_header":{"references":["local.functionapp_address"]},"http_port":{"constant_value":80},"https_port":{"constant_value":443}}],"health_probe_name":{"constant_value":"functionsHealthProbeSettings"},"load_balancing_name":{"constant_value":"functionsLoadBalancingSettings"},"name":{"constant_value":"functions"}},{"backend":[{"address":{"references":["local.static_address"]},"host_header":{"references":["local.static_address"]},"http_port":{"constant_value":80},"https_port":{"constant_value":443}}],"health_probe_name":{"constant_value":"staticHealthProbeSettings"},"load_balancing_name":{"constant_value":"staticLoadBalancingSettings"},"name":{"constant_value":"static"}}],"backend_pool_health_probe":[{"interval_in_seconds":{"constant_value":30},"name":{"constant_value":"functionsHealthProbeSettings"},"path":{"constant_value":"/"},"probe_method":{"constant_value":"HEAD"},"protocol":{"constant_value":"Https"}},{"interval_in_seconds":{"constant_value":30},"name":{"constant_value":"staticHealthProbeSettings"},"path":{"constant_value":"/"},"probe_method":{"constant_value":"HEAD"},"protocol":{"constant_value":"Https"}}],"backend_pool_load_balancing":[{"additional_latency_milliseconds":{"constant_value":0},"name":{"constant_value":"functionsLoadBalancingSettings"},"sample_size":{"constant_value":4},"successful_samples_required":{"constant_value":2}},{"additional_latency_milliseconds":{"constant_value":0},"name":{"constant_value":"staticLoadBalancingSettings"},"sample_size":{"constant_value":4},"successful_samples_required":{"constant_value":2}}],"backend_pools_send_receive_timeout_seconds":{"constant_value":90},"enforce_backend_pools_certificate_name_check":{"constant_value":true},"friendly_name":{"references":["local.name"]},"frontend_endpoint":[{"host_name":{"references":["local.name"]},"name":{"constant_value":"DefaultFrontendEndpoint"}}],"name":{"references":["local.name"]},"resource_group_name":{"references":["var.resource_group"]},"routing_rule":[{"accepted_protocols":{"constant_value":["Https"]},"forwarding_configuration":[{"backend_pool_name":{"constant_value":"functions"},"forwarding_protocol":{"constant_value":"HttpsOnly"}}],"frontend_endpoints":{"references":["local.frontend_endpoints"]},"name":{"constant_value":"api"},"patterns_to_match":{"constant_value":["/*","/api/*"]}},{"accepted_protocols":{"constant_value":["Https"]},"frontend_endpoints":{"references":["local.frontend_endpoints"]},"name":{"constant_value":"download"},"patterns_to_match":{"constant_value":["/","/download"]}},{"accepted_protocols":{"constant_value":["Http"]},"frontend_endpoints":{"references":["local.frontend_endpoints"]},"name":{"constant_value":"HttpToHttpsRedirect"},"patterns_to_match":{"constant_value":["/","/*","/api/*","/download"]},"redirect_configuration":[{"redirect_protocol":{"constant_value":"HttpsOnly"},"redirect_type":{"constant_value":"Moved"}}]}]},"schema_version":2},{"address":"azurerm_frontdoor_custom_https_configuration.frontend_custom_https","mode":"managed","type":"azurerm_frontdoor_custom_https_configuration","name":"frontend_custom_https","provider_config_key":"azurerm","expressions":{"custom_https_configuration":[{"azure_key_vault_certificate_secret_name":{"references":["each.value"]},"azure_key_vault_certificate_vault_id":{"references":["var.application_key_vault_id"]},"certificate_source":{"constant_value":"AzureKeyVault"}}],"custom_https_provisioning_enabled":{"constant_value":true},"frontend_endpoint_id":{"references":["azurerm_frontdoor.front_door.frontend_endpoints","azurerm_frontdoor.front_door","each.value"]}},"schema_version":1,"for_each_expression":{"references":["var.https_cert_names"]},"depends_on":["azurerm_frontdoor.front_door","azurerm_key_vault_access_policy.frontdoor_access_policy"]},{"address":"azurerm_frontdoor_custom_https_configuration.frontend_default_https","mode":"managed","type":"azurerm_frontdoor_custom_https_configuration","name":"frontend_default_https","provider_config_key":"azurerm","expressions":{"custom_https_provisioning_enabled":{"constant_value":false},"frontend_endpoint_id":{"references":["azurerm_frontdoor.front_door.frontend_endpoints[\"DefaultFrontendEndpoint\"]","azurerm_frontdoor.front_door.frontend_endpoints","azurerm_frontdoor.front_door"]}},"schema_version":1,"depends_on":["azurerm_frontdoor.front_door","azurerm_key_vault_access_policy.frontdoor_access_policy"]},{"address":"azurerm_key_vault_access_policy.frontdoor_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"frontdoor_access_policy","provider_config_key":"azurerm","expressions":{"certificate_permissions":{"constant_value":["Get","List"]},"key_vault_id":{"references":["var.application_key_vault_id"]},"object_id":{"constant_value":"270e4d1a-12bd-4564-8a4b-c9de1bbdbe95"},"secret_permissions":{"constant_value":["Get","List"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"schema_version":0},{"address":"data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_config_key":"azurerm","schema_version":0}],"variables":{"application_key_vault_id":{},"environment":{"description":"Target Environment"},"https_cert_names":{"description":"The HTTPS cert to associate with the front door. Omitting will not associate a domain to the front door."},"is_metabase_env":{"description":"Should Metabase be deployed in this environment"},"location":{"description":"Function App Location"},"public_primary_web_endpoint":{},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"}}}},"function_app":{"source":"../../modules/function_app","expressions":{"ai_connection_string":{"references":["module.application_insights.connection_string","module.application_insights"]},"ai_instrumentation_key":{"references":["module.application_insights.instrumentation_key","module.application_insights"]},"app_config_key_vault_id":{"references":["module.key_vault.app_config_key_vault_id","module.key_vault"]},"app_config_key_vault_name":{"references":["module.key_vault.app_config_key_vault_name","module.key_vault"]},"app_service_plan":{"references":["module.app_service_plan.service_plan_id","module.app_service_plan"]},"application_key_vault_id":{"references":["module.key_vault.application_key_vault_id","module.key_vault"]},"client_config_key_vault_id":{"references":["module.key_vault.client_config_key_vault_id","module.key_vault"]},"container_registry_admin_password":{"references":["module.container_registry.container_registry_admin_password","module.container_registry"]},"container_registry_admin_username":{"references":["module.container_registry.container_registry_admin_username","module.container_registry"]},"container_registry_login_server":{"references":["module.container_registry.container_registry_login_server","module.container_registry"]},"dns_ip":{"references":["local.network.dns_ip","local.network"]},"environment":{"references":["local.init.environment","local.init"]},"function_runtime_version":{"references":["local.app.function_runtime_version","local.app"]},"location":{"references":["local.init.location","local.init"]},"okta_base_url":{"references":["local.init.okta_base_url","local.init"]},"okta_redirect_url":{"references":["local.init.okta_redirect_url","local.init"]},"pagerduty_url":{"references":["data.azurerm_key_vault_secret.pagerduty_url.value","data.azurerm_key_vault_secret.pagerduty_url"]},"postgres_pass":{"references":["data.azurerm_key_vault_secret.postgres_pass.value","data.azurerm_key_vault_secret.postgres_pass"]},"postgres_user":{"references":["data.azurerm_key_vault_secret.postgres_user.value","data.azurerm_key_vault_secret.postgres_user"]},"primary_access_key":{"references":["module.storage.sa_primary_access_key","module.storage"]},"primary_connection_string":{"references":["module.storage.sa_primary_connection_string","module.storage"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]},"sa_partner_connection_string":{"references":["module.storage.sa_partner_connection_string","module.storage"]},"storage_account":{"references":["module.storage.storage_account_id","module.storage"]},"subnets":{"references":["module.network.subnets","module.network"]},"terraform_caller_ip_address":{"references":["local.network.terraform_caller_ip_address","local.network"]},"use_cdc_managed_vnet":{"references":["local.network.use_cdc_managed_vnet","local.network"]}},"module":{"outputs":{"admin_function_app":{"expression":{"references":["azurerm_function_app.admin"]}},"function_app_id":{"expression":{"references":["azurerm_function_app.function_app.id","azurerm_function_app.function_app"]}}},"resources":[{"address":"azurerm_app_service_slot_virtual_network_swift_connection.candidate_slot_vnet_integration","mode":"managed","type":"azurerm_app_service_slot_virtual_network_swift_connection","name":"candidate_slot_vnet_integration","provider_config_key":"azurerm","expressions":{"app_service_id":{"references":["azurerm_function_app.function_app.id","azurerm_function_app.function_app"]},"slot_name":{"references":["azurerm_function_app_slot.candidate.name","azurerm_function_app_slot.candidate"]},"subnet_id":{"references":["var.use_cdc_managed_vnet","var.subnets.public_subnets[0]","var.subnets.public_subnets","var.subnets","var.subnets.public_subnets[0]","var.subnets.public_subnets","var.subnets"]}},"schema_version":0},{"address":"azurerm_app_service_virtual_network_swift_connection.admin_function_app_vnet_integration","mode":"managed","type":"azurerm_app_service_virtual_network_swift_connection","name":"admin_function_app_vnet_integration","provider_config_key":"azurerm","expressions":{"app_service_id":{"references":["azurerm_function_app.admin.id","azurerm_function_app.admin"]},"subnet_id":{"references":["local.network.subnet_id","local.network"]}},"schema_version":0},{"address":"azurerm_app_service_virtual_network_swift_connection.function_app_vnet_integration","mode":"managed","type":"azurerm_app_service_virtual_network_swift_connection","name":"function_app_vnet_integration","provider_config_key":"azurerm","expressions":{"app_service_id":{"references":["azurerm_function_app.function_app.id","azurerm_function_app.function_app"]},"subnet_id":{"references":["var.use_cdc_managed_vnet","var.subnets.public_subnets[0]","var.subnets.public_subnets","var.subnets","var.subnets.public_subnets[2]","var.subnets.public_subnets","var.subnets"]}},"schema_version":0},{"address":"azurerm_function_app.admin","mode":"managed","type":"azurerm_function_app","name":"admin","provider_config_key":"azurerm","expressions":{"app_service_plan_id":{"references":["local.interface.app_service_plan_id","local.interface"]},"app_settings":{"references":["local.app_settings"]},"enable_builtin_logging":{"constant_value":false},"https_only":{"constant_value":true},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"location":{"references":["local.interface.location","local.interface"]},"name":{"references":["local.interface.function_app_name","local.interface"]},"os_type":{"constant_value":"linux"},"resource_group_name":{"references":["local.interface.resource_group_name","local.interface"]},"site_config":[{"always_on":{"references":["local.config.always_on","local.config"]},"ftps_state":{"constant_value":"Disabled"},"linux_fx_version":{"references":["local.config.linux_fx_version","local.config"]},"use_32_bit_worker_process":{"references":["local.config.use_32_bit_worker_process","local.config"]},"vnet_route_all_enabled":{"references":["local.config.vnet_route_all_enabled","local.config"]}}],"storage_account_access_key":{"references":["local.interface.storage_account_access_key","local.interface"]},"storage_account_name":{"references":["local.interface.storage_account_name","local.interface"]},"tags":{"references":["local.config.environment","local.config"]},"version":{"constant_value":"~4"}},"schema_version":0,"depends_on":["var.app_service_plan"]},{"address":"azurerm_function_app.function_app","mode":"managed","type":"azurerm_function_app","name":"function_app","provider_config_key":"azurerm","expressions":{"app_service_plan_id":{"references":["var.app_service_plan"]},"app_settings":{"references":["local.all_app_settings","var.resource_prefix","var.resource_prefix","var.sa_partner_connection_string"]},"enable_builtin_logging":{"constant_value":false},"https_only":{"constant_value":true},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"os_type":{"constant_value":"linux"},"resource_group_name":{"references":["var.resource_group"]},"site_config":[{"always_on":{"constant_value":true},"cors":[{"allowed_origins":{"references":["local.cors_all","var.environment","local.cors_prod","local.cors_lower"]}}],"ftps_state":{"constant_value":"Disabled"},"http2_enabled":{"constant_value":true},"ip_restriction":{"references":["var.subnets.public_subnets[2]","var.subnets.public_subnets","var.subnets","var.subnets.public_subnets[0]","var.subnets.public_subnets","var.subnets"]},"linux_fx_version":{"references":["var.container_registry_login_server","var.resource_prefix"]},"scm_use_main_ip_restriction":{"constant_value":true},"use_32_bit_worker_process":{"constant_value":false}}],"storage_account_access_key":{"references":["var.primary_access_key"]},"storage_account_name":{"references":["var.resource_prefix"]},"tags":{"references":["var.environment"]},"version":{"references":["var.function_runtime_version"]}},"schema_version":0},{"address":"azurerm_function_app_slot.candidate","mode":"managed","type":"azurerm_function_app_slot","name":"candidate","provider_config_key":"azurerm","expressions":{"app_service_plan_id":{"references":["var.app_service_plan"]},"app_settings":{"references":["local.all_app_settings","var.resource_prefix","var.primary_connection_string"]},"enable_builtin_logging":{"constant_value":false},"function_app_name":{"references":["azurerm_function_app.function_app.name","azurerm_function_app.function_app"]},"https_only":{"constant_value":true},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"location":{"references":["var.location"]},"name":{"constant_value":"candidate"},"os_type":{"constant_value":"linux"},"resource_group_name":{"references":["var.resource_group"]},"site_config":[{"always_on":{"constant_value":true},"cors":[{"allowed_origins":{"references":["var.resource_prefix","var.environment","var.environment"]}}],"http2_enabled":{"constant_value":true},"ip_restriction":{"references":["var.subnets.public_subnets[2]","var.subnets.public_subnets","var.subnets","var.subnets.public_subnets[0]","var.subnets.public_subnets","var.subnets"]},"linux_fx_version":{"references":["var.container_registry_login_server","var.resource_prefix"]},"scm_use_main_ip_restriction":{"constant_value":true},"use_32_bit_worker_process":{"constant_value":false}}],"storage_account_access_key":{"references":["var.primary_access_key"]},"storage_account_name":{"references":["var.resource_prefix"]},"tags":{"references":["var.environment"]},"version":{"references":["var.function_runtime_version"]}},"schema_version":0},{"address":"azurerm_key_vault_access_policy.functionapp_app_config_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"functionapp_app_config_access_policy","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["var.app_config_key_vault_id"]},"object_id":{"references":["azurerm_function_app.function_app.identity[0].principal_id","azurerm_function_app.function_app.identity[0]","azurerm_function_app.function_app.identity","azurerm_function_app.function_app"]},"secret_permissions":{"constant_value":["Get"]},"tenant_id":{"references":["azurerm_function_app.function_app.identity[0].tenant_id","azurerm_function_app.function_app.identity[0]","azurerm_function_app.function_app.identity","azurerm_function_app.function_app"]}},"schema_version":0},{"address":"azurerm_key_vault_access_policy.functionapp_client_config_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"functionapp_client_config_access_policy","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["var.client_config_key_vault_id"]},"object_id":{"references":["azurerm_function_app.function_app.identity[0].principal_id","azurerm_function_app.function_app.identity[0]","azurerm_function_app.function_app.identity","azurerm_function_app.function_app"]},"secret_permissions":{"constant_value":["Get"]},"tenant_id":{"references":["azurerm_function_app.function_app.identity[0].tenant_id","azurerm_function_app.function_app.identity[0]","azurerm_function_app.function_app.identity","azurerm_function_app.function_app"]}},"schema_version":0},{"address":"azurerm_key_vault_access_policy.slot_candidate_app_config_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"slot_candidate_app_config_access_policy","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["var.app_config_key_vault_id"]},"object_id":{"references":["azurerm_function_app_slot.candidate.identity[0].principal_id","azurerm_function_app_slot.candidate.identity[0]","azurerm_function_app_slot.candidate.identity","azurerm_function_app_slot.candidate"]},"secret_permissions":{"constant_value":["Get"]},"tenant_id":{"references":["azurerm_function_app_slot.candidate.identity[0].tenant_id","azurerm_function_app_slot.candidate.identity[0]","azurerm_function_app_slot.candidate.identity","azurerm_function_app_slot.candidate"]}},"schema_version":0},{"address":"azurerm_key_vault_access_policy.slot_candidate_client_config_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"slot_candidate_client_config_access_policy","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["var.client_config_key_vault_id"]},"object_id":{"references":["azurerm_function_app_slot.candidate.identity[0].principal_id","azurerm_function_app_slot.candidate.identity[0]","azurerm_function_app_slot.candidate.identity","azurerm_function_app_slot.candidate"]},"secret_permissions":{"constant_value":["Get"]},"tenant_id":{"references":["azurerm_function_app_slot.candidate.identity[0].tenant_id","azurerm_function_app_slot.candidate.identity[0]","azurerm_function_app_slot.candidate.identity","azurerm_function_app_slot.candidate"]}},"schema_version":0},{"address":"azurerm_monitor_autoscale_setting.app_autoscale","mode":"managed","type":"azurerm_monitor_autoscale_setting","name":"app_autoscale","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"notification":[{"email":[{"custom_emails":{"constant_value":[]},"send_to_subscription_administrator":{"constant_value":false},"send_to_subscription_co_administrator":{"constant_value":false}}],"webhook":[{"service_uri":{"references":["var.pagerduty_url"]}}]}],"profile":[{"capacity":[{"default":{"constant_value":6},"maximum":{"constant_value":20},"minimum":{"constant_value":6}}],"name":{"constant_value":"ScaleOnHighLoad"},"rule":[{"metric_trigger":[{"metric_name":{"constant_value":"CpuPercentage"},"metric_resource_id":{"references":["var.app_service_plan"]},"operator":{"constant_value":"GreaterThan"},"statistic":{"constant_value":"Average"},"threshold":{"constant_value":70},"time_aggregation":{"constant_value":"Average"},"time_grain":{"constant_value":"PT1M"},"time_window":{"constant_value":"PT5M"}}],"scale_action":[{"cooldown":{"constant_value":"PT1M"},"direction":{"constant_value":"Increase"},"type":{"constant_value":"ChangeCount"},"value":{"constant_value":"1"}}]},{"metric_trigger":[{"metric_name":{"constant_value":"CpuPercentage"},"metric_resource_id":{"references":["var.app_service_plan"]},"operator":{"constant_value":"LessThan"},"statistic":{"constant_value":"Average"},"threshold":{"constant_value":25},"time_aggregation":{"constant_value":"Average"},"time_grain":{"constant_value":"PT1M"},"time_window":{"constant_value":"PT5M"}}],"scale_action":[{"cooldown":{"constant_value":"PT5M"},"direction":{"constant_value":"Decrease"},"type":{"constant_value":"ChangeCount"},"value":{"constant_value":"1"}}]},{"metric_trigger":[{"metric_name":{"constant_value":"MemoryPercentage"},"metric_resource_id":{"references":["var.app_service_plan"]},"operator":{"constant_value":"GreaterThan"},"statistic":{"constant_value":"Average"},"threshold":{"constant_value":85},"time_aggregation":{"constant_value":"Average"},"time_grain":{"constant_value":"PT1M"},"time_window":{"constant_value":"PT5M"}}],"scale_action":[{"cooldown":{"constant_value":"PT5M"},"direction":{"constant_value":"Increase"},"type":{"constant_value":"ChangeCount"},"value":{"constant_value":"1"}}]},{"metric_trigger":[{"metric_name":{"constant_value":"MemoryPercentage"},"metric_resource_id":{"references":["var.app_service_plan"]},"operator":{"constant_value":"LessThan"},"statistic":{"constant_value":"Average"},"threshold":{"constant_value":50},"time_aggregation":{"constant_value":"Average"},"time_grain":{"constant_value":"PT1M"},"time_window":{"constant_value":"PT5M"}}],"scale_action":[{"cooldown":{"constant_value":"PT5M"},"direction":{"constant_value":"Decrease"},"type":{"constant_value":"ChangeCount"},"value":{"constant_value":"1"}}]},{"metric_trigger":[{"metric_name":{"constant_value":"ApproximateMessageCount"},"metric_resource_id":{"references":["var.storage_account"]},"operator":{"constant_value":"GreaterThan"},"statistic":{"constant_value":"Average"},"threshold":{"constant_value":5},"time_aggregation":{"constant_value":"Average"},"time_grain":{"constant_value":"PT1M"},"time_window":{"constant_value":"PT10M"}}],"scale_action":[{"cooldown":{"constant_value":"PT5M"},"direction":{"constant_value":"Increase"},"type":{"constant_value":"ChangeCount"},"value":{"constant_value":"1"}}]},{"metric_trigger":[{"metric_name":{"constant_value":"ApproximateMessageCount"},"metric_resource_id":{"references":["var.storage_account"]},"operator":{"constant_value":"LessThan"},"statistic":{"constant_value":"Average"},"threshold":{"constant_value":5},"time_aggregation":{"constant_value":"Average"},"time_grain":{"constant_value":"PT1M"},"time_window":{"constant_value":"PT10M"}}],"scale_action":[{"cooldown":{"constant_value":"PT5M"},"direction":{"constant_value":"Decrease"},"type":{"constant_value":"ChangeCount"},"value":{"constant_value":"1"}}]}]}],"resource_group_name":{"references":["var.resource_group"]},"target_resource_id":{"references":["var.app_service_plan"]}},"schema_version":1,"count_expression":{"constant_value":1},"depends_on":["var.app_service_plan"]},{"address":"azurerm_resource_group_template_deployment.functionapp_sticky_settings","mode":"managed","type":"azurerm_resource_group_template_deployment","name":"functionapp_sticky_settings","provider_config_key":"azurerm","expressions":{"deployment_mode":{"constant_value":"Incremental"},"name":{"constant_value":"functionapp_sticky_settings"},"parameters_content":{"references":["azurerm_function_app.function_app.name","azurerm_function_app.function_app","local.sticky_slot_implicit_settings_names","local.sticky_slot_unique_settings_names"]},"resource_group_name":{"references":["var.resource_group"]},"template_content":{"constant_value":"{\n  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\n  \"contentVersion\": \"1.0.0.0\",\n  \"parameters\": {\n      \"stickyAppSettingNames\": {\n        \"type\": \"String\"\n      },\n      \"webAppName\": {\n        \"type\": \"String\"\n      }\n  },\n  \"variables\": {\n    \"appSettingNames\": \"[split(parameters('stickyAppSettingNames'),',')]\"\n  },\n  \"resources\": [\n      {\n        \"type\": \"Microsoft.Web/sites/config\",\n        \"name\": \"[concat(parameters('webAppName'), '/slotconfignames')]\",\n        \"apiVersion\": \"2015-08-01\",\n        \"properties\": {\n          \"appSettingNames\": \"[variables('appSettingNames')]\"\n        }\n      }\n  ]\n}\n"}},"schema_version":0,"depends_on":["azurerm_function_app.function_app","azurerm_function_app_slot.candidate"]},{"address":"null_resource.admin_function_app_publish","mode":"managed","type":"null_resource","name":"admin_function_app_publish","provider_config_key":"module.function_app:null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["var.is_temp_env","local.admin_publish_command"]}}}],"expressions":{"triggers":{"references":["data.archive_file.admin_function_app.output_path","data.archive_file.admin_function_app","local.admin_publish_command"]}},"schema_version":0,"depends_on":["local.admin_publish_command","azurerm_function_app.admin","time_sleep.wait_admin_function_app"]},{"address":"time_sleep.wait_admin_function_app","mode":"managed","type":"time_sleep","name":"wait_admin_function_app","provider_config_key":"module.function_app:time","expressions":{"create_duration":{"constant_value":"2m"},"triggers":{"references":["azurerm_function_app.admin.identity[0].principal_id","azurerm_function_app.admin.identity[0]","azurerm_function_app.admin.identity","azurerm_function_app.admin"]}},"schema_version":0,"depends_on":["azurerm_function_app.admin"]},{"address":"data.archive_file.admin_function_app","mode":"data","type":"archive_file","name":"admin_function_app","provider_config_key":"module.function_app:archive","expressions":{"excludes":{"constant_value":[".venv",".vscode","local.settings.json","getting_started.md","README.md",".gitignore"]},"output_path":{"constant_value":"function-app-admin.zip"},"source_dir":{"references":["local.interface.functions_path","local.interface"]},"type":{"constant_value":"zip"}},"schema_version":0}],"variables":{"ai_connection_string":{"description":"Application Insights Connection String","sensitive":true},"ai_instrumentation_key":{"description":"Application Insights Instrumentation Key","sensitive":true},"app_config_key_vault_id":{},"app_config_key_vault_name":{},"app_service_plan":{},"application_key_vault_id":{},"client_config_key_vault_id":{},"container_registry_admin_password":{"sensitive":true},"container_registry_admin_username":{},"container_registry_login_server":{},"dns_ip":{},"environment":{"description":"Target Environment"},"function_runtime_version":{"description":"function app runtime version"},"is_temp_env":{"default":false,"description":"Is a temporary environment. true or false"},"location":{"description":"Function App Location"},"okta_base_url":{},"okta_redirect_url":{"description":"Okta Redirect URL"},"pagerduty_url":{},"postgres_pass":{"sensitive":true},"postgres_user":{},"primary_access_key":{"sensitive":true},"primary_connection_string":{"sensitive":true},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"},"sa_partner_connection_string":{"sensitive":true},"storage_account":{},"subnets":{"description":"A set of all available subnet combinations"},"terraform_caller_ip_address":{"description":"The IP address of the Terraform script caller. This IP will have already been whitelisted; it's inclusion is to prevent its removal during terraform apply calls.","sensitive":true},"use_cdc_managed_vnet":{"description":"If the environment should be deployed to the CDC managed VNET"}}}},"key_vault":{"source":"../../modules/key_vault","expressions":{"aad_object_keyvault_admin":{"references":["local.ad.aad_object_keyvault_admin","local.ad"]},"admin_function_app":{"references":["module.function_app.admin_function_app","module.function_app"]},"app_config_kv_name":{"references":["local.key_vault.app_config_kv_name","local.key_vault"]},"application_kv_name":{"references":["local.key_vault.application_kv_name","local.key_vault"]},"client_config_kv_name":{"references":["local.key_vault.client_config_kv_name","local.key_vault"]},"cyberark_ip_ingress":{"constant_value":""},"dns_vnet":{"references":["local.network.dns_vnet","local.network"]},"dns_zones":{"references":["module.network.dns_zones","module.network"]},"environment":{"references":["local.init.environment","local.init"]},"location":{"references":["local.init.location","local.init"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]},"subnets":{"references":["module.network.subnets","module.network"]},"terraform_caller_ip_address":{"references":["local.network.terraform_caller_ip_address","local.network"]},"terraform_object_id":{"references":["local.ad.terraform_object_id","local.ad"]},"use_cdc_managed_vnet":{"references":["local.network.use_cdc_managed_vnet","local.network"]}},"module":{"outputs":{"app_config_key_vault_id":{"expression":{"references":["data.azurerm_key_vault.app_config.id","data.azurerm_key_vault.app_config"]}},"app_config_key_vault_name":{"expression":{"references":["data.azurerm_key_vault.app_config.name","data.azurerm_key_vault.app_config"]}},"application_key_vault_id":{"expression":{"references":["data.azurerm_key_vault.application.id","data.azurerm_key_vault.application"]}},"client_config_key_vault_id":{"expression":{"references":["azurerm_key_vault.client_config.id","azurerm_key_vault.client_config"]}}},"resources":[{"address":"azurerm_key_vault.client_config","mode":"managed","type":"azurerm_key_vault","name":"client_config","provider_config_key":"azurerm","expressions":{"enabled_for_deployment":{"constant_value":true},"enabled_for_disk_encryption":{"constant_value":true},"enabled_for_template_deployment":{"constant_value":true},"location":{"references":["var.location"]},"name":{"references":["var.client_config_kv_name"]},"network_acls":[{"bypass":{"constant_value":"AzureServices"},"default_action":{"constant_value":"Deny"},"ip_rules":{"references":["var.terraform_caller_ip_address"]},"virtual_network_subnet_ids":{"references":["var.subnets.primary_subnets","var.subnets"]}}],"purge_protection_enabled":{"references":["var.is_temp_env"]},"resource_group_name":{"references":["var.resource_group"]},"sku_name":{"constant_value":"premium"},"tags":{"references":["var.environment"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"schema_version":2},{"address":"azurerm_key_vault_access_policy.admin_functionapp_app_config","mode":"managed","type":"azurerm_key_vault_access_policy","name":"admin_functionapp_app_config","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["data.azurerm_key_vault.app_config.id","data.azurerm_key_vault.app_config"]},"object_id":{"references":["var.admin_function_app.identity[0].principal_id","var.admin_function_app.identity[0]","var.admin_function_app.identity","var.admin_function_app"]},"secret_permissions":{"constant_value":["Get","List"]},"tenant_id":{"references":["var.admin_function_app.identity[0].tenant_id","var.admin_function_app.identity[0]","var.admin_function_app.identity","var.admin_function_app"]}},"schema_version":0},{"address":"azurerm_key_vault_access_policy.admin_functionapp_application","mode":"managed","type":"azurerm_key_vault_access_policy","name":"admin_functionapp_application","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["data.azurerm_key_vault.application.id","data.azurerm_key_vault.application"]},"object_id":{"references":["var.admin_function_app.identity[0].principal_id","var.admin_function_app.identity[0]","var.admin_function_app.identity","var.admin_function_app"]},"secret_permissions":{"constant_value":["List"]},"tenant_id":{"references":["var.admin_function_app.identity[0].tenant_id","var.admin_function_app.identity[0]","var.admin_function_app.identity","var.admin_function_app"]}},"schema_version":0},{"address":"azurerm_key_vault_access_policy.dev_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"dev_access_policy","provider_config_key":"azurerm","expressions":{"certificate_permissions":{"constant_value":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore","ManageContacts","ManageIssuers","GetIssuers","ListIssuers","SetIssuers","DeleteIssuers"]},"key_permissions":{"constant_value":["Get","List","Update","Create","Import","Delete","Recover","Backup","Restore"]},"key_vault_id":{"references":["data.azurerm_key_vault.application.id","data.azurerm_key_vault.application"]},"object_id":{"references":["var.aad_object_keyvault_admin"]},"secret_permissions":{"constant_value":["Get","List","Set","Delete","Recover","Backup","Restore"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"schema_version":0},{"address":"azurerm_key_vault_access_policy.dev_app_config_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"dev_app_config_access_policy","provider_config_key":"azurerm","expressions":{"certificate_permissions":{"constant_value":[]},"key_permissions":{"constant_value":[]},"key_vault_id":{"references":["data.azurerm_key_vault.app_config.id","data.azurerm_key_vault.app_config"]},"object_id":{"references":["var.aad_object_keyvault_admin"]},"secret_permissions":{"constant_value":["Get","List","Set","Delete","Recover","Backup","Restore"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"schema_version":0},{"address":"azurerm_key_vault_access_policy.dev_client_config_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"dev_client_config_access_policy","provider_config_key":"azurerm","expressions":{"certificate_permissions":{"constant_value":[]},"key_permissions":{"constant_value":[]},"key_vault_id":{"references":["azurerm_key_vault.client_config.id","azurerm_key_vault.client_config"]},"object_id":{"references":["var.aad_object_keyvault_admin"]},"secret_permissions":{"constant_value":["Get","List","Set","Delete","Recover","Backup","Restore"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"schema_version":0},{"address":"azurerm_key_vault_access_policy.terraform_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"terraform_access_policy","provider_config_key":"azurerm","expressions":{"key_permissions":{"constant_value":["Create","Get","List","Delete","Purge"]},"key_vault_id":{"references":["data.azurerm_key_vault.application.id","data.azurerm_key_vault.application"]},"object_id":{"references":["var.terraform_object_id"]},"secret_permissions":{"constant_value":["Set","List","Get","Delete","Purge","Recover"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"schema_version":0,"count_expression":{"references":["var.environment"]}},{"address":"azurerm_key_vault_access_policy.terraform_app_config_access_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"terraform_app_config_access_policy","provider_config_key":"azurerm","expressions":{"key_permissions":{"constant_value":["Create","Get","List","Delete","Purge"]},"key_vault_id":{"references":["data.azurerm_key_vault.app_config.id","data.azurerm_key_vault.app_config"]},"object_id":{"references":["var.terraform_object_id"]},"secret_permissions":{"constant_value":["Set","List","Get","Delete","Purge","Recover"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"schema_version":0,"count_expression":{"references":["var.environment"]}},{"address":"data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_config_key":"azurerm","schema_version":0},{"address":"data.azurerm_key_vault.app_config","mode":"data","type":"azurerm_key_vault","name":"app_config","provider_config_key":"azurerm","expressions":{"name":{"references":["var.app_config_kv_name"]},"resource_group_name":{"references":["var.resource_group"]}},"schema_version":0},{"address":"data.azurerm_key_vault.application","mode":"data","type":"azurerm_key_vault","name":"application","provider_config_key":"azurerm","expressions":{"name":{"references":["var.application_kv_name"]},"resource_group_name":{"references":["var.resource_group"]}},"schema_version":0}],"module_calls":{"app_config_private_endpoint":{"source":"../common/private_endpoint","expressions":{"dns_vnet":{"constant_value":"vnet"},"dns_zone":{"references":["var.dns_zones[\"vaultcore\"].name","var.dns_zones[\"vaultcore\"]","var.dns_zones"]},"endpoint_subnet_ids":{"references":["each.value"]},"location":{"references":["var.location"]},"name":{"references":["data.azurerm_key_vault.app_config.name","data.azurerm_key_vault.app_config"]},"resource_group":{"references":["var.resource_group"]},"resource_id":{"references":["data.azurerm_key_vault.app_config.id","data.azurerm_key_vault.app_config"]},"resource_prefix":{"references":["var.resource_prefix"]},"type":{"constant_value":"key_vault"}},"for_each_expression":{"references":["var.subnets.primary_endpoint_subnets","var.subnets"]},"module":{"resources":[{"address":"azurerm_private_dns_a_record.endpoint_dns","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","provider_config_key":"azurerm","expressions":{"name":{"references":["var.name"]},"records":{"references":["azurerm_private_endpoint.endpoint.private_service_connection[0].private_ip_address","azurerm_private_endpoint.endpoint.private_service_connection[0]","azurerm_private_endpoint.endpoint.private_service_connection","azurerm_private_endpoint.endpoint"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zone"]}},"schema_version":0,"for_each_expression":{"references":["var.resource_prefix","var.dns_vnet","var.endpoint_subnet_ids"]}},{"address":"azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_connection_resource_id":{"references":["var.resource_id"]},"subresource_names":{"references":["local.option.subresource_names","local.option"]}}],"resource_group_name":{"references":["var.resource_group"]},"subnet_id":{"references":["var.endpoint_subnet_ids"]}},"schema_version":0}],"variables":{"dns_vnet":{},"dns_zone":{},"endpoint_subnet_id_for_dns":{"default":"","description":"The endpoint the DNS record should point to"},"endpoint_subnet_ids":{"description":"Private Endpoint Subnet ID(s)"},"location":{"description":"Network Location"},"name":{"description":"The name of the resource for which an endpoint will be created"},"resource_group":{"description":"Resource Group Name"},"resource_id":{"description":"ID of the resource for which an endpoint will be created"},"resource_prefix":{},"type":{"description":"Type of private endpoint to create. Options include: key_vault"}}}},"application_private_endpoint":{"source":"../common/private_endpoint","expressions":{"dns_vnet":{"constant_value":"vnet"},"dns_zone":{"references":["var.dns_zones[\"vaultcore\"].name","var.dns_zones[\"vaultcore\"]","var.dns_zones"]},"endpoint_subnet_ids":{"references":["each.value"]},"location":{"references":["var.location"]},"name":{"references":["data.azurerm_key_vault.application.name","data.azurerm_key_vault.application"]},"resource_group":{"references":["var.resource_group"]},"resource_id":{"references":["data.azurerm_key_vault.application.id","data.azurerm_key_vault.application"]},"resource_prefix":{"references":["var.resource_prefix"]},"type":{"constant_value":"key_vault"}},"for_each_expression":{"references":["var.subnets.primary_endpoint_subnets","var.subnets"]},"module":{"resources":[{"address":"azurerm_private_dns_a_record.endpoint_dns","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","provider_config_key":"azurerm","expressions":{"name":{"references":["var.name"]},"records":{"references":["azurerm_private_endpoint.endpoint.private_service_connection[0].private_ip_address","azurerm_private_endpoint.endpoint.private_service_connection[0]","azurerm_private_endpoint.endpoint.private_service_connection","azurerm_private_endpoint.endpoint"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zone"]}},"schema_version":0,"for_each_expression":{"references":["var.resource_prefix","var.dns_vnet","var.endpoint_subnet_ids"]}},{"address":"azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_connection_resource_id":{"references":["var.resource_id"]},"subresource_names":{"references":["local.option.subresource_names","local.option"]}}],"resource_group_name":{"references":["var.resource_group"]},"subnet_id":{"references":["var.endpoint_subnet_ids"]}},"schema_version":0}],"variables":{"dns_vnet":{},"dns_zone":{},"endpoint_subnet_id_for_dns":{"default":"","description":"The endpoint the DNS record should point to"},"endpoint_subnet_ids":{"description":"Private Endpoint Subnet ID(s)"},"location":{"description":"Network Location"},"name":{"description":"The name of the resource for which an endpoint will be created"},"resource_group":{"description":"Resource Group Name"},"resource_id":{"description":"ID of the resource for which an endpoint will be created"},"resource_prefix":{},"type":{"description":"Type of private endpoint to create. Options include: key_vault"}}}},"client_config_private_endpoint":{"source":"../common/private_endpoint","expressions":{"dns_vnet":{"constant_value":"vnet"},"dns_zone":{"references":["var.dns_zones[\"vaultcore\"].name","var.dns_zones[\"vaultcore\"]","var.dns_zones"]},"endpoint_subnet_ids":{"references":["each.value"]},"location":{"references":["var.location"]},"name":{"references":["azurerm_key_vault.client_config.name","azurerm_key_vault.client_config"]},"resource_group":{"references":["var.resource_group"]},"resource_id":{"references":["azurerm_key_vault.client_config.id","azurerm_key_vault.client_config"]},"resource_prefix":{"references":["var.resource_prefix"]},"type":{"constant_value":"key_vault"}},"for_each_expression":{"references":["var.subnets.primary_endpoint_subnets","var.subnets"]},"module":{"resources":[{"address":"azurerm_private_dns_a_record.endpoint_dns","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","provider_config_key":"azurerm","expressions":{"name":{"references":["var.name"]},"records":{"references":["azurerm_private_endpoint.endpoint.private_service_connection[0].private_ip_address","azurerm_private_endpoint.endpoint.private_service_connection[0]","azurerm_private_endpoint.endpoint.private_service_connection","azurerm_private_endpoint.endpoint"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zone"]}},"schema_version":0,"for_each_expression":{"references":["var.resource_prefix","var.dns_vnet","var.endpoint_subnet_ids"]}},{"address":"azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_connection_resource_id":{"references":["var.resource_id"]},"subresource_names":{"references":["local.option.subresource_names","local.option"]}}],"resource_group_name":{"references":["var.resource_group"]},"subnet_id":{"references":["var.endpoint_subnet_ids"]}},"schema_version":0}],"variables":{"dns_vnet":{},"dns_zone":{},"endpoint_subnet_id_for_dns":{"default":"","description":"The endpoint the DNS record should point to"},"endpoint_subnet_ids":{"description":"Private Endpoint Subnet ID(s)"},"location":{"description":"Network Location"},"name":{"description":"The name of the resource for which an endpoint will be created"},"resource_group":{"description":"Resource Group Name"},"resource_id":{"description":"ID of the resource for which an endpoint will be created"},"resource_prefix":{},"type":{"description":"Type of private endpoint to create. Options include: key_vault"}}}}},"variables":{"aad_object_keyvault_admin":{},"admin_function_app":{"description":"Admin function app"},"app_config_kv_name":{},"application_kv_name":{},"client_config_kv_name":{},"cyberark_ip_ingress":{},"dns_vnet":{},"dns_zones":{"description":"A set of all available dns zones"},"environment":{},"is_temp_env":{"default":false,"description":"Is a temporary environment. true or false"},"location":{},"resource_group":{},"resource_prefix":{},"subnets":{"description":"A set of all available subnet combinations"},"terraform_caller_ip_address":{},"terraform_object_id":{},"use_cdc_managed_vnet":{}}}},"log_analytics_workspace":{"source":"../../modules/log_analytics_workspace","expressions":{"action_group_businesshours_id":{"references":["module.application_insights.action_group_businesshours_id","module.application_insights"]},"app_config_key_vault_id":{"references":["module.key_vault.app_config_key_vault_id","module.key_vault"]},"application_key_vault_id":{"references":["module.key_vault.application_key_vault_id","module.key_vault"]},"client_config_key_vault_id":{"references":["module.key_vault.client_config_key_vault_id","module.key_vault"]},"container_registry_id":{"references":["module.container_registry.container_registry_id","module.container_registry"]},"data_factory_id":{"references":["module.data_factory.data_factory_id","module.data_factory"]},"environment":{"references":["local.init.environment","local.init"]},"front_door_id":{"references":["module.front_door.front_door_id","module.front_door"]},"function_app_id":{"references":["module.function_app.function_app_id","module.function_app"]},"location":{"references":["local.init.location","local.init"]},"nat_gateway_id":{"references":["module.nat_gateway.nat_gateway_id","module.nat_gateway"]},"postgres_server_id":{"references":["module.database.postgres_server_id","module.database"]},"primary_vnet_id":{"references":["module.network.primary_vnet_id","module.network"]},"replica_vnet_id":{"references":["module.network.replica_vnet_id","module.network"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]},"service_plan_id":{"references":["module.app_service_plan.service_plan_id","module.app_service_plan"]},"sftp_instance_01_id":{"references":["module.sftp.sftp_instance_ids[0]","module.sftp.sftp_instance_ids","module.sftp"]},"storage_account_id":{"references":["module.storage.storage_account_id","module.storage"]},"storage_partner_id":{"references":["module.storage.storage_partner_id","module.storage"]},"storage_public_id":{"references":["module.storage.storage_public_id","module.storage"]}},"module":{"outputs":{"law_id":{"expression":{"references":["azurerm_log_analytics_workspace.law.id","azurerm_log_analytics_workspace.law"]}}},"resources":[{"address":"azurerm_log_analytics_workspace.law","mode":"managed","type":"azurerm_log_analytics_workspace","name":"law","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"retention_in_days":{"constant_value":30},"sku":{"constant_value":"PerGB2018"},"tags":{"references":["var.environment"]}},"schema_version":2},{"address":"azurerm_monitor_diagnostic_setting.diagnostics","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diagnostics","provider_config_key":"azurerm","expressions":{"log_analytics_workspace_id":{"references":["azurerm_log_analytics_workspace.law.id","azurerm_log_analytics_workspace.law"]},"name":{"references":["var.resource_prefix","each.key"]},"target_resource_id":{"references":["each.value.id","each.value"]}},"schema_version":0,"for_each_expression":{"references":["data.azurerm_monitor_diagnostic_categories.diagnostics"]}},{"address":"azurerm_monitor_scheduled_query_rules_alert.functionapp_fatal","mode":"managed","type":"azurerm_monitor_scheduled_query_rules_alert","name":"functionapp_fatal","provider_config_key":"azurerm","expressions":{"action":[{"action_group":{"references":["var.action_group_businesshours_id"]}}],"data_source_id":{"references":["azurerm_log_analytics_workspace.law.id","azurerm_log_analytics_workspace.law"]},"description":{"constant_value":"Found FATAL-ALERT in FunctionApp logs"},"enabled":{"constant_value":true},"frequency":{"constant_value":15},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"query":{"constant_value":"// 2022-03-31: Exclude co-phd.elr-test -- this is a known error per Rick Hood\nFunctionAppLogs\n| where Message contains 'FATAL-ALERT' and not(Message contains 'co-phd.elr-test')\nand not(Message contains 'IGNORE--')\n"},"resource_group_name":{"references":["var.resource_group"]},"severity":{"constant_value":2},"throttling":{"constant_value":120},"time_window":{"constant_value":30},"trigger":[{"operator":{"constant_value":"GreaterThanOrEqual"},"threshold":{"constant_value":1}}]},"schema_version":1},{"address":"data.azurerm_monitor_diagnostic_categories.diagnostics","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"diagnostics","provider_config_key":"azurerm","expressions":{"resource_id":{"references":["each.value.resource_id","each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.default"]}}],"variables":{"action_group_businesshours_id":{"description":"Businesshours action group resource id"},"app_config_key_vault_id":{"description":"App Config Key Vault resource id"},"application_key_vault_id":{"description":"App Key Vault resource id"},"client_config_key_vault_id":{"description":"Client Config Key Vault resource id"},"container_registry_id":{"description":"Container Registry resource id"},"data_factory_id":{"default":"","description":"Data factory resource id"},"environment":{"description":"Target Environment"},"front_door_id":{"default":"","description":"Front Door resource id"},"function_app_id":{"description":"Function App resource id"},"location":{"description":"Function App Location"},"nat_gateway_id":{"description":"Nat Gateway resource id"},"postgres_server_id":{"description":"Postgres Server resource id"},"primary_vnet_id":{"description":"Primary vnet resource id"},"replica_vnet_id":{"description":"Replica vnet resource id"},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"},"service_plan_id":{"description":"Application Service Plan resource id"},"sftp_instance_01_id":{"default":"","description":"SFTP instance 01 resource id"},"storage_account_id":{"description":"Storage Account resource id"},"storage_partner_id":{"description":"Storage Partner resource id"},"storage_public_id":{"description":"Storage Public resource id"}}}},"metabase":{"source":"../../modules/metabase","expressions":{"ai_connection_string":{"references":["module.application_insights.metabase_connection_string","module.application_insights"]},"ai_instrumentation_key":{"references":["module.application_insights.metabase_instrumentation_key","module.application_insights"]},"environment":{"references":["local.init.environment","local.init"]},"location":{"references":["local.init.location","local.init"]},"postgres_pass":{"references":["data.azurerm_key_vault_secret.postgres_pass.value","data.azurerm_key_vault_secret.postgres_pass"]},"postgres_server_name":{"references":["module.database.postgres_server_name","module.database"]},"postgres_user":{"references":["data.azurerm_key_vault_secret.postgres_user.value","data.azurerm_key_vault_secret.postgres_user"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]},"service_plan_id":{"references":["module.app_service_plan.service_plan_id","module.app_service_plan"]},"subnets":{"references":["module.network.subnets","module.network"]},"use_cdc_managed_vnet":{"references":["local.network.use_cdc_managed_vnet","local.network"]}},"count_expression":{"references":["local.init.is_metabase_env","local.init"]},"module":{"resources":[{"address":"azurerm_app_service.metabase","mode":"managed","type":"azurerm_app_service","name":"metabase","provider_config_key":"azurerm","expressions":{"app_service_plan_id":{"references":["var.service_plan_id"]},"app_settings":{"references":["var.postgres_server_name","var.postgres_user","var.postgres_server_name","var.postgres_pass","var.ai_instrumentation_key","var.ai_connection_string"]},"https_only":{"constant_value":true},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"site_config":[{"always_on":{"constant_value":true},"ftps_state":{"constant_value":"Disabled"},"ip_restriction":{"references":["var.subnets.public_subnets[2]","var.subnets.public_subnets","var.subnets","var.subnets.public_subnets[0]","var.subnets.public_subnets","var.subnets"]},"linux_fx_version":{"constant_value":"DOCKER|metabase/metabase"},"scm_use_main_ip_restriction":{"constant_value":true}}]},"schema_version":0},{"address":"azurerm_app_service_virtual_network_swift_connection.metabase_vnet_integration","mode":"managed","type":"azurerm_app_service_virtual_network_swift_connection","name":"metabase_vnet_integration","provider_config_key":"azurerm","expressions":{"app_service_id":{"references":["azurerm_app_service.metabase.id","azurerm_app_service.metabase"]},"subnet_id":{"references":["var.use_cdc_managed_vnet","var.subnets.public_subnets[0]","var.subnets.public_subnets","var.subnets","var.subnets.public_subnets[2]","var.subnets.public_subnets","var.subnets"]}},"schema_version":0}],"variables":{"ai_connection_string":{"description":"Application Insights Connection String","sensitive":true},"ai_instrumentation_key":{"description":"Application Insights Instrumentation Key","sensitive":true},"environment":{"description":"Target Environment"},"location":{"description":"App Service Location"},"postgres_pass":{"sensitive":true},"postgres_server_name":{"description":"Postgres Server name"},"postgres_user":{},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"},"service_plan_id":{"description":"Application Service Plan resource id"},"subnets":{"description":"A set of all available subnet combinations"},"use_cdc_managed_vnet":{"description":"If the environment should be deployed to the CDC managed VNET"}}}},"nat_gateway":{"source":"../../modules/nat_gateway","expressions":{"environment":{"references":["local.init.environment","local.init"]},"location":{"references":["local.init.location","local.init"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]},"subnets":{"references":["module.network.subnets","module.network"]}},"module":{"outputs":{"nat_gateway_id":{"expression":{"references":["azurerm_nat_gateway.nat_gateway.id","azurerm_nat_gateway.nat_gateway"]}}},"resources":[{"address":"azurerm_nat_gateway.nat_gateway","mode":"managed","type":"azurerm_nat_gateway","name":"nat_gateway","provider_config_key":"azurerm","expressions":{"idle_timeout_in_minutes":{"constant_value":10},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"sku_name":{"constant_value":"Standard"},"tags":{"references":["var.environment"]}},"schema_version":0},{"address":"azurerm_nat_gateway_public_ip_association.nat_gateway_ip_association","mode":"managed","type":"azurerm_nat_gateway_public_ip_association","name":"nat_gateway_ip_association","provider_config_key":"azurerm","expressions":{"nat_gateway_id":{"references":["azurerm_nat_gateway.nat_gateway.id","azurerm_nat_gateway.nat_gateway"]},"public_ip_address_id":{"references":["azurerm_public_ip.nat_gateway_ip.id","azurerm_public_ip.nat_gateway_ip"]}},"schema_version":0},{"address":"azurerm_public_ip.nat_gateway_ip","mode":"managed","type":"azurerm_public_ip","name":"nat_gateway_ip","provider_config_key":"azurerm","expressions":{"allocation_method":{"constant_value":"Static"},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"resource_group_name":{"references":["var.resource_group"]},"sku":{"constant_value":"Standard"},"tags":{"references":["var.environment"]}},"schema_version":0},{"address":"azurerm_subnet_nat_gateway_association.nat_gateway_public_subnet_association","mode":"managed","type":"azurerm_subnet_nat_gateway_association","name":"nat_gateway_public_subnet_association","provider_config_key":"azurerm","expressions":{"nat_gateway_id":{"references":["azurerm_nat_gateway.nat_gateway.id","azurerm_nat_gateway.nat_gateway"]},"subnet_id":{"references":["var.subnets.public_subnets[2]","var.subnets.public_subnets","var.subnets"]}},"schema_version":0}],"variables":{"environment":{"description":"Target Environment"},"location":{"description":"NAT Gateway Location"},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"},"subnets":{"description":"A set of all available subnet combinations"}}}},"network":{"source":"../../modules/network","expressions":{"azure_vns":{"references":["local.network.config","local.network"]},"environment":{"references":["local.init.environment","local.init"]},"location":{"references":["local.init.location","local.init"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]}},"module":{"outputs":{"dns_zones":{"expression":{"references":["azurerm_private_dns_zone.zone"]}},"primary_vnet_id":{"expression":{"references":["data.azurerm_virtual_network.vnet[\"east\"].id","data.azurerm_virtual_network.vnet[\"east\"]","data.azurerm_virtual_network.vnet"]}},"replica_vnet_id":{"expression":{"references":["data.azurerm_virtual_network.vnet[\"west\"].id","data.azurerm_virtual_network.vnet[\"west\"]","data.azurerm_virtual_network.vnet"]}},"subnets":{"expression":{"references":["local.subnets"]}}},"resources":[{"address":"azurerm_private_dns_zone.zone","mode":"managed","type":"azurerm_private_dns_zone","name":"zone","provider_config_key":"azurerm","expressions":{"name":{"references":["each.value.name","each.value"]},"resource_group_name":{"references":["var.resource_group"]}},"schema_version":0,"for_each_expression":{"references":["local.dns_zones"]}},{"address":"azurerm_private_dns_zone_virtual_network_link.dns_zone_private_link","mode":"managed","type":"azurerm_private_dns_zone_virtual_network_link","name":"dns_zone_private_link","provider_config_key":"azurerm","expressions":{"name":{"references":["each.value.vnet_name","each.value","data.azurerm_virtual_network.vnet[\"default\"].name","data.azurerm_virtual_network.vnet[\"default\"]","data.azurerm_virtual_network.vnet","each.value.dns_zone","each.value","each.key"]},"private_dns_zone_name":{"references":["each.value.dns_zone","each.value"]},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_id":{"references":["each.value.vnet_id","each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.zone_vnets","var.resource_prefix"]},"depends_on":["time_sleep.wait_dns_zone","azurerm_private_dns_zone.zone"]},{"address":"time_sleep.wait_dns_zone","mode":"managed","type":"time_sleep","name":"wait_dns_zone","provider_config_key":"module.network:time","expressions":{"create_duration":{"constant_value":"30s"}},"schema_version":0,"depends_on":["azurerm_private_dns_zone.zone"]},{"address":"data.azurerm_network_security_group.vnet_nsg_private","mode":"data","type":"azurerm_network_security_group","name":"vnet_nsg_private","provider_config_key":"azurerm","expressions":{"name":{"references":["var.resource_prefix","var.azure_vns","each.key"]},"resource_group_name":{"references":["var.resource_group"]}},"schema_version":0,"for_each_expression":{"references":["var.azure_vns","var.azure_vns"]}},{"address":"data.azurerm_network_security_group.vnet_nsg_public","mode":"data","type":"azurerm_network_security_group","name":"vnet_nsg_public","provider_config_key":"azurerm","expressions":{"name":{"references":["var.resource_prefix","var.azure_vns","each.key"]},"resource_group_name":{"references":["var.resource_group"]}},"schema_version":0,"for_each_expression":{"references":["var.azure_vns","var.azure_vns"]}},{"address":"data.azurerm_subnet.container_subnet","mode":"data","type":"azurerm_subnet","name":"container_subnet","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"container"},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_name":{"references":["var.resource_prefix","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.azure_vns","var.azure_vns"]}},{"address":"data.azurerm_subnet.east_vnet","mode":"data","type":"azurerm_subnet","name":"east_vnet","provider_config_key":"azurerm","expressions":{"name":{"references":["each.value"]},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_name":{"references":["var.resource_prefix"]}},"schema_version":0,"for_each_expression":{"references":["data.azurerm_virtual_network.vnet[\"east\"].subnets","data.azurerm_virtual_network.vnet[\"east\"]","data.azurerm_virtual_network.vnet"]}},{"address":"data.azurerm_subnet.endpoint_subnet","mode":"data","type":"azurerm_subnet","name":"endpoint_subnet","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"endpoint"},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_name":{"references":["var.resource_prefix","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.azure_vns","var.azure_vns"]}},{"address":"data.azurerm_subnet.gateway_subnet","mode":"data","type":"azurerm_subnet","name":"gateway_subnet","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"GatewaySubnet"},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_name":{"references":["var.resource_prefix","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.azure_vns","var.azure_vns"]}},{"address":"data.azurerm_subnet.peer_vnet","mode":"data","type":"azurerm_subnet","name":"peer_vnet","provider_config_key":"azurerm","expressions":{"name":{"references":["each.value"]},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_name":{"references":["var.resource_prefix"]}},"schema_version":0,"for_each_expression":{"references":["data.azurerm_virtual_network.vnet[\"peer\"].subnets","data.azurerm_virtual_network.vnet[\"peer\"]","data.azurerm_virtual_network.vnet"]}},{"address":"data.azurerm_subnet.postgres_subnet","mode":"data","type":"azurerm_subnet","name":"postgres_subnet","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"postgres"},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_name":{"references":["var.resource_prefix","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.azure_vns","var.azure_vns"]}},{"address":"data.azurerm_subnet.private_subnet","mode":"data","type":"azurerm_subnet","name":"private_subnet","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"private"},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_name":{"references":["var.resource_prefix","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.azure_vns","var.azure_vns"]}},{"address":"data.azurerm_subnet.public_subnet","mode":"data","type":"azurerm_subnet","name":"public_subnet","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"public"},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_name":{"references":["var.resource_prefix","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.azure_vns","var.azure_vns"]}},{"address":"data.azurerm_subnet.vnet","mode":"data","type":"azurerm_subnet","name":"vnet","provider_config_key":"azurerm","expressions":{"name":{"references":["each.value"]},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_name":{"references":["var.resource_prefix"]}},"schema_version":0,"for_each_expression":{"references":["data.azurerm_virtual_network.vnet[\"default\"].subnets","data.azurerm_virtual_network.vnet[\"default\"]","data.azurerm_virtual_network.vnet"]}},{"address":"data.azurerm_subnet.west_vnet","mode":"data","type":"azurerm_subnet","name":"west_vnet","provider_config_key":"azurerm","expressions":{"name":{"references":["each.value"]},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_name":{"references":["var.resource_prefix"]}},"schema_version":0,"for_each_expression":{"references":["data.azurerm_virtual_network.vnet[\"west\"].subnets","data.azurerm_virtual_network.vnet[\"west\"]","data.azurerm_virtual_network.vnet"]}},{"address":"data.azurerm_virtual_network.vnet","mode":"data","type":"azurerm_virtual_network","name":"vnet","provider_config_key":"azurerm","expressions":{"name":{"references":["var.resource_prefix","each.value.name","each.value"]},"resource_group_name":{"references":["var.resource_group"]}},"schema_version":0,"for_each_expression":{"references":["local.vnets"]}}],"variables":{"azure_vns":{},"environment":{"description":"Target Environment"},"location":{"description":"Network Location"},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"}}}},"sftp":{"source":"../../modules/sftp","expressions":{"environment":{"references":["local.init.environment","local.init"]},"key_vault_id":{"references":["module.key_vault.application_key_vault_id","module.key_vault"]},"location":{"references":["local.init.location","local.init"]},"nat_gateway_id":{"references":["module.nat_gateway.nat_gateway_id","module.nat_gateway"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]},"sftp_dir":{"references":["module.ssh.sftp_dir","module.ssh"]},"sshinstances":{"references":["module.ssh.sshinstances","module.ssh"]},"sshnames":{"references":["module.ssh.sshnames","module.ssh"]},"terraform_caller_ip_address":{"references":["local.network.terraform_caller_ip_address","local.network"]}},"module":{"outputs":{"sftp_instance_ids":{"expression":{"references":["module.instance"]}},"sftp_instances":{"expression":{"references":["module.instance"]}},"sftp_shares":{"expression":{"references":["module.instance"]}},"sftp_storage":{"expression":{"references":["azurerm_storage_account.sftp"]}}},"resources":[{"address":"azurerm_network_profile.sftp","mode":"managed","type":"azurerm_network_profile","name":"sftp","provider_config_key":"azurerm","expressions":{"container_network_interface":[{"ip_configuration":[{"name":{"constant_value":"sftp"},"subnet_id":{"references":["data.azurerm_subnet.container_subnet.id","data.azurerm_subnet.container_subnet"]}}],"name":{"constant_value":"sftp"}}],"location":{"references":["var.location"]},"name":{"constant_value":"sftp"},"resource_group_name":{"references":["var.resource_group"]}},"schema_version":0},{"address":"azurerm_storage_account.sftp","mode":"managed","type":"azurerm_storage_account","name":"sftp","provider_config_key":"azurerm","expressions":{"account_replication_type":{"constant_value":"GRS"},"account_tier":{"constant_value":"Standard"},"location":{"references":["var.location"]},"min_tls_version":{"constant_value":"TLS1_2"},"name":{"references":["var.resource_prefix"]},"network_rules":[{"bypass":{"constant_value":["AzureServices"]},"default_action":{"constant_value":"Allow"},"ip_rules":{"references":["var.terraform_caller_ip_address"]}}],"resource_group_name":{"references":["var.resource_group"]},"tags":{"references":["var.environment"]}},"schema_version":2},{"address":"azurerm_storage_share.sftp_admin","mode":"managed","type":"azurerm_storage_share","name":"sftp_admin","provider_config_key":"azurerm","expressions":{"name":{"references":["var.resource_prefix"]},"quota":{"constant_value":1},"storage_account_name":{"references":["azurerm_storage_account.sftp.name","azurerm_storage_account.sftp"]}},"schema_version":2},{"address":"azurerm_storage_share.sftp_scripts","mode":"managed","type":"azurerm_storage_share","name":"sftp_scripts","provider_config_key":"azurerm","expressions":{"name":{"references":["var.resource_prefix"]},"quota":{"constant_value":1},"storage_account_name":{"references":["azurerm_storage_account.sftp.name","azurerm_storage_account.sftp"]}},"schema_version":2},{"address":"azurerm_storage_share_file.sftp","mode":"managed","type":"azurerm_storage_share_file","name":"sftp","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"startup.sh"},"source":{"references":["var.sftp_dir"]},"storage_share_id":{"references":["azurerm_storage_share.sftp_scripts.id","azurerm_storage_share.sftp_scripts"]}},"schema_version":0},{"address":"data.azurerm_subnet.container_subnet","mode":"data","type":"azurerm_subnet","name":"container_subnet","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"container"},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_name":{"references":["var.resource_prefix"]}},"schema_version":0}],"module_calls":{"instance":{"source":"../common/sftp","expressions":{"admin_share":{"references":["azurerm_storage_share.sftp_admin"]},"cpu":{"constant_value":2},"environment":{"references":["var.environment"]},"instance":{"references":["each.value"]},"instance_users":{"references":["var.sshnames","var.resource_prefix","each.value"]},"key_vault_id":{"references":["var.key_vault_id"]},"location":{"references":["var.location"]},"memory":{"constant_value":4},"nat_gateway_id":{"references":["var.nat_gateway_id"]},"network_profile_id":{"references":["azurerm_network_profile.sftp.id","azurerm_network_profile.sftp"]},"resource_group":{"references":["var.resource_group"]},"resource_prefix":{"references":["var.resource_prefix","each.value"]},"scripts_share":{"references":["azurerm_storage_share.sftp_scripts"]},"sftp_folder":{"constant_value":"uploads"},"sshaccess":{"references":["var.sshnames","var.resource_prefix","each.value","each.value"]},"storage_account":{"references":["azurerm_storage_account.sftp"]},"subnet_id":{"references":["data.azurerm_subnet.container_subnet.id","data.azurerm_subnet.container_subnet"]},"users":{"references":["var.sshnames","var.resource_prefix","each.value","each.value"]}},"for_each_expression":{"references":["var.sshinstances"]},"module":{"outputs":{"fqdn":{"expression":{"references":["azurerm_container_group.sftp.fqdn","azurerm_container_group.sftp"]},"description":"FQDN of the sftp server"},"ip_address":{"expression":{"references":["azurerm_container_group.sftp.ip_address","azurerm_container_group.sftp"]},"description":"FQDN of the sftp server"},"sftp_id":{"expression":{"references":["azurerm_container_group.sftp.id","azurerm_container_group.sftp"]},"description":"ID of the sftp server"},"share_names":{"expression":{"references":["azurerm_storage_share.sftp"]},"description":"File share names for sftp"},"shares":{"expression":{"references":["azurerm_storage_share.sftp"]},"description":"File shares for sftp"}},"resources":[{"address":"azurerm_container_group.sftp","mode":"managed","type":"azurerm_container_group","name":"sftp","provider_config_key":"azurerm","expressions":{"container":[{"cpu":{"references":["var.cpu"]},"environment_variables":{"references":["local.sftp_users"]},"image":{"constant_value":"atmoz/sftp:latest"},"memory":{"references":["var.memory"]},"name":{"constant_value":"sftp-source"},"ports":[{"port":{"constant_value":22},"protocol":{"constant_value":"TCP"}}],"volume":[{"mount_path":{"constant_value":"/etc/sftpadmin"},"name":{"constant_value":"sftpadmin"},"read_only":{"constant_value":false},"share_name":{"references":["var.environment"]},"storage_account_key":{"references":["var.storage_account.primary_access_key","var.storage_account"]},"storage_account_name":{"references":["var.storage_account.name","var.storage_account"]}},{"mount_path":{"constant_value":"/etc/sftp.d"},"name":{"constant_value":"sftpscripts"},"read_only":{"constant_value":false},"share_name":{"references":["var.environment"]},"storage_account_key":{"references":["var.storage_account.primary_access_key","var.storage_account"]},"storage_account_name":{"references":["var.storage_account.name","var.storage_account"]}}]}],"dns_name_label":{"references":["var.resource_prefix"]},"exposed_port":{"constant_value":[{"port":22,"protocol":"TCP"}]},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"ip_address_type":{"constant_value":"Public"},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"os_type":{"constant_value":"Linux"},"resource_group_name":{"references":["var.resource_group"]},"restart_policy":{"constant_value":"Always"},"tags":{"references":["var.environment"]}},"schema_version":0,"depends_on":["azurerm_storage_share.sftp"]},{"address":"azurerm_storage_share.sftp","mode":"managed","type":"azurerm_storage_share","name":"sftp","provider_config_key":"azurerm","expressions":{"name":{"references":["var.resource_prefix","each.value"]},"quota":{"constant_value":50},"storage_account_name":{"references":["var.storage_account.name","var.storage_account"]}},"schema_version":2,"for_each_expression":{"references":["local.users"]}},{"address":"data.azurerm_ssh_public_key.sftp","mode":"data","type":"azurerm_ssh_public_key","name":"sftp","provider_config_key":"azurerm","expressions":{"name":{"references":["var.environment","each.value"]},"resource_group_name":{"references":["var.resource_group"]}},"schema_version":0,"for_each_expression":{"references":["local.instance_users"]}}],"variables":{"admin_share":{"description":"Admin file share"},"cpu":{},"environment":{},"instance":{"description":"Instance name"},"instance_users":{"description":"Instances appended with usernames"},"key_vault_id":{"description":"Key Vault resource id"},"location":{"description":"Network Location"},"memory":{},"nat_gateway_id":{"description":"NAT gateway resource id"},"network_profile_id":{"description":"Network profile resource id"},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{},"scripts_share":{"description":"Startup scripts file share"},"sftp_folder":{"description":"SFTP folder name"},"sshaccess":{"description":"Usernames in SFTP access format"},"storage_account":{"description":"Storage account to host file shares"},"subnet_id":{},"users":{"description":"Usernames"}}},"depends_on":["azurerm_storage_share_file.sftp","azurerm_storage_share.sftp_scripts"]}},"variables":{"environment":{"description":"Target Environment"},"key_vault_id":{"description":"Key Vault resource id"},"location":{"description":"Function App Location"},"nat_gateway_id":{"description":"NAT gateway resource id"},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"},"sftp_dir":{"description":"SFTP Script Directory"},"sftp_folder":{"default":"default","description":"SFTP folder name"},"sftp_password":{"default":"bar","description":"Password for the SFTP site"},"sftp_user_name":{"default":"foo","description":"Username for the SFTP site"},"sshinstances":{"description":"SSH Instances"},"sshnames":{"description":"SSH Names"},"terraform_caller_ip_address":{"description":"The IP address of the Terraform script caller. This IP will have already been whitelisted; it's inclusion is to prevent its removal during terraform apply calls.","sensitive":true}}},"depends_on":["module.ssh"]},"sftp_container":{"source":"../../modules/sftp_container","expressions":{"dns_zones":{"references":["module.network.dns_zones","module.network"]},"environment":{"references":["local.init.environment","local.init"]},"location":{"references":["local.init.location","local.init"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]},"sa_primary_access_key":{"references":["module.storage.sa_primary_access_key","module.storage"]},"storage_account":{"references":["module.storage.storage_account","module.storage"]},"use_cdc_managed_vnet":{"references":["local.network.use_cdc_managed_vnet","local.network"]}},"count_expression":{"references":["local.init.environment","local.init"]},"module":{"resources":[{"address":"azurerm_container_group.sftp_container","mode":"managed","type":"azurerm_container_group","name":"sftp_container","provider_config_key":"azurerm","expressions":{"container":[{"cpu":{"constant_value":1},"environment_variables":{"constant_value":{"SFTP_USERS":"foo:pass:::upload"}},"image":{"constant_value":"atmoz/sftp:alpine"},"memory":{"constant_value":1.5},"name":{"references":["var.resource_prefix"]},"ports":[{"port":{"constant_value":22},"protocol":{"constant_value":"TCP"}}],"volume":[{"mount_path":{"constant_value":"/home/foo/upload"},"name":{"references":["var.resource_prefix"]},"share_name":{"references":["azurerm_storage_share.sftp_share.name","azurerm_storage_share.sftp_share"]},"storage_account_key":{"references":["var.sa_primary_access_key"]},"storage_account_name":{"references":["var.storage_account.name","var.storage_account"]}}]}],"exposed_port":{"constant_value":[{"port":22,"protocol":"TCP"}]},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"ip_address_type":{"constant_value":"Private"},"location":{"references":["var.location"]},"name":{"references":["var.resource_prefix"]},"network_profile_id":{"references":["azurerm_network_profile.sftp_vnet_network_profile.id","azurerm_network_profile.sftp_vnet_network_profile"]},"os_type":{"constant_value":"Linux"},"resource_group_name":{"references":["var.resource_group"]},"restart_policy":{"constant_value":"Always"},"tags":{"references":["var.environment"]}},"schema_version":0,"depends_on":["azurerm_storage_share.sftp_share","azurerm_network_profile.sftp_vnet_network_profile"]},{"address":"azurerm_network_profile.sftp_network_profile","mode":"managed","type":"azurerm_network_profile","name":"sftp_network_profile","provider_config_key":"azurerm","expressions":{"container_network_interface":[{"ip_configuration":[{"name":{"constant_value":"sftp_container_ip_configuration"},"subnet_id":{"references":["data.azurerm_subnet.container.id","data.azurerm_subnet.container"]}}],"name":{"constant_value":"sftp_container_network_interface"}}],"location":{"references":["var.location"]},"name":{"constant_value":"sftp_network_profile"},"resource_group_name":{"references":["var.resource_group"]}},"schema_version":0},{"address":"azurerm_network_profile.sftp_vnet_network_profile","mode":"managed","type":"azurerm_network_profile","name":"sftp_vnet_network_profile","provider_config_key":"azurerm","expressions":{"container_network_interface":[{"ip_configuration":[{"name":{"constant_value":"sftp_container_vnet_ip_configuration"},"subnet_id":{"references":["data.azurerm_subnet.container_subnet.id","data.azurerm_subnet.container_subnet"]}}],"name":{"constant_value":"sftp_container_vnet_network_interface"}}],"location":{"references":["var.location"]},"name":{"constant_value":"sftp_vnet_network_profile"},"resource_group_name":{"references":["var.resource_group"]}},"schema_version":0},{"address":"azurerm_private_dns_a_record.sftp_prime_local","mode":"managed","type":"azurerm_private_dns_a_record","name":"sftp_prime_local","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"sftp"},"records":{"references":["azurerm_container_group.sftp_container.ip_address","azurerm_container_group.sftp_container"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zones[\"prime\"].name","var.dns_zones[\"prime\"]","var.dns_zones"]}},"schema_version":0},{"address":"azurerm_storage_share.sftp_share","mode":"managed","type":"azurerm_storage_share","name":"sftp_share","provider_config_key":"azurerm","expressions":{"name":{"references":["var.resource_prefix"]},"storage_account_name":{"references":["var.storage_account.name","var.storage_account"]}},"schema_version":2,"depends_on":["var.storage_account"]},{"address":"data.azurerm_subnet.container","mode":"data","type":"azurerm_subnet","name":"container","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"container"},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_name":{"references":["var.resource_prefix"]}},"schema_version":0},{"address":"data.azurerm_subnet.container_subnet","mode":"data","type":"azurerm_subnet","name":"container_subnet","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"container"},"resource_group_name":{"references":["var.resource_group"]},"virtual_network_name":{"references":["var.resource_prefix"]}},"schema_version":0}],"variables":{"dns_zones":{"description":"A set of all available dns zones"},"environment":{"description":"Target Environment"},"location":{"description":"Function App Location"},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"},"sa_primary_access_key":{},"storage_account":{},"use_cdc_managed_vnet":{"description":"If the environment should be deployed to the CDC managed VNET"}}}},"ssh":{"source":"../../modules/ssh","expressions":{"environment":{"references":["local.init.environment","local.init"]},"location":{"references":["local.init.location","local.init"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]}},"module":{"outputs":{"sftp_dir":{"expression":{"references":["local.sftp_dir"]}},"sshinstances":{"expression":{"references":["local.instances"]}},"sshnames":{"expression":{"references":["local.sshnames"]}}},"resources":[{"address":"data.external.sftp_ssh_query","mode":"data","type":"external","name":"sftp_ssh_query","provider_config_key":"module.ssh:external","expressions":{"program":{"references":["local.sftp_dir"]},"query":{"references":["var.environment"]}},"schema_version":0}],"variables":{"environment":{"description":"Target Environment"},"location":{"description":"Function App Location"},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"}}}},"storage":{"source":"../../modules/storage","expressions":{"application_key_vault_id":{"references":["module.key_vault.application_key_vault_id","module.key_vault"]},"delete_pii_storage_after_days":{"references":["local.security.delete_pii_storage_after_days","local.security"]},"dns_vnet":{"references":["local.network.dns_vnet","local.network"]},"dns_zones":{"references":["module.network.dns_zones","module.network"]},"environment":{"references":["local.init.environment","local.init"]},"location":{"references":["local.init.location","local.init"]},"resource_group":{"references":["local.init.resource_group_name","local.init"]},"resource_prefix":{"references":["local.init.resource_prefix","local.init"]},"rsa_key_4096":{"references":["local.security.rsa_key_4096","local.security"]},"subnets":{"references":["module.network.subnets","module.network"]},"terraform_caller_ip_address":{"references":["local.network.terraform_caller_ip_address","local.network"]},"use_cdc_managed_vnet":{"references":["local.network.use_cdc_managed_vnet","local.network"]}},"module":{"outputs":{"sa_partner_connection_string":{"expression":{"references":["azurerm_storage_account.storage_partner.primary_connection_string","azurerm_storage_account.storage_partner"]}},"sa_primary_access_key":{"expression":{"references":["azurerm_storage_account.storage_account.primary_access_key","azurerm_storage_account.storage_account"]}},"sa_primary_connection_string":{"expression":{"references":["azurerm_storage_account.storage_account.primary_connection_string","azurerm_storage_account.storage_account"]}},"sa_public_primary_web_endpoint":{"expression":{"references":["azurerm_storage_account.storage_public.primary_web_endpoint","azurerm_storage_account.storage_public"]}},"storage_account":{"expression":{"references":["azurerm_storage_account.storage_account"]}},"storage_account_id":{"expression":{"references":["azurerm_storage_account.storage_account.id","azurerm_storage_account.storage_account"]}},"storage_partner_id":{"expression":{"references":["azurerm_storage_account.storage_partner.id","azurerm_storage_account.storage_partner"]}},"storage_public_id":{"expression":{"references":["azurerm_storage_account.storage_public.id","azurerm_storage_account.storage_public"]}}},"resources":[{"address":"azurerm_key_vault_access_policy.storage_candidate_partner_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"storage_candidate_partner_policy","provider_config_key":"azurerm","expressions":{"key_permissions":{"constant_value":["get","unwrapkey","wrapkey"]},"key_vault_id":{"references":["var.application_key_vault_id"]},"object_id":{"references":["azurerm_storage_account.storage_partner_candidate.identity[0].principal_id","azurerm_storage_account.storage_partner_candidate.identity[0]","azurerm_storage_account.storage_partner_candidate.identity","azurerm_storage_account.storage_partner_candidate"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"schema_version":0},{"address":"azurerm_key_vault_access_policy.storage_partner_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"storage_partner_policy","provider_config_key":"azurerm","expressions":{"key_permissions":{"constant_value":["get","unwrapkey","wrapkey"]},"key_vault_id":{"references":["var.application_key_vault_id"]},"object_id":{"references":["azurerm_storage_account.storage_partner.identity[0].principal_id","azurerm_storage_account.storage_partner.identity[0]","azurerm_storage_account.storage_partner.identity","azurerm_storage_account.storage_partner"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"schema_version":0},{"address":"azurerm_key_vault_access_policy.storage_policy","mode":"managed","type":"azurerm_key_vault_access_policy","name":"storage_policy","provider_config_key":"azurerm","expressions":{"key_permissions":{"constant_value":["get","unwrapkey","wrapkey"]},"key_vault_id":{"references":["var.application_key_vault_id"]},"object_id":{"references":["azurerm_storage_account.storage_account.identity[0].principal_id","azurerm_storage_account.storage_account.identity[0]","azurerm_storage_account.storage_account.identity","azurerm_storage_account.storage_account"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"schema_version":0},{"address":"azurerm_key_vault_access_policy.storage_policy_candidate","mode":"managed","type":"azurerm_key_vault_access_policy","name":"storage_policy_candidate","provider_config_key":"azurerm","expressions":{"key_permissions":{"constant_value":["get","unwrapkey","wrapkey"]},"key_vault_id":{"references":["var.application_key_vault_id"]},"object_id":{"references":["azurerm_storage_account.storage_account_candidate.identity[0].principal_id","azurerm_storage_account.storage_account_candidate.identity[0]","azurerm_storage_account.storage_account_candidate.identity","azurerm_storage_account.storage_account_candidate"]},"tenant_id":{"references":["data.azurerm_client_config.current.tenant_id","data.azurerm_client_config.current"]}},"schema_version":0},{"address":"azurerm_storage_account.storage_account","mode":"managed","type":"azurerm_storage_account","name":"storage_account","provider_config_key":"azurerm","expressions":{"account_replication_type":{"constant_value":"GRS"},"account_tier":{"constant_value":"Standard"},"allow_blob_public_access":{"constant_value":false},"enable_https_traffic_only":{"constant_value":true},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"location":{"references":["var.location"]},"min_tls_version":{"constant_value":"TLS1_2"},"name":{"references":["var.resource_prefix"]},"network_rules":[{"bypass":{"constant_value":["AzureServices"]},"default_action":{"references":["var.is_temp_env"]},"virtual_network_subnet_ids":{"references":["var.subnets.primary_subnets","var.subnets"]}}],"resource_group_name":{"references":["var.resource_group"]},"tags":{"references":["var.environment"]}},"schema_version":2},{"address":"azurerm_storage_account.storage_account_candidate","mode":"managed","type":"azurerm_storage_account","name":"storage_account_candidate","provider_config_key":"azurerm","expressions":{"account_replication_type":{"constant_value":"GRS"},"account_tier":{"constant_value":"Standard"},"allow_blob_public_access":{"constant_value":false},"enable_https_traffic_only":{"constant_value":true},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"location":{"references":["var.location"]},"min_tls_version":{"constant_value":"TLS1_2"},"name":{"references":["var.resource_prefix"]},"network_rules":[{"bypass":{"constant_value":["None"]},"default_action":{"references":["var.is_temp_env"]},"ip_rules":{"references":["var.terraform_caller_ip_address"]},"virtual_network_subnet_ids":{"references":["var.subnets.vnet_public_container_endpoint_subnets","var.subnets"]}}],"resource_group_name":{"references":["var.resource_group"]},"tags":{"references":["var.environment"]}},"schema_version":2},{"address":"azurerm_storage_account.storage_partner","mode":"managed","type":"azurerm_storage_account","name":"storage_partner","provider_config_key":"azurerm","expressions":{"account_kind":{"constant_value":"StorageV2"},"account_replication_type":{"constant_value":"GRS"},"account_tier":{"constant_value":"Standard"},"allow_blob_public_access":{"constant_value":false},"enable_https_traffic_only":{"constant_value":true},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"is_hns_enabled":{"constant_value":true},"location":{"references":["var.location"]},"min_tls_version":{"constant_value":"TLS1_2"},"name":{"references":["var.resource_prefix"]},"network_rules":[{"bypass":{"constant_value":["None"]},"default_action":{"references":["var.is_temp_env"]},"ip_rules":{"references":["data.azurerm_key_vault_secret.hhsprotect_ip_ingress.value","data.azurerm_key_vault_secret.hhsprotect_ip_ingress","data.azurerm_key_vault_secret.cyberark_ip_ingress.value","data.azurerm_key_vault_secret.cyberark_ip_ingress","var.terraform_caller_ip_address"]},"virtual_network_subnet_ids":{"references":["var.subnets.primary_public_endpoint_subnets","var.subnets"]}}],"resource_group_name":{"references":["var.resource_group"]},"tags":{"references":["var.environment"]}},"schema_version":2},{"address":"azurerm_storage_account.storage_partner_candidate","mode":"managed","type":"azurerm_storage_account","name":"storage_partner_candidate","provider_config_key":"azurerm","expressions":{"account_kind":{"constant_value":"StorageV2"},"account_replication_type":{"constant_value":"GRS"},"account_tier":{"constant_value":"Standard"},"allow_blob_public_access":{"constant_value":false},"enable_https_traffic_only":{"constant_value":true},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"is_hns_enabled":{"constant_value":true},"location":{"references":["var.location"]},"min_tls_version":{"constant_value":"TLS1_2"},"name":{"references":["var.resource_prefix"]},"network_rules":[{"bypass":{"constant_value":["None"]},"default_action":{"references":["var.is_temp_env"]},"ip_rules":{"references":["var.terraform_caller_ip_address"]},"virtual_network_subnet_ids":{"references":["var.subnets.primary_public_endpoint_subnets","var.subnets"]}}],"resource_group_name":{"references":["var.resource_group"]},"tags":{"references":["var.environment"]}},"schema_version":2},{"address":"azurerm_storage_account.storage_public","mode":"managed","type":"azurerm_storage_account","name":"storage_public","provider_config_key":"azurerm","expressions":{"account_kind":{"constant_value":"StorageV2"},"account_replication_type":{"constant_value":"GRS"},"account_tier":{"constant_value":"Standard"},"allow_blob_public_access":{"constant_value":false},"enable_https_traffic_only":{"constant_value":true},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"location":{"references":["var.location"]},"min_tls_version":{"constant_value":"TLS1_2"},"name":{"references":["var.resource_prefix"]},"network_rules":[{"default_action":{"constant_value":"Allow"}}],"resource_group_name":{"references":["var.resource_group"]},"static_website":[{"error_404_document":{"constant_value":"404.html"},"index_document":{"constant_value":"index.html"}}],"tags":{"references":["var.environment"]}},"schema_version":2},{"address":"azurerm_storage_account_customer_managed_key.storage_candidate_partner_key","mode":"managed","type":"azurerm_storage_account_customer_managed_key","name":"storage_candidate_partner_key","provider_config_key":"azurerm","expressions":{"key_name":{"references":["var.rsa_key_4096"]},"key_vault_id":{"references":["var.application_key_vault_id"]},"key_version":{"constant_value":null},"storage_account_id":{"references":["azurerm_storage_account.storage_partner_candidate.id","azurerm_storage_account.storage_partner_candidate"]}},"schema_version":0,"count_expression":{"references":["var.rsa_key_4096","var.rsa_key_4096"]},"depends_on":["azurerm_key_vault_access_policy.storage_candidate_partner_policy"]},{"address":"azurerm_storage_account_customer_managed_key.storage_key","mode":"managed","type":"azurerm_storage_account_customer_managed_key","name":"storage_key","provider_config_key":"azurerm","expressions":{"key_name":{"references":["var.rsa_key_4096"]},"key_vault_id":{"references":["var.application_key_vault_id"]},"key_version":{"constant_value":null},"storage_account_id":{"references":["azurerm_storage_account.storage_account.id","azurerm_storage_account.storage_account"]}},"schema_version":0,"count_expression":{"references":["var.rsa_key_4096","var.rsa_key_4096"]},"depends_on":["azurerm_key_vault_access_policy.storage_policy"]},{"address":"azurerm_storage_account_customer_managed_key.storage_key_candidate","mode":"managed","type":"azurerm_storage_account_customer_managed_key","name":"storage_key_candidate","provider_config_key":"azurerm","expressions":{"key_name":{"references":["var.rsa_key_4096"]},"key_vault_id":{"references":["var.application_key_vault_id"]},"key_version":{"constant_value":null},"storage_account_id":{"references":["azurerm_storage_account.storage_account_candidate.id","azurerm_storage_account.storage_account_candidate"]}},"schema_version":0,"count_expression":{"references":["var.rsa_key_4096","var.rsa_key_4096"]},"depends_on":["azurerm_key_vault_access_policy.storage_policy_candidate"]},{"address":"azurerm_storage_account_customer_managed_key.storage_partner_key","mode":"managed","type":"azurerm_storage_account_customer_managed_key","name":"storage_partner_key","provider_config_key":"azurerm","expressions":{"key_name":{"references":["var.rsa_key_4096"]},"key_vault_id":{"references":["var.application_key_vault_id"]},"key_version":{"constant_value":null},"storage_account_id":{"references":["azurerm_storage_account.storage_partner.id","azurerm_storage_account.storage_partner"]}},"schema_version":0,"count_expression":{"references":["var.rsa_key_4096","var.rsa_key_4096"]},"depends_on":["azurerm_key_vault_access_policy.storage_partner_policy"]},{"address":"azurerm_storage_container.storage_candidate_container_hhsprotect","mode":"managed","type":"azurerm_storage_container","name":"storage_candidate_container_hhsprotect","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"hhsprotect"},"storage_account_name":{"references":["azurerm_storage_account.storage_partner_candidate.name","azurerm_storage_account.storage_partner_candidate"]}},"schema_version":1},{"address":"azurerm_storage_container.storage_container_dcipher","mode":"managed","type":"azurerm_storage_container","name":"storage_container_dcipher","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"dcipher"},"storage_account_name":{"references":["azurerm_storage_account.storage_partner.name","azurerm_storage_account.storage_partner"]}},"schema_version":1},{"address":"azurerm_storage_container.storage_container_hhsprotect","mode":"managed","type":"azurerm_storage_container","name":"storage_container_hhsprotect","provider_config_key":"azurerm","expressions":{"name":{"constant_value":"hhsprotect"},"storage_account_name":{"references":["azurerm_storage_account.storage_partner.name","azurerm_storage_account.storage_partner"]}},"schema_version":1},{"address":"azurerm_storage_management_policy.retention_policy","mode":"managed","type":"azurerm_storage_management_policy","name":"retention_policy","provider_config_key":"azurerm","expressions":{"rule":[{"actions":[{"snapshot":[{"delete_after_days_since_creation_greater_than":{"references":["var.delete_pii_storage_after_days"]}}]}],"enabled":{"constant_value":true},"filters":[{"blob_types":{"constant_value":["blockBlob","appendBlob"]},"prefix_match":{"constant_value":["reports/"]}}],"name":{"constant_value":"piiretention"}}],"storage_account_id":{"references":["azurerm_storage_account.storage_account.id","azurerm_storage_account.storage_account"]}},"schema_version":0},{"address":"azurerm_storage_management_policy.retention_policy_candidate","mode":"managed","type":"azurerm_storage_management_policy","name":"retention_policy_candidate","provider_config_key":"azurerm","expressions":{"rule":[{"actions":[{"snapshot":[{"delete_after_days_since_creation_greater_than":{"references":["var.delete_pii_storage_after_days"]}}]}],"enabled":{"constant_value":true},"filters":[{"blob_types":{"constant_value":["blockBlob","appendBlob"]},"prefix_match":{"constant_value":["reports/"]}}],"name":{"constant_value":"piiretention"}}],"storage_account_id":{"references":["azurerm_storage_account.storage_account_candidate.id","azurerm_storage_account.storage_account_candidate"]}},"schema_version":0},{"address":"azurerm_storage_management_policy.storage_candidate_partner_retention_policy","mode":"managed","type":"azurerm_storage_management_policy","name":"storage_candidate_partner_retention_policy","provider_config_key":"azurerm","expressions":{"rule":[{"actions":[{"snapshot":[{"delete_after_days_since_creation_greater_than":{"constant_value":30}}]}],"enabled":{"constant_value":true},"filters":[{"blob_types":{"constant_value":["blockBlob","appendBlob"]},"prefix_match":{"constant_value":["hhsprotect/"]}}],"name":{"constant_value":"30dayretention"}}],"storage_account_id":{"references":["azurerm_storage_account.storage_partner_candidate.id","azurerm_storage_account.storage_partner_candidate"]}},"schema_version":0},{"address":"azurerm_storage_management_policy.storage_partner_retention_policy","mode":"managed","type":"azurerm_storage_management_policy","name":"storage_partner_retention_policy","provider_config_key":"azurerm","expressions":{"rule":[{"actions":[{"snapshot":[{"delete_after_days_since_creation_greater_than":{"constant_value":30}}]}],"enabled":{"constant_value":true},"filters":[{"blob_types":{"constant_value":["blockBlob","appendBlob"]},"prefix_match":{"constant_value":["hhsprotect/"]}}],"name":{"constant_value":"30dayretention"}}],"storage_account_id":{"references":["azurerm_storage_account.storage_partner.id","azurerm_storage_account.storage_partner"]}},"schema_version":0},{"address":"azurerm_storage_queue.storage_queue","mode":"managed","type":"azurerm_storage_queue","name":"storage_queue","provider_config_key":"azurerm","expressions":{"name":{"references":["each.value"]},"storage_account_name":{"references":["azurerm_storage_account.storage_account.name","azurerm_storage_account.storage_account"]}},"schema_version":1,"for_each_expression":{"references":["var.storage_queue_name"]}},{"address":"data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_config_key":"azurerm","schema_version":0},{"address":"data.azurerm_key_vault_secret.cyberark_ip_ingress","mode":"data","type":"azurerm_key_vault_secret","name":"cyberark_ip_ingress","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["var.application_key_vault_id"]},"name":{"constant_value":"cyberark-ip-ingress"}},"schema_version":0},{"address":"data.azurerm_key_vault_secret.hhsprotect_ip_ingress","mode":"data","type":"azurerm_key_vault_secret","name":"hhsprotect_ip_ingress","provider_config_key":"azurerm","expressions":{"key_vault_id":{"references":["var.application_key_vault_id"]},"name":{"constant_value":"hhsprotect-ip-ingress"}},"schema_version":0}],"module_calls":{"storageaccount_blob_private_endpoint":{"source":"../common/private_endpoint","expressions":{"dns_vnet":{"references":["var.dns_vnet"]},"dns_zone":{"references":["var.dns_zones[\"blob\"].name","var.dns_zones[\"blob\"]","var.dns_zones"]},"endpoint_subnet_ids":{"references":["each.value"]},"location":{"references":["var.location"]},"name":{"references":["azurerm_storage_account.storage_account.name","azurerm_storage_account.storage_account"]},"resource_group":{"references":["var.resource_group"]},"resource_id":{"references":["azurerm_storage_account.storage_account.id","azurerm_storage_account.storage_account"]},"resource_prefix":{"references":["var.resource_prefix"]},"type":{"constant_value":"storage_account_blob"}},"for_each_expression":{"references":["var.subnets.primary_endpoint_subnets","var.subnets"]},"module":{"resources":[{"address":"azurerm_private_dns_a_record.endpoint_dns","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","provider_config_key":"azurerm","expressions":{"name":{"references":["var.name"]},"records":{"references":["azurerm_private_endpoint.endpoint.private_service_connection[0].private_ip_address","azurerm_private_endpoint.endpoint.private_service_connection[0]","azurerm_private_endpoint.endpoint.private_service_connection","azurerm_private_endpoint.endpoint"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zone"]}},"schema_version":0,"for_each_expression":{"references":["var.resource_prefix","var.dns_vnet","var.endpoint_subnet_ids"]}},{"address":"azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_connection_resource_id":{"references":["var.resource_id"]},"subresource_names":{"references":["local.option.subresource_names","local.option"]}}],"resource_group_name":{"references":["var.resource_group"]},"subnet_id":{"references":["var.endpoint_subnet_ids"]}},"schema_version":0}],"variables":{"dns_vnet":{},"dns_zone":{},"endpoint_subnet_id_for_dns":{"default":"","description":"The endpoint the DNS record should point to"},"endpoint_subnet_ids":{"description":"Private Endpoint Subnet ID(s)"},"location":{"description":"Network Location"},"name":{"description":"The name of the resource for which an endpoint will be created"},"resource_group":{"description":"Resource Group Name"},"resource_id":{"description":"ID of the resource for which an endpoint will be created"},"resource_prefix":{},"type":{"description":"Type of private endpoint to create. Options include: key_vault"}}}},"storageaccount_candidate_blob_private_endpoint":{"source":"../common/private_endpoint","expressions":{"dns_vnet":{"references":["var.dns_vnet"]},"dns_zone":{"references":["var.dns_zones[\"blob\"].name","var.dns_zones[\"blob\"]","var.dns_zones"]},"endpoint_subnet_ids":{"references":["each.value"]},"location":{"references":["var.location"]},"name":{"references":["azurerm_storage_account.storage_account_candidate.name","azurerm_storage_account.storage_account_candidate"]},"resource_group":{"references":["var.resource_group"]},"resource_id":{"references":["azurerm_storage_account.storage_account_candidate.id","azurerm_storage_account.storage_account_candidate"]},"resource_prefix":{"references":["var.resource_prefix"]},"type":{"constant_value":"storage_account_blob"}},"for_each_expression":{"references":["var.subnets.primary_endpoint_subnets","var.subnets"]},"module":{"resources":[{"address":"azurerm_private_dns_a_record.endpoint_dns","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","provider_config_key":"azurerm","expressions":{"name":{"references":["var.name"]},"records":{"references":["azurerm_private_endpoint.endpoint.private_service_connection[0].private_ip_address","azurerm_private_endpoint.endpoint.private_service_connection[0]","azurerm_private_endpoint.endpoint.private_service_connection","azurerm_private_endpoint.endpoint"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zone"]}},"schema_version":0,"for_each_expression":{"references":["var.resource_prefix","var.dns_vnet","var.endpoint_subnet_ids"]}},{"address":"azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_connection_resource_id":{"references":["var.resource_id"]},"subresource_names":{"references":["local.option.subresource_names","local.option"]}}],"resource_group_name":{"references":["var.resource_group"]},"subnet_id":{"references":["var.endpoint_subnet_ids"]}},"schema_version":0}],"variables":{"dns_vnet":{},"dns_zone":{},"endpoint_subnet_id_for_dns":{"default":"","description":"The endpoint the DNS record should point to"},"endpoint_subnet_ids":{"description":"Private Endpoint Subnet ID(s)"},"location":{"description":"Network Location"},"name":{"description":"The name of the resource for which an endpoint will be created"},"resource_group":{"description":"Resource Group Name"},"resource_id":{"description":"ID of the resource for which an endpoint will be created"},"resource_prefix":{},"type":{"description":"Type of private endpoint to create. Options include: key_vault"}}}},"storageaccount_candidate_file_private_endpoint":{"source":"../common/private_endpoint","expressions":{"dns_vnet":{"references":["var.dns_vnet"]},"dns_zone":{"references":["var.dns_zones[\"file\"].name","var.dns_zones[\"file\"]","var.dns_zones"]},"endpoint_subnet_ids":{"references":["each.value"]},"location":{"references":["var.location"]},"name":{"references":["azurerm_storage_account.storage_account_candidate.name","azurerm_storage_account.storage_account_candidate"]},"resource_group":{"references":["var.resource_group"]},"resource_id":{"references":["azurerm_storage_account.storage_account_candidate.id","azurerm_storage_account.storage_account_candidate"]},"resource_prefix":{"references":["var.resource_prefix"]},"type":{"constant_value":"storage_account_file"}},"for_each_expression":{"references":["var.subnets.primary_endpoint_subnets","var.subnets"]},"module":{"resources":[{"address":"azurerm_private_dns_a_record.endpoint_dns","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","provider_config_key":"azurerm","expressions":{"name":{"references":["var.name"]},"records":{"references":["azurerm_private_endpoint.endpoint.private_service_connection[0].private_ip_address","azurerm_private_endpoint.endpoint.private_service_connection[0]","azurerm_private_endpoint.endpoint.private_service_connection","azurerm_private_endpoint.endpoint"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zone"]}},"schema_version":0,"for_each_expression":{"references":["var.resource_prefix","var.dns_vnet","var.endpoint_subnet_ids"]}},{"address":"azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_connection_resource_id":{"references":["var.resource_id"]},"subresource_names":{"references":["local.option.subresource_names","local.option"]}}],"resource_group_name":{"references":["var.resource_group"]},"subnet_id":{"references":["var.endpoint_subnet_ids"]}},"schema_version":0}],"variables":{"dns_vnet":{},"dns_zone":{},"endpoint_subnet_id_for_dns":{"default":"","description":"The endpoint the DNS record should point to"},"endpoint_subnet_ids":{"description":"Private Endpoint Subnet ID(s)"},"location":{"description":"Network Location"},"name":{"description":"The name of the resource for which an endpoint will be created"},"resource_group":{"description":"Resource Group Name"},"resource_id":{"description":"ID of the resource for which an endpoint will be created"},"resource_prefix":{},"type":{"description":"Type of private endpoint to create. Options include: key_vault"}}}},"storageaccount_candidate_queue_private_endpoint":{"source":"../common/private_endpoint","expressions":{"dns_vnet":{"references":["var.dns_vnet"]},"dns_zone":{"references":["var.dns_zones[\"queue\"].name","var.dns_zones[\"queue\"]","var.dns_zones"]},"endpoint_subnet_ids":{"references":["each.value"]},"location":{"references":["var.location"]},"name":{"references":["azurerm_storage_account.storage_account_candidate.name","azurerm_storage_account.storage_account_candidate"]},"resource_group":{"references":["var.resource_group"]},"resource_id":{"references":["azurerm_storage_account.storage_account_candidate.id","azurerm_storage_account.storage_account_candidate"]},"resource_prefix":{"references":["var.resource_prefix"]},"type":{"constant_value":"storage_account_queue"}},"for_each_expression":{"references":["var.subnets.primary_endpoint_subnets","var.subnets"]},"module":{"resources":[{"address":"azurerm_private_dns_a_record.endpoint_dns","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","provider_config_key":"azurerm","expressions":{"name":{"references":["var.name"]},"records":{"references":["azurerm_private_endpoint.endpoint.private_service_connection[0].private_ip_address","azurerm_private_endpoint.endpoint.private_service_connection[0]","azurerm_private_endpoint.endpoint.private_service_connection","azurerm_private_endpoint.endpoint"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zone"]}},"schema_version":0,"for_each_expression":{"references":["var.resource_prefix","var.dns_vnet","var.endpoint_subnet_ids"]}},{"address":"azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_connection_resource_id":{"references":["var.resource_id"]},"subresource_names":{"references":["local.option.subresource_names","local.option"]}}],"resource_group_name":{"references":["var.resource_group"]},"subnet_id":{"references":["var.endpoint_subnet_ids"]}},"schema_version":0}],"variables":{"dns_vnet":{},"dns_zone":{},"endpoint_subnet_id_for_dns":{"default":"","description":"The endpoint the DNS record should point to"},"endpoint_subnet_ids":{"description":"Private Endpoint Subnet ID(s)"},"location":{"description":"Network Location"},"name":{"description":"The name of the resource for which an endpoint will be created"},"resource_group":{"description":"Resource Group Name"},"resource_id":{"description":"ID of the resource for which an endpoint will be created"},"resource_prefix":{},"type":{"description":"Type of private endpoint to create. Options include: key_vault"}}}},"storageaccount_file_private_endpoint":{"source":"../common/private_endpoint","expressions":{"dns_vnet":{"references":["var.dns_vnet"]},"dns_zone":{"references":["var.dns_zones[\"file\"].name","var.dns_zones[\"file\"]","var.dns_zones"]},"endpoint_subnet_ids":{"references":["each.value"]},"location":{"references":["var.location"]},"name":{"references":["azurerm_storage_account.storage_account.name","azurerm_storage_account.storage_account"]},"resource_group":{"references":["var.resource_group"]},"resource_id":{"references":["azurerm_storage_account.storage_account.id","azurerm_storage_account.storage_account"]},"resource_prefix":{"references":["var.resource_prefix"]},"type":{"constant_value":"storage_account_file"}},"for_each_expression":{"references":["var.subnets.primary_endpoint_subnets","var.subnets"]},"module":{"resources":[{"address":"azurerm_private_dns_a_record.endpoint_dns","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","provider_config_key":"azurerm","expressions":{"name":{"references":["var.name"]},"records":{"references":["azurerm_private_endpoint.endpoint.private_service_connection[0].private_ip_address","azurerm_private_endpoint.endpoint.private_service_connection[0]","azurerm_private_endpoint.endpoint.private_service_connection","azurerm_private_endpoint.endpoint"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zone"]}},"schema_version":0,"for_each_expression":{"references":["var.resource_prefix","var.dns_vnet","var.endpoint_subnet_ids"]}},{"address":"azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_connection_resource_id":{"references":["var.resource_id"]},"subresource_names":{"references":["local.option.subresource_names","local.option"]}}],"resource_group_name":{"references":["var.resource_group"]},"subnet_id":{"references":["var.endpoint_subnet_ids"]}},"schema_version":0}],"variables":{"dns_vnet":{},"dns_zone":{},"endpoint_subnet_id_for_dns":{"default":"","description":"The endpoint the DNS record should point to"},"endpoint_subnet_ids":{"description":"Private Endpoint Subnet ID(s)"},"location":{"description":"Network Location"},"name":{"description":"The name of the resource for which an endpoint will be created"},"resource_group":{"description":"Resource Group Name"},"resource_id":{"description":"ID of the resource for which an endpoint will be created"},"resource_prefix":{},"type":{"description":"Type of private endpoint to create. Options include: key_vault"}}}},"storageaccount_queue_private_endpoint":{"source":"../common/private_endpoint","expressions":{"dns_vnet":{"references":["var.dns_vnet"]},"dns_zone":{"references":["var.dns_zones[\"queue\"].name","var.dns_zones[\"queue\"]","var.dns_zones"]},"endpoint_subnet_ids":{"references":["each.value"]},"location":{"references":["var.location"]},"name":{"references":["azurerm_storage_account.storage_account.name","azurerm_storage_account.storage_account"]},"resource_group":{"references":["var.resource_group"]},"resource_id":{"references":["azurerm_storage_account.storage_account.id","azurerm_storage_account.storage_account"]},"resource_prefix":{"references":["var.resource_prefix"]},"type":{"constant_value":"storage_account_queue"}},"for_each_expression":{"references":["var.subnets.primary_endpoint_subnets","var.subnets"]},"module":{"resources":[{"address":"azurerm_private_dns_a_record.endpoint_dns","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","provider_config_key":"azurerm","expressions":{"name":{"references":["var.name"]},"records":{"references":["azurerm_private_endpoint.endpoint.private_service_connection[0].private_ip_address","azurerm_private_endpoint.endpoint.private_service_connection[0]","azurerm_private_endpoint.endpoint.private_service_connection","azurerm_private_endpoint.endpoint"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zone"]}},"schema_version":0,"for_each_expression":{"references":["var.resource_prefix","var.dns_vnet","var.endpoint_subnet_ids"]}},{"address":"azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_connection_resource_id":{"references":["var.resource_id"]},"subresource_names":{"references":["local.option.subresource_names","local.option"]}}],"resource_group_name":{"references":["var.resource_group"]},"subnet_id":{"references":["var.endpoint_subnet_ids"]}},"schema_version":0}],"variables":{"dns_vnet":{},"dns_zone":{},"endpoint_subnet_id_for_dns":{"default":"","description":"The endpoint the DNS record should point to"},"endpoint_subnet_ids":{"description":"Private Endpoint Subnet ID(s)"},"location":{"description":"Network Location"},"name":{"description":"The name of the resource for which an endpoint will be created"},"resource_group":{"description":"Resource Group Name"},"resource_id":{"description":"ID of the resource for which an endpoint will be created"},"resource_prefix":{},"type":{"description":"Type of private endpoint to create. Options include: key_vault"}}}},"storageaccountcandidatepartner_blob_private_endpoint":{"source":"../common/private_endpoint","expressions":{"dns_vnet":{"references":["var.dns_vnet"]},"dns_zone":{"references":["var.dns_zones[\"blob\"].name","var.dns_zones[\"blob\"]","var.dns_zones"]},"endpoint_subnet_ids":{"references":["each.value"]},"location":{"references":["var.location"]},"name":{"references":["azurerm_storage_account.storage_partner_candidate.name","azurerm_storage_account.storage_partner_candidate"]},"resource_group":{"references":["var.resource_group"]},"resource_id":{"references":["azurerm_storage_account.storage_partner_candidate.id","azurerm_storage_account.storage_partner_candidate"]},"resource_prefix":{"references":["var.resource_prefix"]},"type":{"constant_value":"storage_account_blob"}},"for_each_expression":{"references":["var.subnets.primary_endpoint_subnets","var.subnets"]},"module":{"resources":[{"address":"azurerm_private_dns_a_record.endpoint_dns","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","provider_config_key":"azurerm","expressions":{"name":{"references":["var.name"]},"records":{"references":["azurerm_private_endpoint.endpoint.private_service_connection[0].private_ip_address","azurerm_private_endpoint.endpoint.private_service_connection[0]","azurerm_private_endpoint.endpoint.private_service_connection","azurerm_private_endpoint.endpoint"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zone"]}},"schema_version":0,"for_each_expression":{"references":["var.resource_prefix","var.dns_vnet","var.endpoint_subnet_ids"]}},{"address":"azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_connection_resource_id":{"references":["var.resource_id"]},"subresource_names":{"references":["local.option.subresource_names","local.option"]}}],"resource_group_name":{"references":["var.resource_group"]},"subnet_id":{"references":["var.endpoint_subnet_ids"]}},"schema_version":0}],"variables":{"dns_vnet":{},"dns_zone":{},"endpoint_subnet_id_for_dns":{"default":"","description":"The endpoint the DNS record should point to"},"endpoint_subnet_ids":{"description":"Private Endpoint Subnet ID(s)"},"location":{"description":"Network Location"},"name":{"description":"The name of the resource for which an endpoint will be created"},"resource_group":{"description":"Resource Group Name"},"resource_id":{"description":"ID of the resource for which an endpoint will be created"},"resource_prefix":{},"type":{"description":"Type of private endpoint to create. Options include: key_vault"}}}},"storageaccountpartner_blob_private_endpoint":{"source":"../common/private_endpoint","expressions":{"dns_vnet":{"references":["var.dns_vnet"]},"dns_zone":{"references":["var.dns_zones[\"blob\"].name","var.dns_zones[\"blob\"]","var.dns_zones"]},"endpoint_subnet_ids":{"references":["each.value"]},"location":{"references":["var.location"]},"name":{"references":["azurerm_storage_account.storage_partner.name","azurerm_storage_account.storage_partner"]},"resource_group":{"references":["var.resource_group"]},"resource_id":{"references":["azurerm_storage_account.storage_partner.id","azurerm_storage_account.storage_partner"]},"resource_prefix":{"references":["var.resource_prefix"]},"type":{"constant_value":"storage_account_blob"}},"for_each_expression":{"references":["var.subnets.primary_endpoint_subnets","var.subnets"]},"module":{"resources":[{"address":"azurerm_private_dns_a_record.endpoint_dns","mode":"managed","type":"azurerm_private_dns_a_record","name":"endpoint_dns","provider_config_key":"azurerm","expressions":{"name":{"references":["var.name"]},"records":{"references":["azurerm_private_endpoint.endpoint.private_service_connection[0].private_ip_address","azurerm_private_endpoint.endpoint.private_service_connection[0]","azurerm_private_endpoint.endpoint.private_service_connection","azurerm_private_endpoint.endpoint"]},"resource_group_name":{"references":["var.resource_group"]},"ttl":{"constant_value":60},"zone_name":{"references":["var.dns_zone"]}},"schema_version":0,"for_each_expression":{"references":["var.resource_prefix","var.dns_vnet","var.endpoint_subnet_ids"]}},{"address":"azurerm_private_endpoint.endpoint","mode":"managed","type":"azurerm_private_endpoint","name":"endpoint","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_service_connection":[{"is_manual_connection":{"constant_value":false},"name":{"references":["var.name","var.type","var.endpoint_subnet_ids"]},"private_connection_resource_id":{"references":["var.resource_id"]},"subresource_names":{"references":["local.option.subresource_names","local.option"]}}],"resource_group_name":{"references":["var.resource_group"]},"subnet_id":{"references":["var.endpoint_subnet_ids"]}},"schema_version":0}],"variables":{"dns_vnet":{},"dns_zone":{},"endpoint_subnet_id_for_dns":{"default":"","description":"The endpoint the DNS record should point to"},"endpoint_subnet_ids":{"description":"Private Endpoint Subnet ID(s)"},"location":{"description":"Network Location"},"name":{"description":"The name of the resource for which an endpoint will be created"},"resource_group":{"description":"Resource Group Name"},"resource_id":{"description":"ID of the resource for which an endpoint will be created"},"resource_prefix":{},"type":{"description":"Type of private endpoint to create. Options include: key_vault"}}}}},"variables":{"application_key_vault_id":{},"delete_pii_storage_after_days":{"description":"Number of days after which we'll delete PII-related blobs from the storage account"},"dns_vnet":{},"dns_zones":{"description":"A set of all available dns zones"},"environment":{"description":"Target Environment"},"is_temp_env":{"default":false,"description":"Is a temporary environment. true or false"},"location":{"description":"Storage Account Location"},"resource_group":{"description":"Resource Group Name"},"resource_prefix":{"description":"Resource Prefix"},"rsa_key_4096":{"description":"Name of the 2048 length RSA key in the Key Vault. Omitting will use Azure-managed key instead of a customer-key."},"storage_queue_name":{"default":["process","batch","batch-poison","process-poison","send","send-poison"],"description":"Default storage queue names that will be created in the storage account."},"subnets":{"description":"A set of all available subnet combinations"},"terraform_caller_ip_address":{"description":"The IP address of the Terraform script caller. This IP will have already been whitelisted; it's inclusion is to prevent its removal during terraform apply calls.","sensitive":true},"use_cdc_managed_vnet":{"description":"If the environment should be deployed to the CDC managed VNET"}}}}}}},"relevant_attributes":[{"resource":"module.azure_dashboard-copy.data.azurerm_subscription.current","attribute":["subscription_id"]}]}
