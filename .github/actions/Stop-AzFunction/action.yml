inputs:
  - name: resourceGroupName
    type: string
  - name: functionAppName
    type: string
  - name: functionName
    type: string
  - name: subscription
    type: string
  - name: EnvName
    type: string

runs:
  using: "composite"
  steps:
    - name: Stop funciton
      id: stop-function
      shell: pwsh
      run: |
        $funcApp = Get-AzFunctionApp -ResourceGroupName ${{ inputs.resourceGroupName }} -Name ${{ inputs.functionAppName }}
        $doesAppExist = ($funcApp -ne $null)
        Write-Host "##vso[task.setvariable variable=DoesAppExist]$doesAppExist"
    # - uses: azure/appservice-settings@v1
    #   with:
    #     app-name: ${{ inputs.functionAppName }}
    #     app-settings-json: |
    #       [
    #         {
    #           "name": "AzureWebJobs.${{ inputs.functionName }}.Disabled",
    #           "value": true,
    #           "slotSetting": false
    #         }
    #       ]
    #   id: settings

  