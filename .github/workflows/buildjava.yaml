name: Build java

on: push
jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: checkout repo
      uses: actions/checkout@2541b1294d2704b0964813337f33b291d3f8596b
    - name: set up JDK 11
      uses: actions/setup-java@v1
      with:
        java-version: 11
    - name: build prime-router java code
      uses: github/codeql-action/init@v2
      with:
        languages: Java
        
    - run: |
        pushd prime-router
        chmod +x gradlew
        ./gradlew clean
        popd
    - name: Perform CodeQL Analysis
      uses: github/codeql-action/analyze@v2